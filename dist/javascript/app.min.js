var COOKIE_NAMES={PREFERENCES_SET:"cookies_preferences_set",POLICY:"cookies_policy",GA:"_ga",GA_GID:"_gid",GA_GAT:"_gat",USER_BANNER_LAST_SEEN:"user_banner_last_seen"},GOVUK_COOKIE_OPTIONS={expires:365,secure:!0,domain:".education.gov.uk"},GovUKCookie={getRaw:function(e){if(window.Cookies)return window.Cookies.get(e)},get:function(e){if(window.Cookies){var t=window.Cookies.get(e);return t?JSON.parse(t):t}},set:function(e,t){if(window.Cookies)return window.Cookies.set(e,t,GOVUK_COOKIE_OPTIONS)},remove:function(e){if(window.Cookies)return window.Cookies.remove(e,GOVUK_COOKIE_OPTIONS)}};function checkConditionForUsersBanner(){var e=GovUKCookie.getRaw(COOKIE_NAMES.USER_BANNER_LAST_SEEN);return!e||((new Date).getTime()-e)/864e5>90}function showReviewUsersBanner(){$("#review-users-banner").show()}function setReviewUsersBannerLastSeen(){GovUKCookie.set(COOKIE_NAMES.USER_BANNER_LAST_SEEN,(new Date).getTime())}function loadReviewUsersBanner(){checkConditionForUsersBanner()&&showReviewUsersBanner()}function updateCookieReviewUsersBanner(){checkConditionForUsersBanner()&&setReviewUsersBannerLastSeen()}GovUKCookie.remove(COOKIE_NAMES.POLICY),GovUKCookie.remove(COOKIE_NAMES.PREFERENCES_SET),GovUKCookie.remove(COOKIE_NAMES.GA),GovUKCookie.remove(COOKIE_NAMES.GA_GAT),GovUKCookie.remove(COOKIE_NAMES.GA_GID),function(e){"use strict";var t=e.GOVUK||{};t.details={NATIVE_DETAILS:"boolean"==typeof document.createElement("details").open,KEY_ENTER:13,KEY_SPACE:32,started:!1,addEvent:function(e,t,n){e.addEventListener?e.addEventListener(t,(function(e){n(e,e.target)}),!1):e.attachEvent&&e.attachEvent("on"+t,(function(e){n(e,e.srcElement)}))},removeEvent:function(e,t){e.removeEventListener?e.removeEventListener(t,(function(e){}),!1):e.detachEvent&&e.detachEvent("on"+t,(function(e){}))},charCode:function(e){return"number"==typeof e.which?e.which:e.keyCode},preventDefault:function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},addClickEvent:function(e,n){t.details.addEvent(e,"keypress",(function(e,a){t.details.charCode(e)!==t.details.KEY_ENTER&&t.details.charCode(e)!==t.details.KEY_SPACE||"summary"===a.nodeName.toLowerCase()&&(t.details.preventDefault(e),a.click?a.click():n(e,a))})),t.details.addEvent(e,"keyup",(function(e,n){t.details.charCode(e)===t.details.KEY_SPACE&&"SUMMARY"===n.nodeName&&t.details.preventDefault(e)})),t.details.addEvent(e,"click",(function(e,t){n(e,t)}))},getAncestor:function(e,t){do{if(!e||e.nodeName.toLowerCase()===t)break;e=e.parentNode}while(e);return e},addDetailsPolyfill:function(e,n){if(n=n||document.body,!t.details.started&&(t.details.started=!0,0!==(e=n.getElementsByTagName("details")).length)){for(var a=e.length,i=0;i<a;i++){var o=e[i];if(o.__summary=o.getElementsByTagName("summary").item(0),o.__content=o.getElementsByTagName("div").item(0),!o.__summary||!o.__content)return;o.__content.id||(o.__content.id="details-content-"+i),o.setAttribute("role","group"),o.__summary.setAttribute("role","button"),o.__summary.setAttribute("aria-controls",o.__content.id),t.details.NATIVE_DETAILS||(o.__summary.tabIndex=0);var r=null!==o.getAttribute("open");if(!0===r?(o.__summary.setAttribute("aria-expanded","true"),o.__content.setAttribute("aria-hidden","false")):(o.__summary.setAttribute("aria-expanded","false"),o.__content.setAttribute("aria-hidden","true"),t.details.NATIVE_DETAILS||(o.__content.style.display="none")),o.__summary.__details=o,!t.details.NATIVE_DETAILS){var s=document.createElement("i");!0===r?(s.className="arrow arrow-open",s.appendChild(document.createTextNode("▼"))):(s.className="arrow arrow-closed",s.appendChild(document.createTextNode("►"))),o.__summary.__twisty=o.__summary.insertBefore(s,o.__summary.firstChild),o.__summary.__twisty.setAttribute("aria-hidden","true")}}t.details.addClickEvent(n,(function(e,n){return!(n=t.details.getAncestor(n,"summary"))||t.details.statechange(n)}))}},statechange:function(e){var n="true"===e.__details.__summary.getAttribute("aria-expanded"),a="true"===e.__details.__content.getAttribute("aria-hidden");(e.__details.__summary.setAttribute("aria-expanded",n?"false":"true"),e.__details.__content.setAttribute("aria-hidden",a?"false":"true"),t.details.NATIVE_DETAILS)||(e.__details.__content.style.display=n?"none":"",null!==e.__details.getAttribute("open")?e.__details.removeAttribute("open"):e.__details.setAttribute("open","open"));return e.__twisty&&(e.__twisty.firstChild.nodeValue=n?"►":"▼",e.__twisty.setAttribute("class",n?"arrow arrow-closed":"arrow arrow-open")),!0},destroy:function(e){t.details.removeEvent(e,"click")},init:function(e){t.details.addEvent(document,"DOMContentLoaded",t.details.addDetailsPolyfill),t.details.addEvent(window,"load",t.details.addDetailsPolyfill)}},e.GOVUK=t}(window);var NSA=NSA||{};const filterBoxes=$(".filter-box");function getParameterByName(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}function sortTable(e){var t,n,a,i,o,r,s,d,l=0;for(t=$("table.sortable"),a=!0,d="a";a;){for(a=!1,n=t.find("tr"),i=1;i<n.length-1;i++)if(s=!1,o=n[i].getElementsByTagName("TD")[e],r=n[i+1].getElementsByTagName("TD")[e],"a"===d){if(o.innerHTML.toLowerCase()>r.innerHTML.toLowerCase()){s=!0;break}}else if("d"===d&&o.innerHTML.toLowerCase()<r.innerHTML.toLowerCase()){s=!0;break}s?(n[i].parentNode.insertBefore(n[i+1],n[i]),a=!0,l++):0===l&&"a"===d&&(d="d",a=!0)}return d}NSA.filters={init(){function e(e){return e.filter(":checked").length>0?`${e.filter(":checked").length} selected`:""}filterBoxes.each(((t,n)=>{const a=$(n),i=a.find(".container-head"),o=i.find(".option-select-label"),r=a.find("input:checkbox"),s=$("<button />").addClass("js-container-head"),d=$("<div />").addClass("js-selected-counter").text((()=>e(r)));s.on("click",(e=>{const t=$(e.currentTarget),n=t.next();t.hasClass("closed")?(n.show(),t.removeClass("closed").attr("aria-expanded",!0)):(n.hide(),t.addClass("closed").attr("aria-expanded",!1)),e.preventDefault()})).append(o,d),i.replaceWith(s),r.on("change",(()=>{d.text((()=>e(r)))}))}))}},filterBoxes.length>0&&NSA.filters.init(),(NSA=NSA||{}).modal={elems:{links:$(".modal-link"),modals:$(".modal")},init:function(){this.modalBg(),this.setUpEvents()},modalBg:function(){var e=this,t=$("<div>").addClass("modal-bg").hide().on("click",(function(){e.hideModals()}));$("body").append(t)},setUpEvents:function(){var e=this;this.elems.links.on("click",(function(t){var n=$(this).attr("href");e.showModal($(n)),t.preventDefault()})),e.elems.modals.find(".close").on("click",(function(t){e.hideModals(),t.preventDefault()})),$("body").on("keydown",(function(t){27===(t.keyCode||t.which)&&e.hideModals()}))},showModal:function(e){$("html").addClass("modal-open"),$(".modal-bg").show(),e.show()},hideModals:function(){$("html").removeClass("modal-open"),$(".modal-bg").hide(),this.elems.modals.hide()}},NSA.modal.init(),function(e){"use strict";var t=e.jQuery,n=e.GOVUK||{};function a(){var e=this,n="ShowHideContent",a='[data-target] > input[type="radio"]',i='[data-target] > input[type="checkbox"]',o="a.js-toggle-content";function r(){var e=t(this),n=s(e);n.length&&(e.attr("aria-controls",n.attr("id")),e.attr("aria-expanded","false"),n.attr("aria-hidden","true"))}function s(e){var n=e.attr("aria-controls");return n||(n=e.closest("[data-target]").data("target")),t("#"+n)}function d(e,t){t.hasClass("js-hidden")&&(t.removeClass("js-hidden"),t.attr("aria-hidden","false"),e.attr("aria-controls")&&e.attr("aria-expanded","true"))}function l(e,t){(t=t||s(e)).hasClass("js-hidden")||(t.addClass("js-hidden"),t.attr("aria-hidden","true"),e.attr("aria-controls")&&e.attr("aria-expanded","false"))}function c(e,n){var i=a+"[name="+(e.attr("name").replace("[","\\[").replace("]","\\]")+"][aria-controls]"),o=e.closest("form");(o.length?o.find(i):t(i)).each((function(){l(t(this))})),e.is("[aria-controls]")&&d(e,n)}function u(e,t){e.is(":checked")?d(e,t):l(e,t)}function h(e,t,n){t.hasClass("js-hidden")?d(e,t):l(e,t),n.preventDefault()}function f(e,a,i,o){function d(e){var n=t(this);o(n,s(n),e)}e=e||t(document.body);var l=t(a);l.each(r),t.each(i,(function(t,a){e.on("click."+n,a,d)})),l.is(":checked")&&l.filter(":checked").each(d)}e.showHideRadioToggledContent=function(e){var n;f(e,a,(n=[],t(a).map((function(){var e=t(this).attr("name");return-1===t.inArray(e,n)?(n.push(e),'input[type="radio"][name="'+t(this).attr("name")+'"]'):null}))),c)},e.showHideCheckboxToggledContent=function(e){f(e,i,[i],u)},e.showHideLinkToggledContent=function(e){f(e,o,[o],h)},e.destroy=function(e){(e=e||t(document.body)).off("."+n)}}a.prototype.init=function(e){this.showHideRadioToggledContent(e),this.showHideCheckboxToggledContent(e),this.showHideLinkToggledContent(e)},n.ShowHideContent=a,e.GOVUK=n}(window),(NSA=NSA||{}).signin={form:$(".form-signin"),init:function(){this.setupEvents()},setupEvents:function(){this.form.on("submit",this,this.handleSubmit)},handleSubmit:function(e){var t=$(this),n=t.find("input").not(":checkbox"),a={},i=$(this).find("button:submit"),o=i.eq(0);i.attr("disabled","disabled"),o.css("min-width",o.outerWidth()+"px"),o.find(".loader").removeClass("vh"),n.each((function(){a[this.name]=$(this).val()})),$("#password").prop("type","password").next().removeClass("type-password"),$.ajax({type:"POST",data:a,url:t.attr("action"),context:e.data,dataType:"json",success:function(e){e.redirect?window.location.href=e.uri:e.isFailedLogin?(this.resetValidation(t),e.delayTill?this.showValidationMessage(e.validationMessages,!0):(this.showValidationMessage(e.validationMessages),i.removeAttr("disabled")),this.showInlineValidation(e.validationMessages),o.find(".loader").addClass("vh")):this.buildFormAndSubmit(e)},error:function(){this.resetValidation(t),this.showValidationMessage(),i.removeAttr("disabled"),o.find(".loader").addClass("vh")}}),e.preventDefault()},resetValidation:function(e){var t=e.find(".form-group");$(".error-summary").remove(),t.each((function(){var e=$(this).find("input").eq(0);$(this).hasClass("form-group-error")&&($(this).removeClass("form-group-error"),$(this).find("p.error-message").remove(),e.removeAttr("aria-describedby").removeAttr("aria-invalid"))}))},showValidationMessage:function(e,t){var n=$("<div />").attr("class","error-summary").attr("role","alert").attr("tabindex","-1"),a=$("<h2 />").attr("class","heading-medium error-summary-heading").attr("id","error-summary"),i=$("<ul />").attr("class","error-summary-list");if(e){if(a.text("Information missing or incorrect"),$.each(e,(function(e,t){"loginError"===e&&(e="username");var n=$("<a />").attr("href","#"+e).text(t),a=$("<li />").append(n);i.append(a)})),t){var o=$("<a />").attr("class","govuk-link").attr("href","").attr("onclick","window.location.reload()").text("Refresh this page").css("color","#1d70b8"),r=$("<li />").append(o);i.append(r)}}else{a.text("There has been an error");r=$("<li />").html('Please try again later. If the problem continues, follow the link to <a href="https://help.signin.education.gov.uk/contact/form">submit a support request</a>');i.append(r)}n.append(a).append(i),$("main").prepend(n),$("html, body").animate({scrollTop:n.offset().top-15},300)},showInlineValidation:function(e){$.each(e,(function(e,t){var n=$("input[name="+e+"]"),a=n.parent();a.hasClass("show-password")&&(a=a.parent());var i=a.find("label").first();if(!a.hasClass("form-group-error"))var o=$("<p>").html(t).prop("class","error-message").prop("id","validation-"+e);i.after(o),a.addClass("form-group-error"),n.attr({"aria-describedby":"validation-"+e,"aria-invalid":"true"})}))},buildFormAndSubmit:function(e){var t=$("<form />").attr({method:"post",action:e.destination,id:"dfesigninform"});$.each(e.postbackData,(function(e,n){var a=$("<input />").attr({type:"hidden",name:e,value:n});t.append(a)})),$("#dfesigninform").remove(),$("body").append(t),t.submit()}},$(".form-signin").length>0&&NSA.signin.init(),$((function(){$("table.sortable thead th").on("click",(function(){var e=$("table.sortable thead tr th");e.removeClass("sorted").removeClass("dir-a").removeClass("dir-d");var t=sortTable(e.index($(this)));$(this).addClass("sorted dir-"+t)}))}));var toggleTips=$(".toggle-help");toggleTips.each((function(){var e,t,n,a;e=$(this),n=$("<span />").attr("class","toggletip"),a=$("<button />").attr("type","button").attr("aria-label","Help").attr("data-toggletip-content",e.html()).text("?").on("click",(function(){var t=$(this).data("toggletip-content"),n=$(this).next();window.setTimeout((function(){n.html((function(){return $("<span />").attr("class",(function(){return e.html().length>50?"bubble long":"bubble"})).text(t)}))}),100)})).on("keydown",(function(e){27===(e.keyCode||e.which)&&t.html("")})),t=$("<span />").attr("role","status"),n.append(a,t),e.before(n).remove(),$(document).on("click",(function(n){e[0]!==$(n.target)&&t.html("")}))}));var forms=$("#content form");forms.attr("novalidate","novalidate");NSA=NSA||{};function select2ModelMatcher(e,t){if(t.parentText=t.parentText||"",void 0===e.term||!e.term||""===e.term.trim())return t;if(t.children&&t.children.length>0){for(var n=$.extend(!0,{},t),a=t.children.length-1;a>=0;a--){var i=t.children[a];i.parentText+=t.parentText+" "+t.text,null==select2ModelMatcher(e,i)&&n.children.splice(a,1)}return n.children.length>0?n:select2ModelMatcher(e,n)}var o=(t.parentText+" "+t.text).toUpperCase(),r=e.term.toUpperCase();return o.indexOf(r)>-1?t:null}NSA={showPassword:function(){$(".show-password").each((function(e){var t=$(this).find("input:password"),n=$("<label />").prop({for:"show-password-"+e}).html("Show"),a=$("<input />").prop({type:"checkbox",id:"show-password-"+e}).on("change",(function(){var e=$(this);t.prop("type",(function(){return e.prop("checked")?"text":"password"})),n.html((function(){return e.prop("checked")?"Hide":"Show"})),e.parent().removeClass("type-password"),e.prop("checked")&&e.parent().addClass("type-password")})),i=$("<div />").prop("class","show-password-control").append(a,n);t.after(i)}))},backLink:function(){var e=$("<a>").attr({href:"#",class:"link-back"}).text("Back").on("click",(function(e){window.history.back(),e.preventDefault()}));$(".js-back-link").html(e)}},$("select.select2").length>0&&$("select.select2").select2({matcher:select2ModelMatcher}),$(".show-password").length>0&&NSA.showPassword(),$(".js-back-link")&&NSA.backLink(),$(".under-construction").on("click",(function(e){alert("This functionality is not available yet"),e.preventDefault()})),$(".notification span.icon").length>0&&$(".notification span.icon").on("click",(function(){$(this).parent().hide()})),$("article.organisation-services").length>0&&($(".information").on("click",(function(e){var t=$(this).parent().parent().find(".service-description");e.preventDefault(),t.toggle()})),$(".info-link").on("click",(function(e){var t=$(this).parent().next();e.preventDefault(),t.toggle()})));var searchFields=$("form .search-field");if(searchFields.length>0){var loader=$("<span />").addClass("loader spinner-inline"),b1=$("<span />").addClass("ball b-1"),b2=$("<span />").addClass("ball b-2");loader.append(b1).append(b2),searchFields.each((function(){var e=$(this).parent(),t=e.find("button");e.on("submit",(function(){t.after(loader).hide()}))}))}var redirect=$("#redirect-url");$("#add-redirect").on("click",(function(){return $('<p><label for="redirect-url"><input class="form-control inputConfig" name="redirect_uris"></label></p>').appendTo(redirect),!1}));var logout=$("#logout-url");$("#add-logout").on("click",(function(){return $('<p><label for="logout-url"><input class="form-control inputConfig" name="post_logout_redirect_uris"></label></p>').appendTo(logout),!1})),$("#generate-client-secret").on("click",(function(){var e=window.niceware.generatePassphrase(8).join("-");return confirm("Are you sure you want to regenerate the client secret?")&&$("input#clientSecret").attr("value",e),!1})),$("#generate-api-secret").on("click",(function(){var e=window.niceware.generatePassphrase(8).join("-");return confirm("Are you sure you want to regenerate the api secret?")&&$("input#apiSecret").attr("value",e),!1}));var formRegister=$(".prevent-form-double-submission");formRegister.length>0&&formRegister.each((function(){var e=$(formRegister).find("button:submit"),t=e.eq(0);formRegister.on("submit",(function(){e.attr("disabled","disabled"),t.css("min-width",t.outerWidth()+"px"),t.append("<span class='loader spinner-inline'> <span class='ball b-1'></span> <span class='ball b-2'></span> <span class='ball b-3'></span> </span>")}))}));var showHideContent=new GOVUK.ShowHideContent;showHideContent.init(),GOVUK.details.init();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl9jb29raWVzLmpzIiwiX2RldGFpbHMucG9seWZpbGwuanMiLCJfZmlsdGVyLWJveGVzLmpzIiwiX3NpZ25pbi5qcyIsIl90YWJsZXNvcnQuanMiLCJfbW9kYWwuanMiLCJfc2hvdy1oaWRlLWNvbnRlbnQuanMiLCJfdG9vbHRpcC5qcyIsIl92YWxpZGF0aW9uLmpzIiwiYXBwLmpzIl0sIm5hbWVzIjpbIkNPT0tJRV9OQU1FUyIsIlBSRUZFUkVOQ0VTX1NFVCIsIlBPTElDWSIsIkdBIiwiR0FfR0lEIiwiR0FfR0FUIiwiVVNFUl9CQU5ORVJfTEFTVF9TRUVOIiwiR09WVUtfQ09PS0lFX09QVElPTlMiLCJleHBpcmVzIiwic2VjdXJlIiwiZG9tYWluIiwiR292VUtDb29raWUiLCJnZXRSYXciLCJuYW1lIiwid2luZG93IiwiQ29va2llcyIsImdldCIsInZhbHVlIiwiSlNPTiIsInBhcnNlIiwic2V0IiwicmVtb3ZlIiwiY2hlY2tDb25kaXRpb25Gb3JVc2Vyc0Jhbm5lciIsImxhc3RTZWVuIiwiRGF0ZSIsImdldFRpbWUiLCJzaG93UmV2aWV3VXNlcnNCYW5uZXIiLCIkIiwic2hvdyIsInNldFJldmlld1VzZXJzQmFubmVyTGFzdFNlZW4iLCJsb2FkUmV2aWV3VXNlcnNCYW5uZXIiLCJ1cGRhdGVDb29raWVSZXZpZXdVc2Vyc0Jhbm5lciIsImdsb2JhbCIsIkdPVlVLIiwiZGV0YWlscyIsIk5BVElWRV9ERVRBSUxTIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwib3BlbiIsIktFWV9FTlRFUiIsIktFWV9TUEFDRSIsInN0YXJ0ZWQiLCJhZGRFdmVudCIsIm5vZGUiLCJ0eXBlIiwiY2FsbGJhY2siLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInRhcmdldCIsImF0dGFjaEV2ZW50Iiwic3JjRWxlbWVudCIsInJlbW92ZUV2ZW50IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRldGFjaEV2ZW50IiwiY2hhckNvZGUiLCJ3aGljaCIsImtleUNvZGUiLCJwcmV2ZW50RGVmYXVsdCIsInJldHVyblZhbHVlIiwiYWRkQ2xpY2tFdmVudCIsIm5vZGVOYW1lIiwidG9Mb3dlckNhc2UiLCJjbGljayIsImdldEFuY2VzdG9yIiwibWF0Y2giLCJwYXJlbnROb2RlIiwiYWRkRGV0YWlsc1BvbHlmaWxsIiwibGlzdCIsImNvbnRhaW5lciIsImJvZHkiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImxlbmd0aCIsIm4iLCJpIiwiX19zdW1tYXJ5IiwiaXRlbSIsIl9fY29udGVudCIsImlkIiwic2V0QXR0cmlidXRlIiwidGFiSW5kZXgiLCJvcGVuQXR0ciIsImdldEF0dHJpYnV0ZSIsInN0eWxlIiwiZGlzcGxheSIsIl9fZGV0YWlscyIsInR3aXN0eSIsImNsYXNzTmFtZSIsImFwcGVuZENoaWxkIiwiY3JlYXRlVGV4dE5vZGUiLCJfX3R3aXN0eSIsImluc2VydEJlZm9yZSIsImZpcnN0Q2hpbGQiLCJzdW1tYXJ5Iiwic3RhdGVjaGFuZ2UiLCJleHBhbmRlZCIsImhpZGRlbiIsInJlbW92ZUF0dHJpYnV0ZSIsIm5vZGVWYWx1ZSIsImRlc3Ryb3kiLCJpbml0IiwiJGNvbnRhaW5lciIsIk5TQSIsImZpbHRlckJveGVzIiwiZ2V0UGFyYW1ldGVyQnlOYW1lIiwidXJsIiwibG9jYXRpb24iLCJocmVmIiwicmVwbGFjZSIsInJlc3VsdHMiLCJSZWdFeHAiLCJleGVjIiwiZGVjb2RlVVJJQ29tcG9uZW50Iiwic29ydFRhYmxlIiwidGFibGUiLCJyb3dzIiwic3dpdGNoaW5nIiwieCIsInkiLCJzaG91bGRTd2l0Y2giLCJkaXJlY3Rpb24iLCJzd2l0Y2hjb3VudCIsImZpbmQiLCJpbm5lckhUTUwiLCJmaWx0ZXJzIiwiY2hlY2tDb3VudFRleHQiLCJjaGVja2JveGVzIiwiZmlsdGVyIiwiZWFjaCIsIl8iLCJlbGVtZW50IiwiZmlsdGVyQm94IiwiaGVhZGVyIiwidGl0bGUiLCJidXR0b24iLCJhZGRDbGFzcyIsImNoZWNrQ291bnQiLCJ0ZXh0Iiwib24iLCJjdXJyZW50VGFyZ2V0Iiwib3B0aW9ucyIsIm5leHQiLCJoYXNDbGFzcyIsInJlbW92ZUNsYXNzIiwiYXR0ciIsImhpZGUiLCJhcHBlbmQiLCJyZXBsYWNlV2l0aCIsIm1vZGFsIiwiZWxlbXMiLCJsaW5rcyIsIm1vZGFscyIsInRoaXMiLCJtb2RhbEJnIiwic2V0VXBFdmVudHMiLCJ0aGF0IiwiYmciLCJoaWRlTW9kYWxzIiwic2hvd01vZGFsIiwialF1ZXJ5IiwiU2hvd0hpZGVDb250ZW50Iiwic2VsZiIsInNlbGVjdG9ycyIsImluaXRUb2dnbGVkQ29udGVudCIsIiRjb250cm9sIiwiJGNvbnRlbnQiLCJnZXRUb2dnbGVkQ29udGVudCIsImNsb3Nlc3QiLCJkYXRhIiwic2hvd1RvZ2dsZWRDb250ZW50IiwiaGlkZVRvZ2dsZWRDb250ZW50IiwiaGFuZGxlUmFkaW9Db250ZW50Iiwic2VsZWN0b3IiLCIkZm9ybSIsImlzIiwiaGFuZGxlQ2hlY2tib3hDb250ZW50IiwiaGFuZGxlTGlua0NvbnRlbnQiLCIkZXZlbnQiLCJlbGVtZW50U2VsZWN0b3IiLCJldmVudFNlbGVjdG9ycyIsImhhbmRsZXIiLCJkZWZlcnJlZCIsImV2ZW50IiwiJGNvbnRyb2xzIiwiaWR4IiwiZXZlbnRTZWxlY3RvciIsInNob3dIaWRlUmFkaW9Ub2dnbGVkQ29udGVudCIsInJhZGlvR3JvdXBzIiwibWFwIiwiZ3JvdXBOYW1lIiwiaW5BcnJheSIsInB1c2giLCJzaG93SGlkZUNoZWNrYm94VG9nZ2xlZENvbnRlbnQiLCJzaG93SGlkZUxpbmtUb2dnbGVkQ29udGVudCIsIm9mZiIsInByb3RvdHlwZSIsInNpZ25pbiIsImZvcm0iLCJzZXR1cEV2ZW50cyIsImhhbmRsZVN1Ym1pdCIsIiRpbnB1dHMiLCJub3QiLCJwb3N0RGF0YSIsIiRzdWJtaXRCdXR0b25zIiwiJHN1Ym1pdEJ1dHRvbiIsImVxIiwiY3NzIiwib3V0ZXJXaWR0aCIsInZhbCIsInByb3AiLCJhamF4IiwiY29udGV4dCIsImRhdGFUeXBlIiwic3VjY2VzcyIsInJlZGlyZWN0IiwidXJpIiwiaXNGYWlsZWRMb2dpbiIsInJlc2V0VmFsaWRhdGlvbiIsImRlbGF5VGlsbCIsInNob3dWYWxpZGF0aW9uTWVzc2FnZSIsInZhbGlkYXRpb25NZXNzYWdlcyIsInJlbW92ZUF0dHIiLCJzaG93SW5saW5lVmFsaWRhdGlvbiIsImJ1aWxkRm9ybUFuZFN1Ym1pdCIsImVycm9yIiwiJGZvcm1Hcm91cHMiLCIkZmllbGQiLCJtZXNzYWdlcyIsInNob3dSZWZyZXNoTGluayIsIiRkaXYiLCIkaDIiLCIkdWwiLCJpbmRleCIsIiRhIiwiJGxpIiwiaHRtbCIsInByZXBlbmQiLCJhbmltYXRlIiwic2Nyb2xsVG9wIiwib2Zmc2V0IiwidG9wIiwiJHBhcmVudCIsInBhcmVudCIsIiRsYWJlbCIsImZpcnN0IiwiZXJyb3JNZXNzYWdlIiwiYWZ0ZXIiLCJtZXRob2QiLCJhY3Rpb24iLCJkZXN0aW5hdGlvbiIsInBvc3RiYWNrRGF0YSIsInN1Ym1pdCIsImhlYWRpbmdDZWxscyIsInRvZ2dsZVRpcHMiLCIkdGhhdCIsImxpdmVSZWdpb24iLCJ0b2dnbGVUaXAiLCJtZXNzYWdlIiwic2V0VGltZW91dCIsImJlZm9yZSIsImZvcm1zIiwic2VsZWN0Mk1vZGVsTWF0Y2hlciIsInBhcmFtcyIsInBhcmVudFRleHQiLCJ0ZXJtIiwidHJpbSIsImNoaWxkcmVuIiwiZXh0ZW5kIiwiYyIsImNoaWxkIiwic3BsaWNlIiwib3JpZ2luYWwiLCJ0b1VwcGVyQ2FzZSIsImluZGV4T2YiLCJzaG93UGFzc3dvcmQiLCIkcHdkRmxkIiwiJGNoZWNrTGJsIiwiZm9yIiwiJGNoZWNrQm94IiwiJGNiV3JhcCIsImJhY2tMaW5rIiwiY2xhc3MiLCJoaXN0b3J5IiwiYmFjayIsInNlbGVjdDIiLCJtYXRjaGVyIiwiYWxlcnQiLCJpbmZvIiwidG9nZ2xlIiwibWV0YSIsInNlYXJjaEZpZWxkcyIsImxvYWRlciIsImIxIiwiYjIiLCJhcHBlbmRUbyIsImxvZ291dCIsInNlY3JldCIsIm5pY2V3YXJlIiwiZ2VuZXJhdGVQYXNzcGhyYXNlIiwiam9p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TyxhQUFBN0ssTUFBQSxXQUNBLElBQUEyRSxFQUFBL0ssRUFBQWlSLGNBQUFuTCxLQUFBLGlCQUFBa0YsRUFBQUQsRUFBQUUsR0FBQSxHQUNBZ0csYUFBQW5LLEdBQUEscUJBQ0FpRSxFQUFBM0QsS0FBQSx1QkFFQTRELEVBQUFFLElBQUEsWUFBQUYsRUFBQUcsYUFBQSxNQUVBSCxFQUFBMUQsT0FBQSw0SUFFQSxHQUNBLElBR0EsSUFBQTRKLGdCQUFBLElBQUE1USxNQUFBOEgsZ0JBQ0E4SSxnQkFBQTFNLE9BRUFsRSxNQUFBQyxRQUFBaUUiLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBDT09LSUVfTkFNRVMgPSB7XG4gIFBSRUZFUkVOQ0VTX1NFVDogJ2Nvb2tpZXNfcHJlZmVyZW5jZXNfc2V0JyxcbiAgUE9MSUNZOiAnY29va2llc19wb2xpY3knLFxuICBHQTogJ19nYScsXG4gIEdBX0dJRDogJ19naWQnLFxuICBHQV9HQVQ6ICdfZ2F0JyxcbiAgVVNFUl9CQU5ORVJfTEFTVF9TRUVOOiAndXNlcl9iYW5uZXJfbGFzdF9zZWVuJ1xufTtcblxudmFyIEdPVlVLX0NPT0tJRV9PUFRJT05TID0ge1xuICBleHBpcmVzOiAzNjUsIC8vIGRheXNcbiAgc2VjdXJlOiB0cnVlLFxuICBkb21haW46ICcuZWR1Y2F0aW9uLmdvdi51aydcbn07XG5cbnZhciBHb3ZVS0Nvb2tpZSA9IHtcbiAgZ2V0UmF3OiBmdW5jdGlvbiAobmFtZSkge1xuICAgIGlmICghd2luZG93LkNvb2tpZXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByZXR1cm4gd2luZG93LkNvb2tpZXMuZ2V0KG5hbWUpO1xuICB9LFxuICBnZXQ6IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgaWYgKCF3aW5kb3cuQ29va2llcykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciB2YWx1ZSA9IHdpbmRvdy5Db29raWVzLmdldChuYW1lKTtcbiAgICBpZiAodmFsdWUpIHtcbiAgICAgIHJldHVybiBKU09OLnBhcnNlKHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9LFxuICBzZXQ6IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xuICAgIGlmICghd2luZG93LkNvb2tpZXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByZXR1cm4gd2luZG93LkNvb2tpZXMuc2V0KFxuICAgICAgbmFtZSxcbiAgICAgIHZhbHVlLFxuICAgICAgR09WVUtfQ09PS0lFX09QVElPTlNcbiAgICApO1xuICB9LFxuICByZW1vdmU6IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgaWYgKCF3aW5kb3cuQ29va2llcykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJldHVybiB3aW5kb3cuQ29va2llcy5yZW1vdmUoXG4gICAgICBuYW1lLFxuICAgICAgR09WVUtfQ09PS0lFX09QVElPTlNcbiAgICApO1xuICB9XG59O1xuXG4vLyBmdW5jdGlvbiB0aGF0IHdpbGwgcmVtb3ZlIGFueSBleGlzdGluZyB0cmFja2luZyBjb29raWVzIG9uIHBhZ2UgbG9hZFxuKGZ1bmN0aW9uICgpIHtcbiAgR292VUtDb29raWUucmVtb3ZlKENPT0tJRV9OQU1FUy5QT0xJQ1kpO1xuICBHb3ZVS0Nvb2tpZS5yZW1vdmUoQ09PS0lFX05BTUVTLlBSRUZFUkVOQ0VTX1NFVCk7XG4gIEdvdlVLQ29va2llLnJlbW92ZShDT09LSUVfTkFNRVMuR0EpO1xuICBHb3ZVS0Nvb2tpZS5yZW1vdmUoQ09PS0lFX05BTUVTLkdBX0dBVCk7XG4gIEdvdlVLQ29va2llLnJlbW92ZShDT09LSUVfTkFNRVMuR0FfR0lEKTtcbn0pKCk7XG5cblxuLyoqXG4gKiBTZWN0aW9uIHRvIGhhbmRsZSByZXZpZXcgdXNlcnMgYmFubmVyXG4gKiBJdCB1c2VzIGEgZGVkaWNhdGVkIGNvb2tpZSAndXNlcl9iYW5uZXJfbGFzdF9zZWVuJ1xuICovXG5cbmZ1bmN0aW9uIGNoZWNrQ29uZGl0aW9uRm9yVXNlcnNCYW5uZXIoKSB7XG4gIHZhciBsYXN0U2VlbiA9IEdvdlVLQ29va2llLmdldFJhdyhDT09LSUVfTkFNRVMuVVNFUl9CQU5ORVJfTEFTVF9TRUVOKTtcbiAgaWYgKCEhbGFzdFNlZW4pIHtcbiAgICB2YXIgbnVtYmVyT2ZEYXlzID0gKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gbGFzdFNlZW4pIC8gKDEwMDAgKiAzNjAwICogMjQpO1xuICAgIGlmIChudW1iZXJPZkRheXMgPiA5MCkge1xuICAgICAgLy8gaWYgdGhlIHBlcmlvZCBpcyBsb25nZXIgdGhhbiA5MCBkYXlzIHNob3cvdXBkYXRlIHRoZSBiYW5uZXJcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBpZiB0aGVyZSBpcyBubyB2YWx1ZSB0aGVuIHNob3cvdXBkYXRlIHRoZSBiYW5uZXJcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIHNob3dSZXZpZXdVc2Vyc0Jhbm5lcigpIHtcbiAgJCgnI3Jldmlldy11c2Vycy1iYW5uZXInKS5zaG93KCk7XG59XG5cbmZ1bmN0aW9uIHNldFJldmlld1VzZXJzQmFubmVyTGFzdFNlZW4oKSB7XG4gIEdvdlVLQ29va2llLnNldChDT09LSUVfTkFNRVMuVVNFUl9CQU5ORVJfTEFTVF9TRUVOLCBuZXcgRGF0ZSgpLmdldFRpbWUoKSk7XG59XG5cbmZ1bmN0aW9uIGxvYWRSZXZpZXdVc2Vyc0Jhbm5lcigpIHtcbiAgaWYgKGNoZWNrQ29uZGl0aW9uRm9yVXNlcnNCYW5uZXIoKSkge1xuICAgIHNob3dSZXZpZXdVc2Vyc0Jhbm5lcigpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUNvb2tpZVJldmlld1VzZXJzQmFubmVyKCkge1xuICBpZiAoY2hlY2tDb25kaXRpb25Gb3JVc2Vyc0Jhbm5lcigpKSB7XG4gICAgc2V0UmV2aWV3VXNlcnNCYW5uZXJMYXN0U2VlbigpO1xuICB9XG59XG4iLCIvLyA8ZGV0YWlscz4gcG9seWZpbGxcbi8vIGh0dHA6Ly9jYW5pdXNlLmNvbS8jZmVhdD1kZXRhaWxzXG5cbi8vIEZGIFN1cHBvcnQgZm9yIEhUTUw1J3MgPGRldGFpbHM+IGFuZCA8c3VtbWFyeT5cbi8vIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTU5MTczN1xuXG4vLyBodHRwOi8vd3d3LnNpdGVwb2ludC5jb20vZml4aW5nLXRoZS1kZXRhaWxzLWVsZW1lbnQvXG5cbjsoZnVuY3Rpb24gKGdsb2JhbCkge1xuICAndXNlIHN0cmljdCdcblxuICB2YXIgR09WVUsgPSBnbG9iYWwuR09WVUsgfHwge31cblxuICBHT1ZVSy5kZXRhaWxzID0ge1xuICAgIE5BVElWRV9ERVRBSUxTOiB0eXBlb2YgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGV0YWlscycpLm9wZW4gPT09ICdib29sZWFuJyxcbiAgICBLRVlfRU5URVI6IDEzLFxuICAgIEtFWV9TUEFDRTogMzIsXG5cbiAgICAvLyBDcmVhdGUgYSBzdGFydGVkIGZsYWcgc28gd2UgY2FuIHByZXZlbnQgdGhlIGluaXRpYWxpc2F0aW9uXG4gICAgLy8gZnVuY3Rpb24gZmlyaW5nIGZyb20gYm90aCBET01Db250ZW50TG9hZGVkIGFuZCB3aW5kb3cub25sb2FkXG4gICAgc3RhcnRlZDogZmFsc2UsXG5cbiAgICAvLyBBZGQgZXZlbnQgY29uc3RydWN0IGZvciBtb2Rlcm4gYnJvd3NlcnMgb3IgSUVcbiAgICAvLyB3aGljaCBmaXJlcyB0aGUgY2FsbGJhY2sgd2l0aCBhIHByZS1jb252ZXJ0ZWQgdGFyZ2V0IHJlZmVyZW5jZVxuICAgIGFkZEV2ZW50OiBmdW5jdGlvbiAobm9kZSwgdHlwZSwgY2FsbGJhY2spIHtcbiAgICAgIGlmIChub2RlLmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgY2FsbGJhY2soZSwgZS50YXJnZXQpXG4gICAgICAgIH0sIGZhbHNlKVxuICAgICAgfSBlbHNlIGlmIChub2RlLmF0dGFjaEV2ZW50KSB7XG4gICAgICAgIG5vZGUuYXR0YWNoRXZlbnQoJ29uJyArIHR5cGUsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgY2FsbGJhY2soZSwgZS5zcmNFbGVtZW50KVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0sXG5cbiAgICByZW1vdmVFdmVudDogZnVuY3Rpb24gKG5vZGUsIHR5cGUpIHtcbiAgICAgIGlmIChub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIH0sIGZhbHNlKVxuICAgICAgfSBlbHNlIGlmIChub2RlLmRldGFjaEV2ZW50KSB7XG4gICAgICAgIG5vZGUuZGV0YWNoRXZlbnQoJ29uJyArIHR5cGUsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSxcblxuICAgIC8vIENyb3NzLWJyb3dzZXIgY2hhcmFjdGVyIGNvZGUgLyBrZXkgcHJlc3NlZFxuICAgIGNoYXJDb2RlOiBmdW5jdGlvbiAoZSkge1xuICAgICAgcmV0dXJuICh0eXBlb2YgZS53aGljaCA9PT0gJ251bWJlcicpID8gZS53aGljaCA6IGUua2V5Q29kZVxuICAgIH0sXG5cbiAgICAvLyBDcm9zcy1icm93c2VyIHByZXZlbnRpbmcgZGVmYXVsdCBhY3Rpb25cbiAgICBwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlmIChlLnByZXZlbnREZWZhdWx0KSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZS5yZXR1cm5WYWx1ZSA9IGZhbHNlXG4gICAgICB9XG4gICAgfSxcblxuICAgIC8vIEhhbmRsZSBjcm9zcy1tb2RhbCBjbGljayBldmVudHNcbiAgICBhZGRDbGlja0V2ZW50OiBmdW5jdGlvbiAobm9kZSwgY2FsbGJhY2spIHtcbiAgICAgIEdPVlVLLmRldGFpbHMuYWRkRXZlbnQobm9kZSwgJ2tleXByZXNzJywgZnVuY3Rpb24gKGUsIHRhcmdldCkge1xuICAgICAgICAvLyBXaGVuIHRoZSBrZXkgZ2V0cyBwcmVzc2VkIC0gY2hlY2sgaWYgaXQgaXMgZW50ZXIgb3Igc3BhY2VcbiAgICAgICAgaWYgKEdPVlVLLmRldGFpbHMuY2hhckNvZGUoZSkgPT09IEdPVlVLLmRldGFpbHMuS0VZX0VOVEVSIHx8IEdPVlVLLmRldGFpbHMuY2hhckNvZGUoZSkgPT09IEdPVlVLLmRldGFpbHMuS0VZX1NQQUNFKSB7XG4gICAgICAgICAgaWYgKHRhcmdldC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnc3VtbWFyeScpIHtcbiAgICAgICAgICAgIC8vIFByZXZlbnQgc3BhY2UgZnJvbSBzY3JvbGxpbmcgdGhlIHBhZ2VcbiAgICAgICAgICAgIC8vIGFuZCBlbnRlciBmcm9tIHN1Ym1pdHRpbmcgYSBmb3JtXG4gICAgICAgICAgICBHT1ZVSy5kZXRhaWxzLnByZXZlbnREZWZhdWx0KGUpXG4gICAgICAgICAgICAvLyBDbGljayB0byBsZXQgdGhlIGNsaWNrIGV2ZW50IGRvIGFsbCB0aGUgbmVjZXNzYXJ5IGFjdGlvblxuICAgICAgICAgICAgaWYgKHRhcmdldC5jbGljaykge1xuICAgICAgICAgICAgICB0YXJnZXQuY2xpY2soKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gZXhjZXB0IFNhZmFyaSA1LjEgYW5kIHVuZGVyIGRvbid0IHN1cHBvcnQgLmNsaWNrKCkgaGVyZVxuICAgICAgICAgICAgICBjYWxsYmFjayhlLCB0YXJnZXQpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KVxuXG4gICAgICAvLyBQcmV2ZW50IGtleXVwIHRvIHByZXZlbnQgY2xpY2tpbmcgdHdpY2UgaW4gRmlyZWZveCB3aGVuIHVzaW5nIHNwYWNlIGtleVxuICAgICAgR09WVUsuZGV0YWlscy5hZGRFdmVudChub2RlLCAna2V5dXAnLCBmdW5jdGlvbiAoZSwgdGFyZ2V0KSB7XG4gICAgICAgIGlmIChHT1ZVSy5kZXRhaWxzLmNoYXJDb2RlKGUpID09PSBHT1ZVSy5kZXRhaWxzLktFWV9TUEFDRSkge1xuICAgICAgICAgIGlmICh0YXJnZXQubm9kZU5hbWUgPT09ICdTVU1NQVJZJykge1xuICAgICAgICAgICAgR09WVUsuZGV0YWlscy5wcmV2ZW50RGVmYXVsdChlKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSlcblxuICAgICAgR09WVUsuZGV0YWlscy5hZGRFdmVudChub2RlLCAnY2xpY2snLCBmdW5jdGlvbiAoZSwgdGFyZ2V0KSB7XG4gICAgICAgIGNhbGxiYWNrKGUsIHRhcmdldClcbiAgICAgIH0pXG4gICAgfSxcblxuICAgIC8vIEdldCB0aGUgbmVhcmVzdCBhbmNlc3RvciBlbGVtZW50IG9mIGEgbm9kZSB0aGF0IG1hdGNoZXMgYSBnaXZlbiB0YWcgbmFtZVxuICAgIGdldEFuY2VzdG9yOiBmdW5jdGlvbiAobm9kZSwgbWF0Y2gpIHtcbiAgICAgIGRvIHtcbiAgICAgICAgaWYgKCFub2RlIHx8IG5vZGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbWF0Y2gpIHtcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGVcbiAgICAgIH0gd2hpbGUgKG5vZGUpXG5cbiAgICAgIHJldHVybiBub2RlXG4gICAgfSxcblxuICAgIC8vIEluaXRpYWxpc2F0aW9uIGZ1bmN0aW9uXG4gICAgYWRkRGV0YWlsc1BvbHlmaWxsOiBmdW5jdGlvbiAobGlzdCwgY29udGFpbmVyKSB7XG4gICAgICBjb250YWluZXIgPSBjb250YWluZXIgfHwgZG9jdW1lbnQuYm9keVxuICAgICAgLy8gSWYgdGhpcyBoYXMgYWxyZWFkeSBoYXBwZW5lZCwganVzdCByZXR1cm5cbiAgICAgIC8vIGVsc2Ugc2V0IHRoZSBmbGFnIHNvIGl0IGRvZXNuJ3QgaGFwcGVuIGFnYWluXG4gICAgICBpZiAoR09WVUsuZGV0YWlscy5zdGFydGVkKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgR09WVUsuZGV0YWlscy5zdGFydGVkID0gdHJ1ZVxuICAgICAgLy8gR2V0IHRoZSBjb2xsZWN0aW9uIG9mIGRldGFpbHMgZWxlbWVudHMsIGJ1dCBpZiB0aGF0J3MgZW1wdHlcbiAgICAgIC8vIHRoZW4gd2UgZG9uJ3QgbmVlZCB0byBib3RoZXIgd2l0aCB0aGUgcmVzdCBvZiB0aGUgc2NyaXB0aW5nXG4gICAgICBpZiAoKGxpc3QgPSBjb250YWluZXIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2RldGFpbHMnKSkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgLy8gZWxzZSBpdGVyYXRlIHRocm91Z2ggdGhlbSB0byBhcHBseSB0aGVpciBpbml0aWFsIHN0YXRlXG4gICAgICB2YXIgbiA9IGxpc3QubGVuZ3RoXG4gICAgICB2YXIgaSA9IDBcbiAgICAgIGZvciAoaTsgaSA8IG47IGkrKykge1xuICAgICAgICB2YXIgZGV0YWlscyA9IGxpc3RbaV1cblxuICAgICAgICAvLyBTYXZlIHNob3J0Y3V0cyB0byB0aGUgaW5uZXIgc3VtbWFyeSBhbmQgY29udGVudCBlbGVtZW50c1xuICAgICAgICBkZXRhaWxzLl9fc3VtbWFyeSA9IGRldGFpbHMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3N1bW1hcnknKS5pdGVtKDApXG4gICAgICAgIGRldGFpbHMuX19jb250ZW50ID0gZGV0YWlscy5nZXRFbGVtZW50c0J5VGFnTmFtZSgnZGl2JykuaXRlbSgwKVxuXG4gICAgICAgIGlmICghZGV0YWlscy5fX3N1bW1hcnkgfHwgIWRldGFpbHMuX19jb250ZW50KSB7XG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgdGhlIGNvbnRlbnQgZG9lc24ndCBoYXZlIGFuIElELCBhc3NpZ24gaXQgb25lIG5vd1xuICAgICAgICAvLyB3aGljaCB3ZSdsbCBuZWVkIGZvciB0aGUgc3VtbWFyeSdzIGFyaWEtY29udHJvbHMgYXNzaWdubWVudFxuICAgICAgICBpZiAoIWRldGFpbHMuX19jb250ZW50LmlkKSB7XG4gICAgICAgICAgZGV0YWlscy5fX2NvbnRlbnQuaWQgPSAnZGV0YWlscy1jb250ZW50LScgKyBpXG4gICAgICAgIH1cblxuICAgICAgICAvLyBBZGQgQVJJQSByb2xlPVwiZ3JvdXBcIiB0byBkZXRhaWxzXG4gICAgICAgIGRldGFpbHMuc2V0QXR0cmlidXRlKCdyb2xlJywgJ2dyb3VwJylcblxuICAgICAgICAvLyBBZGQgcm9sZT1idXR0b24gdG8gc3VtbWFyeVxuICAgICAgICBkZXRhaWxzLl9fc3VtbWFyeS5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnYnV0dG9uJylcblxuICAgICAgICAvLyBBZGQgYXJpYS1jb250cm9sc1xuICAgICAgICBkZXRhaWxzLl9fc3VtbWFyeS5zZXRBdHRyaWJ1dGUoJ2FyaWEtY29udHJvbHMnLCBkZXRhaWxzLl9fY29udGVudC5pZClcblxuICAgICAgICAvLyBTZXQgdGFiSW5kZXggc28gdGhlIHN1bW1hcnkgaXMga2V5Ym9hcmQgYWNjZXNzaWJsZSBmb3Igbm9uLW5hdGl2ZSBlbGVtZW50c1xuICAgICAgICAvLyBodHRwOi8vd3d3LnNhbGllbmNlcy5jb20vYnJvd3NlckJ1Z3MvdGFiSW5kZXguaHRtbFxuICAgICAgICBpZiAoIUdPVlVLLmRldGFpbHMuTkFUSVZFX0RFVEFJTFMpIHtcbiAgICAgICAgICBkZXRhaWxzLl9fc3VtbWFyeS50YWJJbmRleCA9IDBcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERldGVjdCBpbml0aWFsIG9wZW4gc3RhdGVcbiAgICAgICAgdmFyIG9wZW5BdHRyID0gZGV0YWlscy5nZXRBdHRyaWJ1dGUoJ29wZW4nKSAhPT0gbnVsbFxuICAgICAgICBpZiAob3BlbkF0dHIgPT09IHRydWUpIHtcbiAgICAgICAgICBkZXRhaWxzLl9fc3VtbWFyeS5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAndHJ1ZScpXG4gICAgICAgICAgZGV0YWlscy5fX2NvbnRlbnQuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICdmYWxzZScpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGV0YWlscy5fX3N1bW1hcnkuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJylcbiAgICAgICAgICBkZXRhaWxzLl9fY29udGVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKVxuICAgICAgICAgIGlmICghR09WVUsuZGV0YWlscy5OQVRJVkVfREVUQUlMUykge1xuICAgICAgICAgICAgZGV0YWlscy5fX2NvbnRlbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENyZWF0ZSBhIGNpcmN1bGFyIHJlZmVyZW5jZSBmcm9tIHRoZSBzdW1tYXJ5IGJhY2sgdG8gaXRzXG4gICAgICAgIC8vIHBhcmVudCBkZXRhaWxzIGVsZW1lbnQsIGZvciBjb252ZW5pZW5jZSBpbiB0aGUgY2xpY2sgaGFuZGxlclxuICAgICAgICBkZXRhaWxzLl9fc3VtbWFyeS5fX2RldGFpbHMgPSBkZXRhaWxzXG5cbiAgICAgICAgLy8gSWYgdGhpcyBpcyBub3QgYSBuYXRpdmUgaW1wbGVtZW50YXRpb24sIGNyZWF0ZSBhbiBhcnJvd1xuICAgICAgICAvLyBpbnNpZGUgdGhlIHN1bW1hcnlcbiAgICAgICAgaWYgKCFHT1ZVSy5kZXRhaWxzLk5BVElWRV9ERVRBSUxTKSB7XG4gICAgICAgICAgdmFyIHR3aXN0eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2knKVxuXG4gICAgICAgICAgaWYgKG9wZW5BdHRyID09PSB0cnVlKSB7XG4gICAgICAgICAgICB0d2lzdHkuY2xhc3NOYW1lID0gJ2Fycm93IGFycm93LW9wZW4nXG4gICAgICAgICAgICB0d2lzdHkuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJ1xcdTI1YmMnKSlcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdHdpc3R5LmNsYXNzTmFtZSA9ICdhcnJvdyBhcnJvdy1jbG9zZWQnXG4gICAgICAgICAgICB0d2lzdHkuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJ1xcdTI1YmEnKSlcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBkZXRhaWxzLl9fc3VtbWFyeS5fX3R3aXN0eSA9IGRldGFpbHMuX19zdW1tYXJ5Lmluc2VydEJlZm9yZSh0d2lzdHksIGRldGFpbHMuX19zdW1tYXJ5LmZpcnN0Q2hpbGQpXG4gICAgICAgICAgZGV0YWlscy5fX3N1bW1hcnkuX190d2lzdHkuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJylcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBCaW5kIGEgY2xpY2sgZXZlbnQgdG8gaGFuZGxlIHN1bW1hcnkgZWxlbWVudHNcbiAgICAgIEdPVlVLLmRldGFpbHMuYWRkQ2xpY2tFdmVudChjb250YWluZXIsIGZ1bmN0aW9uIChlLCBzdW1tYXJ5KSB7XG4gICAgICAgIGlmICghKHN1bW1hcnkgPSBHT1ZVSy5kZXRhaWxzLmdldEFuY2VzdG9yKHN1bW1hcnksICdzdW1tYXJ5JykpKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gR09WVUsuZGV0YWlscy5zdGF0ZWNoYW5nZShzdW1tYXJ5KVxuICAgICAgfSlcbiAgICB9LFxuXG4gICAgLy8gRGVmaW5lIGEgc3RhdGVjaGFuZ2UgZnVuY3Rpb24gdGhhdCB1cGRhdGVzIGFyaWEtZXhwYW5kZWQgYW5kIHN0eWxlLmRpc3BsYXlcbiAgICAvLyBBbHNvIHVwZGF0ZSB0aGUgYXJyb3cgcG9zaXRpb25cbiAgICBzdGF0ZWNoYW5nZTogZnVuY3Rpb24gKHN1bW1hcnkpIHtcbiAgICAgIHZhciBleHBhbmRlZCA9IHN1bW1hcnkuX19kZXRhaWxzLl9fc3VtbWFyeS5nZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnKSA9PT0gJ3RydWUnXG4gICAgICB2YXIgaGlkZGVuID0gc3VtbWFyeS5fX2RldGFpbHMuX19jb250ZW50LmdldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nKSA9PT0gJ3RydWUnXG5cbiAgICAgIHN1bW1hcnkuX19kZXRhaWxzLl9fc3VtbWFyeS5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAoZXhwYW5kZWQgPyAnZmFsc2UnIDogJ3RydWUnKSlcbiAgICAgIHN1bW1hcnkuX19kZXRhaWxzLl9fY29udGVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgKGhpZGRlbiA/ICdmYWxzZScgOiAndHJ1ZScpKVxuXG4gICAgICBpZiAoIUdPVlVLLmRldGFpbHMuTkFUSVZFX0RFVEFJTFMpIHtcbiAgICAgICAgc3VtbWFyeS5fX2RldGFpbHMuX19jb250ZW50LnN0eWxlLmRpc3BsYXkgPSAoZXhwYW5kZWQgPyAnbm9uZScgOiAnJylcblxuICAgICAgICB2YXIgaGFzT3BlbkF0dHIgPSBzdW1tYXJ5Ll9fZGV0YWlscy5nZXRBdHRyaWJ1dGUoJ29wZW4nKSAhPT0gbnVsbFxuICAgICAgICBpZiAoIWhhc09wZW5BdHRyKSB7XG4gICAgICAgICAgc3VtbWFyeS5fX2RldGFpbHMuc2V0QXR0cmlidXRlKCdvcGVuJywgJ29wZW4nKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN1bW1hcnkuX19kZXRhaWxzLnJlbW92ZUF0dHJpYnV0ZSgnb3BlbicpXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHN1bW1hcnkuX190d2lzdHkpIHtcbiAgICAgICAgc3VtbWFyeS5fX3R3aXN0eS5maXJzdENoaWxkLm5vZGVWYWx1ZSA9IChleHBhbmRlZCA/ICdcXHUyNWJhJyA6ICdcXHUyNWJjJylcbiAgICAgICAgc3VtbWFyeS5fX3R3aXN0eS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgKGV4cGFuZGVkID8gJ2Fycm93IGFycm93LWNsb3NlZCcgOiAnYXJyb3cgYXJyb3ctb3BlbicpKVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH0sXG5cbiAgICBkZXN0cm95OiBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgR09WVUsuZGV0YWlscy5yZW1vdmVFdmVudChub2RlLCAnY2xpY2snKVxuICAgIH0sXG5cbiAgICAvLyBCaW5kIHR3byBsb2FkIGV2ZW50cyBmb3IgbW9kZXJuIGFuZCBvbGRlciBicm93c2Vyc1xuICAgIC8vIElmIHRoZSBmaXJzdCBvbmUgZmlyZXMgaXQgd2lsbCBzZXQgYSBmbGFnIHRvIGJsb2NrIHRoZSBzZWNvbmQgb25lXG4gICAgLy8gYnV0IGlmIGl0J3Mgbm90IHN1cHBvcnRlZCB0aGVuIHRoZSBzZWNvbmQgb25lIHdpbGwgZmlyZVxuICAgIGluaXQ6IGZ1bmN0aW9uICgkY29udGFpbmVyKSB7XG4gICAgICBHT1ZVSy5kZXRhaWxzLmFkZEV2ZW50KGRvY3VtZW50LCAnRE9NQ29udGVudExvYWRlZCcsIEdPVlVLLmRldGFpbHMuYWRkRGV0YWlsc1BvbHlmaWxsKVxuICAgICAgR09WVUsuZGV0YWlscy5hZGRFdmVudCh3aW5kb3csICdsb2FkJywgR09WVUsuZGV0YWlscy5hZGREZXRhaWxzUG9seWZpbGwpXG4gICAgfVxuICB9XG4gIGdsb2JhbC5HT1ZVSyA9IEdPVlVLXG59KSh3aW5kb3cpXG4iLCIvKiBnbG9iYWwgJCAqL1xuXG4vLyBFU0xpbnQgcnVsZXMgZGlzYWJsZWQgZm9yIHRoaXMgbGluZSBhcyBsZXQvY29uc3QgZG8gbm90IGFsbG93IGZvciB0aGUgc2FtZSBmdW5jdGlvbmFsaXR5LlxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXZhciwgbm8tdXNlLWJlZm9yZS1kZWZpbmVcbnZhciBOU0EgPSBOU0EgfHwge307XG5jb25zdCBmaWx0ZXJCb3hlcyA9ICQoJy5maWx0ZXItYm94Jyk7XG5cbk5TQS5maWx0ZXJzID0ge1xuICBpbml0KCkge1xuICAgIGZ1bmN0aW9uIGNoZWNrQ291bnRUZXh0KGNoZWNrYm94ZXMpIHtcbiAgICAgIHJldHVybiBjaGVja2JveGVzLmZpbHRlcignOmNoZWNrZWQnKS5sZW5ndGggPiAwID8gYCR7Y2hlY2tib3hlcy5maWx0ZXIoJzpjaGVja2VkJykubGVuZ3RofSBzZWxlY3RlZGAgOiAnJztcbiAgICB9XG5cbiAgICBmaWx0ZXJCb3hlcy5lYWNoKChfLCBlbGVtZW50KSA9PiB7XG4gICAgICBjb25zdCBmaWx0ZXJCb3ggPSAkKGVsZW1lbnQpO1xuICAgICAgY29uc3QgaGVhZGVyID0gZmlsdGVyQm94LmZpbmQoJy5jb250YWluZXItaGVhZCcpO1xuICAgICAgY29uc3QgdGl0bGUgPSBoZWFkZXIuZmluZCgnLm9wdGlvbi1zZWxlY3QtbGFiZWwnKTtcbiAgICAgIGNvbnN0IGNoZWNrYm94ZXMgPSBmaWx0ZXJCb3guZmluZCgnaW5wdXQ6Y2hlY2tib3gnKTtcbiAgICAgIGNvbnN0IGJ1dHRvbiA9ICQoJzxidXR0b24gLz4nKS5hZGRDbGFzcygnanMtY29udGFpbmVyLWhlYWQnKTtcbiAgICAgIGNvbnN0IGNoZWNrQ291bnQgPSAkKCc8ZGl2IC8+JykuYWRkQ2xhc3MoJ2pzLXNlbGVjdGVkLWNvdW50ZXInKS50ZXh0KCgpID0+IGNoZWNrQ291bnRUZXh0KGNoZWNrYm94ZXMpKTtcblxuICAgICAgYnV0dG9uLm9uKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRhcmdldC5uZXh0KCk7XG4gICAgICAgIGlmICh0YXJnZXQuaGFzQ2xhc3MoJ2Nsb3NlZCcpKSB7XG4gICAgICAgICAgb3B0aW9ucy5zaG93KCk7XG4gICAgICAgICAgdGFyZ2V0XG4gICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ2Nsb3NlZCcpXG4gICAgICAgICAgICAuYXR0cignYXJpYS1leHBhbmRlZCcsIHRydWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9wdGlvbnMuaGlkZSgpO1xuICAgICAgICAgIHRhcmdldFxuICAgICAgICAgICAgLmFkZENsYXNzKCdjbG9zZWQnKVxuICAgICAgICAgICAgLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfSkuYXBwZW5kKHRpdGxlLCBjaGVja0NvdW50KTtcblxuICAgICAgaGVhZGVyLnJlcGxhY2VXaXRoKGJ1dHRvbik7XG5cbiAgICAgIGNoZWNrYm94ZXMub24oJ2NoYW5nZScsICgpID0+IHtcbiAgICAgICAgY2hlY2tDb3VudC50ZXh0KCgpID0+IGNoZWNrQ291bnRUZXh0KGNoZWNrYm94ZXMpKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9LFxufTtcblxuaWYgKGZpbHRlckJveGVzLmxlbmd0aCA+IDApIHtcbiAgTlNBLmZpbHRlcnMuaW5pdCgpO1xufVxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBOU0EgPSBOU0EgfHwge307XG5cbk5TQS5zaWduaW4gPSB7XG4gIGZvcm06ICQoJy5mb3JtLXNpZ25pbicpLFxuICBpbml0OiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5zZXR1cEV2ZW50cygpO1xuICB9LFxuICBzZXR1cEV2ZW50czogZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZm9ybS5vbignc3VibWl0JywgdGhpcywgdGhpcy5oYW5kbGVTdWJtaXQpO1xuICB9LFxuICBoYW5kbGVTdWJtaXQ6IGZ1bmN0aW9uIChlKSB7XG5cbiAgICB2YXIgJGZvcm0gPSAkKHRoaXMpO1xuICAgIHZhciAkaW5wdXRzID0gJGZvcm0uZmluZCgnaW5wdXQnKS5ub3QoJzpjaGVja2JveCcpLCBwb3N0RGF0YSA9IHt9LCAkc3VibWl0QnV0dG9ucyA9ICQodGhpcykuZmluZCgnYnV0dG9uOnN1Ym1pdCcpLCAkc3VibWl0QnV0dG9uID0gJHN1Ym1pdEJ1dHRvbnMuZXEoMCk7XG5cbiAgICAkc3VibWl0QnV0dG9ucy5hdHRyKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xuXG4gICAgJHN1Ym1pdEJ1dHRvbi5jc3MoJ21pbi13aWR0aCcsICRzdWJtaXRCdXR0b24ub3V0ZXJXaWR0aCgpICsgJ3B4JylcblxuICAgICRzdWJtaXRCdXR0b24uZmluZCgnLmxvYWRlcicpLnJlbW92ZUNsYXNzKCd2aCcpO1xuXG4gICAgJGlucHV0cy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgcG9zdERhdGFbdGhpcy5uYW1lXSA9ICQodGhpcykudmFsKCk7XG4gICAgfSk7XG5cbiAgICAkKCcjcGFzc3dvcmQnKS5wcm9wKCd0eXBlJywgJ3Bhc3N3b3JkJykubmV4dCgpLnJlbW92ZUNsYXNzKCd0eXBlLXBhc3N3b3JkJyk7XG5cbiAgICAkLmFqYXgoe1xuICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgZGF0YTogcG9zdERhdGEsXG4gICAgICB1cmw6ICRmb3JtLmF0dHIoJ2FjdGlvbicpLFxuICAgICAgY29udGV4dDogZS5kYXRhLFxuICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIGlmIChkYXRhLnJlZGlyZWN0KSB7XG4gICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBkYXRhLnVyaTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoZGF0YS5pc0ZhaWxlZExvZ2luKSB7XG4gICAgICAgICAgICB0aGlzLnJlc2V0VmFsaWRhdGlvbigkZm9ybSk7XG4gICAgICAgICAgICBpZiAoZGF0YS5kZWxheVRpbGwpIHtcbiAgICAgICAgICAgICAgdGhpcy5zaG93VmFsaWRhdGlvbk1lc3NhZ2UoZGF0YS52YWxpZGF0aW9uTWVzc2FnZXMsIHRydWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhpcy5zaG93VmFsaWRhdGlvbk1lc3NhZ2UoZGF0YS52YWxpZGF0aW9uTWVzc2FnZXMpO1xuICAgICAgICAgICAgICAkc3VibWl0QnV0dG9ucy5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zaG93SW5saW5lVmFsaWRhdGlvbihkYXRhLnZhbGlkYXRpb25NZXNzYWdlcyk7XG4gICAgICAgICAgICAkc3VibWl0QnV0dG9uLmZpbmQoJy5sb2FkZXInKS5hZGRDbGFzcygndmgnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5idWlsZEZvcm1BbmRTdWJtaXQoZGF0YSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgZXJyb3I6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnJlc2V0VmFsaWRhdGlvbigkZm9ybSk7XG4gICAgICAgIHRoaXMuc2hvd1ZhbGlkYXRpb25NZXNzYWdlKCk7XG4gICAgICAgICRzdWJtaXRCdXR0b25zLnJlbW92ZUF0dHIoJ2Rpc2FibGVkJyk7XG4gICAgICAgICRzdWJtaXRCdXR0b24uZmluZCgnLmxvYWRlcicpLmFkZENsYXNzKCd2aCcpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgfSxcbiAgcmVzZXRWYWxpZGF0aW9uOiBmdW5jdGlvbiAoJGZvcm0pIHtcblxuICAgIHZhciAkZm9ybUdyb3VwcyA9ICRmb3JtLmZpbmQoJy5mb3JtLWdyb3VwJyk7XG5cbiAgICAkKCcuZXJyb3Itc3VtbWFyeScpLnJlbW92ZSgpO1xuXG4gICAgJGZvcm1Hcm91cHMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJGZpZWxkID0gJCh0aGlzKS5maW5kKCdpbnB1dCcpLmVxKDApO1xuICAgICAgaWYgKCQodGhpcykuaGFzQ2xhc3MoJ2Zvcm0tZ3JvdXAtZXJyb3InKSkge1xuICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdmb3JtLWdyb3VwLWVycm9yJyk7XG4gICAgICAgICQodGhpcykuZmluZCgncC5lcnJvci1tZXNzYWdlJykucmVtb3ZlKCk7XG4gICAgICAgICRmaWVsZC5yZW1vdmVBdHRyKCdhcmlhLWRlc2NyaWJlZGJ5JykucmVtb3ZlQXR0cignYXJpYS1pbnZhbGlkJyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG5cbiAgc2hvd1ZhbGlkYXRpb25NZXNzYWdlOiBmdW5jdGlvbiAobWVzc2FnZXMsIHNob3dSZWZyZXNoTGluaykge1xuXG4gICAgdmFyICRkaXYgPSAkKCc8ZGl2IC8+JykuYXR0cignY2xhc3MnLCAnZXJyb3Itc3VtbWFyeScpLmF0dHIoJ3JvbGUnLCAnYWxlcnQnKS5hdHRyKCd0YWJpbmRleCcsICctMScpO1xuICAgIHZhciAkaDIgPSAkKCc8aDIgLz4nKS5hdHRyKCdjbGFzcycsICdoZWFkaW5nLW1lZGl1bSBlcnJvci1zdW1tYXJ5LWhlYWRpbmcnKS5hdHRyKCdpZCcsICdlcnJvci1zdW1tYXJ5Jyk7XG4gICAgdmFyICR1bCA9ICQoJzx1bCAvPicpLmF0dHIoJ2NsYXNzJywgJ2Vycm9yLXN1bW1hcnktbGlzdCcpO1xuXG4gICAgaWYgKG1lc3NhZ2VzKSB7XG4gICAgICAkaDIudGV4dCgnSW5mb3JtYXRpb24gbWlzc2luZyBvciBpbmNvcnJlY3QnKTtcbiAgICAgICQuZWFjaChtZXNzYWdlcywgZnVuY3Rpb24gKGluZGV4LCB2YWx1ZSkge1xuICAgICAgICBpZiAoaW5kZXggPT09ICdsb2dpbkVycm9yJykge1xuICAgICAgICAgIGluZGV4ID0gJ3VzZXJuYW1lJztcbiAgICAgICAgfVxuICAgICAgICB2YXIgJGEgPSAkKCc8YSAvPicpLmF0dHIoJ2hyZWYnLCAnIycgKyBpbmRleCkudGV4dCh2YWx1ZSk7XG4gICAgICAgIHZhciAkbGkgPSAkKCc8bGkgLz4nKS5hcHBlbmQoJGEpO1xuICAgICAgICAkdWwuYXBwZW5kKCRsaSk7XG4gICAgICB9KTtcbiAgICAgIGlmIChzaG93UmVmcmVzaExpbmspIHtcbiAgICAgICAgdmFyICRhID0gJCgnPGEgLz4nKS5hdHRyKCdjbGFzcycsICdnb3Z1ay1saW5rJykuYXR0cignaHJlZicsICcnKS5hdHRyKCdvbmNsaWNrJywgJ3dpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKScpLnRleHQoJ1JlZnJlc2ggdGhpcyBwYWdlJykuY3NzKCdjb2xvcicsICcjMWQ3MGI4Jyk7XG4gICAgICAgIHZhciAkbGkgPSAkKCc8bGkgLz4nKS5hcHBlbmQoJGEpO1xuICAgICAgICAkdWwuYXBwZW5kKCRsaSk7XG4gICAgICB9XG5cbiAgICB9IGVsc2Uge1xuICAgICAgJGgyLnRleHQoJ1RoZXJlIGhhcyBiZWVuIGFuIGVycm9yJyk7XG4gICAgICB2YXIgJGxpID0gJCgnPGxpIC8+JykuaHRtbCgnUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci4gSWYgdGhlIHByb2JsZW0gY29udGludWVzLCBmb2xsb3cgdGhlIGxpbmsgdG8gPGEgaHJlZj1cImh0dHBzOi8vaGVscC5zaWduaW4uZWR1Y2F0aW9uLmdvdi51ay9jb250YWN0L2Zvcm1cIj5zdWJtaXQgYSBzdXBwb3J0IHJlcXVlc3Q8L2E+Jyk7XG4gICAgICAkdWwuYXBwZW5kKCRsaSk7XG4gICAgfVxuXG4gICAgJGRpdi5hcHBlbmQoJGgyKS5hcHBlbmQoJHVsKTtcbiAgICAkKCdtYWluJykucHJlcGVuZCgkZGl2KTtcblxuICAgICQoJ2h0bWwsIGJvZHknKS5hbmltYXRlKHtcbiAgICAgIHNjcm9sbFRvcDogJGRpdi5vZmZzZXQoKS50b3AgLSAxNVxuICAgIH0sIDMwMCk7XG5cbiAgfSxcbiAgc2hvd0lubGluZVZhbGlkYXRpb246IGZ1bmN0aW9uKG1lc3NhZ2VzKSB7XG5cbiAgICAkLmVhY2gobWVzc2FnZXMsIGZ1bmN0aW9uKCBpbmRleCwgdmFsdWUgKSB7XG4gICAgICB2YXIgJGZpZWxkID0gJCgnaW5wdXRbbmFtZT0nICsgaW5kZXggKyAnXScpLFxuICAgICAgICAkcGFyZW50ID0gJGZpZWxkLnBhcmVudCgpO1xuXG4gICAgICBpZiAoJHBhcmVudC5oYXNDbGFzcygnc2hvdy1wYXNzd29yZCcpKSB7XG4gICAgICAgICRwYXJlbnQgPSAkcGFyZW50LnBhcmVudCgpO1xuICAgICAgfVxuXG4gICAgICB2YXIgJGxhYmVsID0gJHBhcmVudC5maW5kKCdsYWJlbCcpLmZpcnN0KCk7XG5cbiAgICAgIGlmICghJHBhcmVudC5oYXNDbGFzcygnZm9ybS1ncm91cC1lcnJvcicpKSB7XG5cbiAgICAgICAgdmFyIGVycm9yTWVzc2FnZSA9ICQoJzxwPicpXG4gICAgICAgICAgLmh0bWwodmFsdWUpXG4gICAgICAgICAgLnByb3AoJ2NsYXNzJywgJ2Vycm9yLW1lc3NhZ2UnKVxuICAgICAgICAgIC5wcm9wKCdpZCcsICd2YWxpZGF0aW9uLScgKyBpbmRleCk7XG4gICAgICB9XG5cbiAgICAgICRsYWJlbC5hZnRlcihlcnJvck1lc3NhZ2UpO1xuICAgICAgJHBhcmVudC5hZGRDbGFzcygnZm9ybS1ncm91cC1lcnJvcicpO1xuICAgICAgJGZpZWxkLmF0dHIoe1xuICAgICAgICAnYXJpYS1kZXNjcmliZWRieScgOiAndmFsaWRhdGlvbi0nICsgaW5kZXgsXG4gICAgICAgICdhcmlhLWludmFsaWQnOiAndHJ1ZSdcbiAgICAgIH0pO1xuXG4gICAgfSk7XG5cbiAgfSxcbiAgYnVpbGRGb3JtQW5kU3VibWl0OiBmdW5jdGlvbiAoZGF0YSkge1xuXG4gICAgdmFyICRmb3JtID0gJCgnPGZvcm0gLz4nKS5hdHRyKHtcbiAgICAgIG1ldGhvZDogJ3Bvc3QnLFxuICAgICAgYWN0aW9uOiBkYXRhLmRlc3RpbmF0aW9uLFxuICAgICAgaWQ6ICdkZmVzaWduaW5mb3JtJ1xuICAgIH0pO1xuXG4gICAgJC5lYWNoKGRhdGEucG9zdGJhY2tEYXRhLCBmdW5jdGlvbiggaW5kZXgsIHZhbHVlICkge1xuICAgICAgdmFyICRmaWVsZCA9ICQoJzxpbnB1dCAvPicpLmF0dHIoe1xuICAgICAgICB0eXBlOiAnaGlkZGVuJyxcbiAgICAgICAgbmFtZTogaW5kZXgsXG4gICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgfSk7XG4gICAgICAkZm9ybS5hcHBlbmQoJGZpZWxkKTtcbiAgICB9KTtcblxuICAgICQoJyNkZmVzaWduaW5mb3JtJykucmVtb3ZlKCk7XG4gICAgJCgnYm9keScpLmFwcGVuZCgkZm9ybSk7XG4gICAgJGZvcm0uc3VibWl0KCk7XG4gIH0sXG59O1xuXG5pZiAoJCgnLmZvcm0tc2lnbmluJykubGVuZ3RoID4gMCkge1xuICBOU0Euc2lnbmluLmluaXQoKTtcbn1cblxuZnVuY3Rpb24gZ2V0UGFyYW1ldGVyQnlOYW1lKG5hbWUsIHVybCkge1xuICBpZiAoIXVybCkgdXJsID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XG4gIG5hbWUgPSBuYW1lLnJlcGxhY2UoL1tcXFtcXF1dL2csIFwiXFxcXCQmXCIpO1xuICB2YXIgcmVnZXggPSBuZXcgUmVnRXhwKFwiWz8mXVwiICsgbmFtZSArIFwiKD0oW14mI10qKXwmfCN8JClcIiksXG4gICAgcmVzdWx0cyA9IHJlZ2V4LmV4ZWModXJsKTtcbiAgaWYgKCFyZXN1bHRzKSByZXR1cm4gbnVsbDtcbiAgaWYgKCFyZXN1bHRzWzJdKSByZXR1cm4gJyc7XG4gIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQocmVzdWx0c1syXS5yZXBsYWNlKC9cXCsvZywgXCIgXCIpKTtcbn1cbiIsIlwidXNlIHN0cmljdFwiO1xuXG5mdW5jdGlvbiBzb3J0VGFibGUobikge1xuICB2YXIgdGFibGUsIHJvd3MsIHN3aXRjaGluZywgaSwgeCwgeSwgc2hvdWxkU3dpdGNoLCBkaXJlY3Rpb24sIHN3aXRjaGNvdW50ID0gMDtcbiAgdGFibGUgPSAkKCd0YWJsZS5zb3J0YWJsZScpO1xuICBzd2l0Y2hpbmcgPSB0cnVlO1xuICBkaXJlY3Rpb24gPSAnYSc7XG5cbiAgd2hpbGUgKHN3aXRjaGluZykge1xuXG4gICAgc3dpdGNoaW5nID0gZmFsc2U7XG4gICAgcm93cyA9IHRhYmxlLmZpbmQoJ3RyJyk7XG5cbiAgICBmb3IgKGkgPSAxOyBpIDwgKHJvd3MubGVuZ3RoIC0gMSk7IGkrKykge1xuXG4gICAgICBzaG91bGRTd2l0Y2ggPSBmYWxzZTtcblxuICAgICAgeCA9IHJvd3NbaV0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ1REJylbbl07XG4gICAgICB5ID0gcm93c1tpICsgMV0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ1REJylbbl07XG5cbiAgICAgIGlmIChkaXJlY3Rpb24gPT09ICdhJykge1xuICAgICAgICBpZiAoeC5pbm5lckhUTUwudG9Mb3dlckNhc2UoKSA+IHkuaW5uZXJIVE1MLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgICBzaG91bGRTd2l0Y2ggPSB0cnVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gJ2QnKSB7XG4gICAgICAgIGlmICh4LmlubmVySFRNTC50b0xvd2VyQ2FzZSgpIDwgeS5pbm5lckhUTUwudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICAgIHNob3VsZFN3aXRjaCA9IHRydWU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc2hvdWxkU3dpdGNoKSB7XG5cbiAgICAgIHJvd3NbaV0ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUocm93c1tpICsgMV0sIHJvd3NbaV0pO1xuICAgICAgc3dpdGNoaW5nID0gdHJ1ZTtcblxuICAgICAgc3dpdGNoY291bnQgKys7XG5cbiAgICB9IGVsc2Uge1xuXG4gICAgICBpZiAoc3dpdGNoY291bnQgPT09IDAgJiYgZGlyZWN0aW9uID09PSAnYScpIHtcbiAgICAgICAgZGlyZWN0aW9uID0gJ2QnO1xuICAgICAgICBzd2l0Y2hpbmcgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgfVxuICB9XG4gIHJldHVybiBkaXJlY3Rpb247XG59XG5cbiQoZnVuY3Rpb24gKCkge1xuXG4gICQoJ3RhYmxlLnNvcnRhYmxlIHRoZWFkIHRoJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIGhlYWRpbmdDZWxscyA9ICQoJ3RhYmxlLnNvcnRhYmxlIHRoZWFkIHRyIHRoJyk7XG5cbiAgICBoZWFkaW5nQ2VsbHMucmVtb3ZlQ2xhc3MoJ3NvcnRlZCcpLnJlbW92ZUNsYXNzKCdkaXItYScpLnJlbW92ZUNsYXNzKCdkaXItZCcpO1xuXG4gICAgdmFyIGluZGV4ID0gaGVhZGluZ0NlbGxzLmluZGV4KCQodGhpcykpO1xuXG4gICAgdmFyIGRpcmVjdGlvbiA9IHNvcnRUYWJsZShpbmRleCk7XG5cbiAgICAkKHRoaXMpLmFkZENsYXNzKCdzb3J0ZWQgZGlyLScgKyBkaXJlY3Rpb24pO1xuXG4gIH0pO1xuXG59KTtcbiIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgTlNBID0gTlNBIHx8IHt9O1xuXG5OU0EubW9kYWwgPSB7XG4gIGVsZW1zOiB7XG4gICAgbGlua3M6ICQoJy5tb2RhbC1saW5rJyksXG4gICAgbW9kYWxzOiAkKCcubW9kYWwnKVxuICB9LFxuICBpbml0OiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5tb2RhbEJnKCk7XG4gICAgdGhpcy5zZXRVcEV2ZW50cygpO1xuICB9LFxuICBtb2RhbEJnOiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgIHZhciBiZyA9ICQoJzxkaXY+JykuYWRkQ2xhc3MoJ21vZGFsLWJnJykuaGlkZSgpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHsgdGhhdC5oaWRlTW9kYWxzKCk7IH0pO1xuICAgICQoJ2JvZHknKS5hcHBlbmQoYmcpO1xuICB9LFxuICBzZXRVcEV2ZW50czogZnVuY3Rpb24gKCkge1xuICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICB0aGlzLmVsZW1zLmxpbmtzLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgdGFyZ2V0ID0gJCh0aGlzKS5hdHRyKCdocmVmJyk7XG4gICAgICB0aGF0LnNob3dNb2RhbCgkKHRhcmdldCkpO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuXG4gICAgdGhhdC5lbGVtcy5tb2RhbHMuZmluZCgnLmNsb3NlJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIHRoYXQuaGlkZU1vZGFscygpO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuXG4gICAgJCgnYm9keScpLm9uKCdrZXlkb3duJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlmICgoZS5rZXlDb2RlIHx8IGUud2hpY2gpID09PSAyNylcbiAgICAgICAgdGhhdC5oaWRlTW9kYWxzKCk7XG4gICAgfSk7XG4gIH0sXG4gIHNob3dNb2RhbDogZnVuY3Rpb24gKG1vZGFsKSB7XG4gICAgJCgnaHRtbCcpLmFkZENsYXNzKCdtb2RhbC1vcGVuJyk7XG4gICAgJCgnLm1vZGFsLWJnJykuc2hvdygpO1xuICAgIG1vZGFsLnNob3coKTtcbiAgfSxcbiAgaGlkZU1vZGFsczogZnVuY3Rpb24gKCkge1xuICAgICQoJ2h0bWwnKS5yZW1vdmVDbGFzcygnbW9kYWwtb3BlbicpO1xuICAgICQoJy5tb2RhbC1iZycpLmhpZGUoKTtcbiAgICB0aGlzLmVsZW1zLm1vZGFscy5oaWRlKCk7XG4gIH1cbn1cblxuTlNBLm1vZGFsLmluaXQoKTtcbiIsIjsoZnVuY3Rpb24gKGdsb2JhbCkge1xuICAndXNlIHN0cmljdCdcblxuICB2YXIgJCA9IGdsb2JhbC5qUXVlcnlcbiAgdmFyIEdPVlVLID0gZ2xvYmFsLkdPVlVLIHx8IHt9XG5cbiAgZnVuY3Rpb24gU2hvd0hpZGVDb250ZW50ICgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXNcblxuICAgIC8vIFJhZGlvIGFuZCBDaGVja2JveCBzZWxlY3RvcnNcbiAgICB2YXIgc2VsZWN0b3JzID0ge1xuICAgICAgbmFtZXNwYWNlOiAnU2hvd0hpZGVDb250ZW50JyxcbiAgICAgIHJhZGlvOiAnW2RhdGEtdGFyZ2V0XSA+IGlucHV0W3R5cGU9XCJyYWRpb1wiXScsXG4gICAgICBjaGVja2JveDogJ1tkYXRhLXRhcmdldF0gPiBpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0nLFxuICAgICAgbGluazogJ2EuanMtdG9nZ2xlLWNvbnRlbnQnXG4gICAgfVxuXG4gICAgLy8gRXNjYXBlIG5hbWUgYXR0cmlidXRlIGZvciB1c2UgaW4gRE9NIHNlbGVjdG9yXG4gICAgZnVuY3Rpb24gZXNjYXBlRWxlbWVudE5hbWUgKHN0cikge1xuICAgICAgdmFyIHJlc3VsdCA9IHN0ci5yZXBsYWNlKCdbJywgJ1xcXFxbJykucmVwbGFjZSgnXScsICdcXFxcXScpXG4gICAgICByZXR1cm4gcmVzdWx0XG4gICAgfVxuXG4gICAgLy8gQWRkcyBBUklBIGF0dHJpYnV0ZXMgdG8gY29udHJvbCArIGFzc29jaWF0ZWQgY29udGVudFxuICAgIGZ1bmN0aW9uIGluaXRUb2dnbGVkQ29udGVudCAoKSB7XG4gICAgICB2YXIgJGNvbnRyb2wgPSAkKHRoaXMpXG4gICAgICB2YXIgJGNvbnRlbnQgPSBnZXRUb2dnbGVkQ29udGVudCgkY29udHJvbClcblxuICAgICAgLy8gU2V0IGFyaWEtY29udHJvbHMgYW5kIGRlZmF1bHRzXG4gICAgICBpZiAoJGNvbnRlbnQubGVuZ3RoKSB7XG4gICAgICAgICRjb250cm9sLmF0dHIoJ2FyaWEtY29udHJvbHMnLCAkY29udGVudC5hdHRyKCdpZCcpKVxuICAgICAgICAkY29udHJvbC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJylcbiAgICAgICAgJGNvbnRlbnQuYXR0cignYXJpYS1oaWRkZW4nLCAndHJ1ZScpXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUmV0dXJuIHRvZ2dsZWQgY29udGVudCBmb3IgY29udHJvbFxuICAgIGZ1bmN0aW9uIGdldFRvZ2dsZWRDb250ZW50ICgkY29udHJvbCkge1xuICAgICAgdmFyIGlkID0gJGNvbnRyb2wuYXR0cignYXJpYS1jb250cm9scycpXG5cbiAgICAgIC8vIEFSSUEgYXR0cmlidXRlcyBhcmVuJ3Qgc2V0IGJlZm9yZSBpbml0XG4gICAgICBpZiAoIWlkKSB7XG4gICAgICAgIGlkID0gJGNvbnRyb2wuY2xvc2VzdCgnW2RhdGEtdGFyZ2V0XScpLmRhdGEoJ3RhcmdldCcpXG4gICAgICB9XG5cbiAgICAgIC8vIEZpbmQgc2hvdy9oaWRlIGNvbnRlbnQgYnkgaWRcbiAgICAgIHJldHVybiAkKCcjJyArIGlkKVxuICAgIH1cblxuICAgIC8vIFNob3cgdG9nZ2xlZCBjb250ZW50IGZvciBjb250cm9sXG4gICAgZnVuY3Rpb24gc2hvd1RvZ2dsZWRDb250ZW50ICgkY29udHJvbCwgJGNvbnRlbnQpIHtcbiAgICAgIC8vIFNob3cgY29udGVudFxuICAgICAgaWYgKCRjb250ZW50Lmhhc0NsYXNzKCdqcy1oaWRkZW4nKSkge1xuICAgICAgICAkY29udGVudC5yZW1vdmVDbGFzcygnanMtaGlkZGVuJylcbiAgICAgICAgJGNvbnRlbnQuYXR0cignYXJpYS1oaWRkZW4nLCAnZmFsc2UnKVxuXG4gICAgICAgIC8vIElmIHRoZSBjb250cm9sbGluZyBpbnB1dCwgdXBkYXRlIGFyaWEtZXhwYW5kZWRcbiAgICAgICAgaWYgKCRjb250cm9sLmF0dHIoJ2FyaWEtY29udHJvbHMnKSkge1xuICAgICAgICAgICRjb250cm9sLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCAndHJ1ZScpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBIaWRlIHRvZ2dsZWQgY29udGVudCBmb3IgY29udHJvbFxuICAgIGZ1bmN0aW9uIGhpZGVUb2dnbGVkQ29udGVudCAoJGNvbnRyb2wsICRjb250ZW50KSB7XG4gICAgICAkY29udGVudCA9ICRjb250ZW50IHx8IGdldFRvZ2dsZWRDb250ZW50KCRjb250cm9sKVxuXG4gICAgICAvLyBIaWRlIGNvbnRlbnRcbiAgICAgIGlmICghJGNvbnRlbnQuaGFzQ2xhc3MoJ2pzLWhpZGRlbicpKSB7XG4gICAgICAgICRjb250ZW50LmFkZENsYXNzKCdqcy1oaWRkZW4nKVxuICAgICAgICAkY29udGVudC5hdHRyKCdhcmlhLWhpZGRlbicsICd0cnVlJylcblxuICAgICAgICAvLyBJZiB0aGUgY29udHJvbGxpbmcgaW5wdXQsIHVwZGF0ZSBhcmlhLWV4cGFuZGVkXG4gICAgICAgIGlmICgkY29udHJvbC5hdHRyKCdhcmlhLWNvbnRyb2xzJykpIHtcbiAgICAgICAgICAkY29udHJvbC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJylcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEhhbmRsZSByYWRpbyBzaG93L2hpZGVcbiAgICBmdW5jdGlvbiBoYW5kbGVSYWRpb0NvbnRlbnQgKCRjb250cm9sLCAkY29udGVudCkge1xuICAgICAgLy8gQWxsIHJhZGlvcyBpbiB0aGlzIGdyb3VwIHdoaWNoIGNvbnRyb2wgY29udGVudFxuICAgICAgdmFyIHNlbGVjdG9yID0gc2VsZWN0b3JzLnJhZGlvICsgJ1tuYW1lPScgKyBlc2NhcGVFbGVtZW50TmFtZSgkY29udHJvbC5hdHRyKCduYW1lJykpICsgJ11bYXJpYS1jb250cm9sc10nXG4gICAgICB2YXIgJGZvcm0gPSAkY29udHJvbC5jbG9zZXN0KCdmb3JtJylcbiAgICAgIHZhciAkcmFkaW9zID0gJGZvcm0ubGVuZ3RoID8gJGZvcm0uZmluZChzZWxlY3RvcikgOiAkKHNlbGVjdG9yKVxuXG4gICAgICAvLyBIaWRlIGNvbnRlbnQgZm9yIHJhZGlvcyBpbiBncm91cFxuICAgICAgJHJhZGlvcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaGlkZVRvZ2dsZWRDb250ZW50KCQodGhpcykpXG4gICAgICB9KVxuXG4gICAgICAvLyBTZWxlY3QgY29udGVudCBmb3IgdGhpcyBjb250cm9sXG4gICAgICBpZiAoJGNvbnRyb2wuaXMoJ1thcmlhLWNvbnRyb2xzXScpKSB7XG4gICAgICAgIHNob3dUb2dnbGVkQ29udGVudCgkY29udHJvbCwgJGNvbnRlbnQpXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIGNoZWNrYm94IHNob3cvaGlkZVxuICAgIGZ1bmN0aW9uIGhhbmRsZUNoZWNrYm94Q29udGVudCAoJGNvbnRyb2wsICRjb250ZW50KSB7XG4gICAgICAvLyBTaG93IGNoZWNrYm94IGNvbnRlbnRcbiAgICAgIGlmICgkY29udHJvbC5pcygnOmNoZWNrZWQnKSkge1xuICAgICAgICBzaG93VG9nZ2xlZENvbnRlbnQoJGNvbnRyb2wsICRjb250ZW50KVxuICAgICAgfSBlbHNlIHsgLy8gSGlkZSBjaGVja2JveCBjb250ZW50XG4gICAgICAgIGhpZGVUb2dnbGVkQ29udGVudCgkY29udHJvbCwgJGNvbnRlbnQpXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIGNoZWNrYm94IHNob3cvaGlkZVxuICAgIGZ1bmN0aW9uIGhhbmRsZUxpbmtDb250ZW50ICgkY29udHJvbCwgJGNvbnRlbnQsICRldmVudCkge1xuICAgICAgaWYgKCRjb250ZW50Lmhhc0NsYXNzKCdqcy1oaWRkZW4nKSkge1xuICAgICAgICBzaG93VG9nZ2xlZENvbnRlbnQoJGNvbnRyb2wsICRjb250ZW50KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaGlkZVRvZ2dsZWRDb250ZW50KCRjb250cm9sLCAkY29udGVudClcbiAgICAgIH1cbiAgICAgICRldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgfVxuXG4gICAgLy8gU2V0IHVwIGV2ZW50IGhhbmRsZXJzIGV0Y1xuICAgIGZ1bmN0aW9uIGluaXQgKCRjb250YWluZXIsIGVsZW1lbnRTZWxlY3RvciwgZXZlbnRTZWxlY3RvcnMsIGhhbmRsZXIpIHtcbiAgICAgICRjb250YWluZXIgPSAkY29udGFpbmVyIHx8ICQoZG9jdW1lbnQuYm9keSlcblxuICAgICAgLy8gSGFuZGxlIGNvbnRyb2wgY2xpY2tzXG4gICAgICBmdW5jdGlvbiBkZWZlcnJlZCAoZXZlbnQpIHtcbiAgICAgICAgdmFyICRjb250cm9sID0gJCh0aGlzKVxuICAgICAgICBoYW5kbGVyKCRjb250cm9sLCBnZXRUb2dnbGVkQ29udGVudCgkY29udHJvbCksIGV2ZW50KVxuICAgICAgfVxuXG4gICAgICAvLyBQcmVwYXJlIEFSSUEgYXR0cmlidXRlc1xuICAgICAgdmFyICRjb250cm9scyA9ICQoZWxlbWVudFNlbGVjdG9yKVxuICAgICAgJGNvbnRyb2xzLmVhY2goaW5pdFRvZ2dsZWRDb250ZW50KVxuXG4gICAgICAvLyBIYW5kbGUgZXZlbnRzXG4gICAgICAkLmVhY2goZXZlbnRTZWxlY3RvcnMsIGZ1bmN0aW9uIChpZHgsIGV2ZW50U2VsZWN0b3IpIHtcbiAgICAgICAgJGNvbnRhaW5lci5vbignY2xpY2suJyArIHNlbGVjdG9ycy5uYW1lc3BhY2UsIGV2ZW50U2VsZWN0b3IsIGRlZmVycmVkKVxuICAgICAgfSlcblxuICAgICAgLy8gQW55IGFscmVhZHkgOmNoZWNrZWQgb24gaW5pdD9cbiAgICAgIGlmICgkY29udHJvbHMuaXMoJzpjaGVja2VkJykpIHtcbiAgICAgICAgJGNvbnRyb2xzLmZpbHRlcignOmNoZWNrZWQnKS5lYWNoKGRlZmVycmVkKVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEdldCBldmVudCBzZWxlY3RvcnMgZm9yIGFsbCByYWRpbyBncm91cHNcbiAgICBmdW5jdGlvbiBnZXRFdmVudFNlbGVjdG9yc0ZvclJhZGlvR3JvdXBzICgpIHtcbiAgICAgIHZhciByYWRpb0dyb3VwcyA9IFtdXG5cbiAgICAgIC8vIEJ1aWxkIGFuIGFycmF5IG9mIHJhZGlvIGdyb3VwIHNlbGVjdG9yc1xuICAgICAgcmV0dXJuICQoc2VsZWN0b3JzLnJhZGlvKS5tYXAoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZ3JvdXBOYW1lID0gJCh0aGlzKS5hdHRyKCduYW1lJylcblxuICAgICAgICBpZiAoJC5pbkFycmF5KGdyb3VwTmFtZSwgcmFkaW9Hcm91cHMpID09PSAtMSkge1xuICAgICAgICAgIHJhZGlvR3JvdXBzLnB1c2goZ3JvdXBOYW1lKVxuICAgICAgICAgIHJldHVybiAnaW5wdXRbdHlwZT1cInJhZGlvXCJdW25hbWU9XCInICsgJCh0aGlzKS5hdHRyKCduYW1lJykgKyAnXCJdJ1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsXG4gICAgICB9KVxuICAgIH1cblxuICAgIC8vIFNldCB1cCByYWRpbyBzaG93L2hpZGUgY29udGVudCBmb3IgY29udGFpbmVyXG4gICAgc2VsZi5zaG93SGlkZVJhZGlvVG9nZ2xlZENvbnRlbnQgPSBmdW5jdGlvbiAoJGNvbnRhaW5lcikge1xuICAgICAgaW5pdCgkY29udGFpbmVyLCBzZWxlY3RvcnMucmFkaW8sIGdldEV2ZW50U2VsZWN0b3JzRm9yUmFkaW9Hcm91cHMoKSwgaGFuZGxlUmFkaW9Db250ZW50KVxuICAgIH1cblxuICAgIC8vIFNldCB1cCBjaGVja2JveCBzaG93L2hpZGUgY29udGVudCBmb3IgY29udGFpbmVyXG4gICAgc2VsZi5zaG93SGlkZUNoZWNrYm94VG9nZ2xlZENvbnRlbnQgPSBmdW5jdGlvbiAoJGNvbnRhaW5lcikge1xuICAgICAgaW5pdCgkY29udGFpbmVyLCBzZWxlY3RvcnMuY2hlY2tib3gsIFtzZWxlY3RvcnMuY2hlY2tib3hdLCBoYW5kbGVDaGVja2JveENvbnRlbnQpXG4gICAgfVxuXG4gICAgLy8gU2V0IHVwIGxpbmtzIHNob3cvaGlkZSBjb250ZW50IGZvciBjb250YWluZXJcbiAgICBzZWxmLnNob3dIaWRlTGlua1RvZ2dsZWRDb250ZW50ID0gZnVuY3Rpb24gKCRjb250YWluZXIpIHtcbiAgICAgIGluaXQoJGNvbnRhaW5lciwgc2VsZWN0b3JzLmxpbmssIFtzZWxlY3RvcnMubGlua10sIGhhbmRsZUxpbmtDb250ZW50KVxuICAgIH1cblxuICAgIC8vIFJlbW92ZSBldmVudCBoYW5kbGVyc1xuICAgIHNlbGYuZGVzdHJveSA9IGZ1bmN0aW9uICgkY29udGFpbmVyKSB7XG4gICAgICAkY29udGFpbmVyID0gJGNvbnRhaW5lciB8fCAkKGRvY3VtZW50LmJvZHkpXG4gICAgICAkY29udGFpbmVyLm9mZignLicgKyBzZWxlY3RvcnMubmFtZXNwYWNlKVxuICAgIH1cbiAgfVxuXG4gIFNob3dIaWRlQ29udGVudC5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICgkY29udGFpbmVyKSB7XG4gICAgdGhpcy5zaG93SGlkZVJhZGlvVG9nZ2xlZENvbnRlbnQoJGNvbnRhaW5lcilcbiAgICB0aGlzLnNob3dIaWRlQ2hlY2tib3hUb2dnbGVkQ29udGVudCgkY29udGFpbmVyKVxuICAgIHRoaXMuc2hvd0hpZGVMaW5rVG9nZ2xlZENvbnRlbnQoJGNvbnRhaW5lcilcbiAgfVxuXG4gIEdPVlVLLlNob3dIaWRlQ29udGVudCA9IFNob3dIaWRlQ29udGVudFxuICBnbG9iYWwuR09WVUsgPSBHT1ZVS1xufSkod2luZG93KVxuIiwidmFyIHRvZ2dsZVRpcHMgPSAkKCcudG9nZ2xlLWhlbHAnKTtcblxudG9nZ2xlVGlwcy5lYWNoKGZ1bmN0aW9uICgpIHtcblxuICB2YXIgJHRoYXQsXG4gICAgbGl2ZVJlZ2lvbixcbiAgICBjb250YWluZXIsXG4gICAgdG9nZ2xlVGlwO1xuXG4gICR0aGF0ID0gJCh0aGlzKTtcblxuICBjb250YWluZXIgPSAkKCc8c3BhbiAvPicpLmF0dHIoJ2NsYXNzJywgJ3RvZ2dsZXRpcCcpO1xuXG4gIHRvZ2dsZVRpcCA9ICQoJzxidXR0b24gLz4nKVxuICAgIC5hdHRyKCd0eXBlJywgJ2J1dHRvbicpXG4gICAgLmF0dHIoJ2FyaWEtbGFiZWwnLCAnSGVscCcpXG4gICAgLmF0dHIoJ2RhdGEtdG9nZ2xldGlwLWNvbnRlbnQnLCAkdGhhdC5odG1sKCkpXG4gICAgLnRleHQoJz8nKVxuICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgbWVzc2FnZSA9ICQodGhpcykuZGF0YSgndG9nZ2xldGlwLWNvbnRlbnQnKTtcbiAgICAgIHZhciBsaXZlUmVnaW9uID0gJCh0aGlzKS5uZXh0KCk7XG4gICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxpdmVSZWdpb24uaHRtbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuICQoJzxzcGFuIC8+JylcbiAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuICR0aGF0Lmh0bWwoKS5sZW5ndGggPiA1MCA/ICdidWJibGUgbG9uZycgOiAnYnViYmxlJ1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC50ZXh0KG1lc3NhZ2UpXG4gICAgICAgIH0pXG4gICAgICB9LCAxMDApO1xuICAgIH0pXG4gICAgLm9uKCdrZXlkb3duJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlmICgoZS5rZXlDb2RlIHx8IGUud2hpY2gpID09PSAyNylcbiAgICAgICAgbGl2ZVJlZ2lvbi5odG1sKCcnKTtcbiAgICB9KTtcblxuICBsaXZlUmVnaW9uID0gJCgnPHNwYW4gLz4nKVxuICAgIC5hdHRyKCdyb2xlJywgJ3N0YXR1cycpO1xuXG4gIGNvbnRhaW5lci5hcHBlbmQodG9nZ2xlVGlwLCBsaXZlUmVnaW9uKTtcblxuICAkdGhhdC5iZWZvcmUoY29udGFpbmVyKS5yZW1vdmUoKTtcblxuICAkKGRvY3VtZW50KS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgIGlmICgkdGhhdFswXSAhPT0gJChlLnRhcmdldCkpIHtcbiAgICAgIGxpdmVSZWdpb24uaHRtbCgnJyk7XG4gICAgfVxuICB9KTtcblxufSk7XG4iLCJ2YXIgZm9ybXMgPSAkKCcjY29udGVudCBmb3JtJyk7XG4vL3ZhciBpbnB1dHMgPSBmb3Jtcy5maW5kKCcuZm9ybS1ncm91cCBpbnB1dCcpO1xuXG5mb3Jtcy5hdHRyKCdub3ZhbGlkYXRlJywgJ25vdmFsaWRhdGUnKTtcblxuLypcbmZvcm1zLm9uKCdzdWJtaXQnLCBmdW5jdGlvbiAoKSB7XG4gIGlucHV0cy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcmVzdWx0ID0gdGhpcy5jaGVja1ZhbGlkaXR5KCk7XG4gICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgIHNob3dWYWxpZGF0aW9uTWVzc2FnZSh0aGlzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaGlkZVZhbGlkYXRpb25NZXNzYWdlKHRoaXMpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiB0aGlzLmNoZWNrVmFsaWRpdHkoKTtcbn0pO1xuXG5pbnB1dHMub24oJ2JsdXInLCBmdW5jdGlvbiAoKSB7XG4gIHZhciByZXN1bHQgPSB0aGlzLmNoZWNrVmFsaWRpdHkoKTtcbiAgaWYgKCFyZXN1bHQpIHtcbiAgICBzaG93VmFsaWRhdGlvbk1lc3NhZ2UodGhpcyk7XG4gIH0gZWxzZSB7XG4gICAgaGlkZVZhbGlkYXRpb25NZXNzYWdlKHRoaXMpO1xuICB9XG59KTtcblxudmFyIHNob3dWYWxpZGF0aW9uTWVzc2FnZSA9IGZ1bmN0aW9uIChmaWVsZCkge1xuXG4gIHZhciBmaWVsZCA9IGZpZWxkLFxuICAgICRmaWVsZCA9ICQoZmllbGQpLFxuICAgICRwYXJlbnQgPSAkZmllbGQucGFyZW50KCk7XG5cbiAgaWYgKCRwYXJlbnQuaGFzQ2xhc3MoJ3Nob3ctcGFzc3dvcmQnKSkge1xuICAgICRwYXJlbnQgPSAkcGFyZW50LnBhcmVudCgpO1xuICB9XG5cbiAgaWYgKCEkcGFyZW50Lmhhc0NsYXNzKCdmb3JtLWdyb3VwLWVycm9yJykpIHtcblxuICAgIHZhciBsYWJlbFRleHQgPSAkZmllbGQuZGF0YSgnbGFiZWwnKSB8fCAkKFwibGFiZWxbZm9yPSdcIiArICRmaWVsZC5hdHRyKCdpZCcpICsgXCInXVwiKS50ZXh0KCksXG4gICAgICBlcnJvck1lc3NhZ2VUZXh0ID0gJ0VudGVyIGEgdmFsaWQgJyArIGxhYmVsVGV4dC50b0xvd2VyQ2FzZSgpLFxuICAgICAgZXJyb3JNZXNzYWdlID0gJCgnPHA+JylcbiAgICAgICAgLmh0bWwoZXJyb3JNZXNzYWdlVGV4dClcbiAgICAgICAgLnByb3AoJ2NsYXNzJywgJ2Vycm9yLW1lc3NhZ2UnKVxuICAgICAgICAucHJvcCgnaWQnLCAndmFsaWRhdGlvbi0nICsgc2x1Z2lmeShsYWJlbFRleHQpKTtcblxuICAgICRmaWVsZC5iZWZvcmUoZXJyb3JNZXNzYWdlKTtcbiAgICAkcGFyZW50LmFkZENsYXNzKCdmb3JtLWdyb3VwLWVycm9yJyk7XG4gICAgJGZpZWxkLmF0dHIoe1xuICAgICAgJ2FyaWEtZGVzY3JpYmVkYnknIDogJ3ZhbGlkYXRpb24tJyArIHNsdWdpZnkobGFiZWxUZXh0KSxcbiAgICAgICdhcmlhLWludmFsaWQnOiAndHJ1ZSdcbiAgICB9KTtcbiAgfVxufVxuXG52YXIgaGlkZVZhbGlkYXRpb25NZXNzYWdlID0gZnVuY3Rpb24gKGZpZWxkKSB7XG4gIHZhciBmaWVsZCA9IGZpZWxkLFxuICAgICRmaWVsZCA9ICQoZmllbGQpLFxuICAgICRwYXJlbnQgPSAkZmllbGQucGFyZW50KCk7XG5cbiAgaWYgKCRwYXJlbnQuaGFzQ2xhc3MoJ3Nob3ctcGFzc3dvcmQnKSkge1xuICAgICRwYXJlbnQgPSAkcGFyZW50LnBhcmVudCgpO1xuICB9XG5cbiAgJHBhcmVudC5yZW1vdmVDbGFzcygnZm9ybS1ncm91cC1lcnJvcicpO1xuICAkcGFyZW50LmZpbmQoJ3AuZXJyb3ItbWVzc2FnZScpLnJlbW92ZSgpO1xuICAkZmllbGQucmVtb3ZlQXR0cignYXJpYS1kZXNjcmliZWRieScpO1xuICAkZmllbGQucmVtb3ZlQXR0cignYXJpYS1pbnZhbGlkJyk7XG59XG5cbnZhciBzbHVnaWZ5ID0gZnVuY3Rpb24gKHRleHQpIHtcbiAgcmV0dXJuIHRleHQudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpXG4gICAgLnJlcGxhY2UoL1xccysvZywgJy0nKVxuICAgIC5yZXBsYWNlKC9bXlxcd1xcLV0rL2csICcnKVxuICAgIC5yZXBsYWNlKC9cXC1cXC0rL2csICctJylcbiAgICAucmVwbGFjZSgvXi0rLywgJycpXG4gICAgLnJlcGxhY2UoLy0rJC8sICcnKTtcbn1cblxuKi9cbiIsInZhciBOU0EgPSBOU0EgfHwge307XG5cbk5TQSA9IHtcbiAgc2hvd1Bhc3N3b3JkIDogZnVuY3Rpb24gKCkge1xuICAgIHZhciAkc2hvd1Bhc3N3b3JkID0gJCgnLnNob3ctcGFzc3dvcmQnKTtcbiAgICAkc2hvd1Bhc3N3b3JkLmVhY2goZnVuY3Rpb24gKGkpIHtcbiAgICAgIHZhciAkdGhhdCA9ICQodGhpcyk7XG4gICAgICB2YXIgJHB3ZEZsZCA9ICR0aGF0LmZpbmQoJ2lucHV0OnBhc3N3b3JkJyk7XG4gICAgICB2YXIgJGNoZWNrTGJsID0gJCgnPGxhYmVsIC8+JykucHJvcCh7IGZvcjogJ3Nob3ctcGFzc3dvcmQtJyArIGkgfSkuaHRtbCgnU2hvdycpO1xuICAgICAgdmFyICRjaGVja0JveCA9ICQoJzxpbnB1dCAvPicpLnByb3AoeyB0eXBlOiAnY2hlY2tib3gnLCBpZDogJ3Nob3ctcGFzc3dvcmQtJyArIGkgfSkub24oJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyICR0aGF0ID0gJCh0aGlzKTtcbiAgICAgICAgJHB3ZEZsZC5wcm9wKCd0eXBlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiAkdGhhdC5wcm9wKCdjaGVja2VkJykgPyAndGV4dCcgOiAncGFzc3dvcmQnO1xuICAgICAgICB9KTtcbiAgICAgICAgJGNoZWNrTGJsLmh0bWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiAkdGhhdC5wcm9wKCdjaGVja2VkJykgPyAnSGlkZScgOiAnU2hvdyc7XG4gICAgICAgIH0pO1xuICAgICAgICAkdGhhdC5wYXJlbnQoKS5yZW1vdmVDbGFzcygndHlwZS1wYXNzd29yZCcpO1xuICAgICAgICBpZiAoJHRoYXQucHJvcCgnY2hlY2tlZCcpKSB7XG4gICAgICAgICAgJHRoYXQucGFyZW50KCkuYWRkQ2xhc3MoJ3R5cGUtcGFzc3dvcmQnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICB2YXIgJGNiV3JhcCA9ICQoJzxkaXYgLz4nKS5wcm9wKCdjbGFzcycsICdzaG93LXBhc3N3b3JkLWNvbnRyb2wnKS5hcHBlbmQoJGNoZWNrQm94LCAkY2hlY2tMYmwpO1xuICAgICAgJHB3ZEZsZC5hZnRlcigkY2JXcmFwKTtcbiAgICB9KTtcbiAgfSxcbiAgYmFja0xpbms6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYmFja0xpbmsgPSAkKCc8YT4nKVxuICAgICAgLmF0dHIoeyAnaHJlZic6ICcjJywgJ2NsYXNzJzogJ2xpbmstYmFjaycgfSlcbiAgICAgIC50ZXh0KCdCYWNrJylcbiAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkgeyB3aW5kb3cuaGlzdG9yeS5iYWNrKCk7IGUucHJldmVudERlZmF1bHQoKTsgfSk7XG4gICAgJCgnLmpzLWJhY2stbGluaycpLmh0bWwoYmFja0xpbmspO1xuICB9LFxufTtcblxuXG5pZiAoJCgnc2VsZWN0LnNlbGVjdDInKS5sZW5ndGggPiAwKSB7XG4gICQoJ3NlbGVjdC5zZWxlY3QyJykuc2VsZWN0Mih7bWF0Y2hlcjogc2VsZWN0Mk1vZGVsTWF0Y2hlcn0pO1xufVxuXG5mdW5jdGlvbiBzZWxlY3QyTW9kZWxNYXRjaGVyIChwYXJhbXMsIGRhdGEpIHtcbiAgZGF0YS5wYXJlbnRUZXh0ID0gZGF0YS5wYXJlbnRUZXh0IHx8IFwiXCI7XG4gIGlmICh0eXBlb2YocGFyYW1zLnRlcm0pID09PSAndW5kZWZpbmVkJyB8fCAhcGFyYW1zLnRlcm0gfHwgcGFyYW1zLnRlcm0udHJpbSgpID09PSAnJykge1xuICAgIHJldHVybiBkYXRhO1xuICB9XG4gIGlmIChkYXRhLmNoaWxkcmVuICYmIGRhdGEuY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuICAgIHZhciBtYXRjaCA9ICQuZXh0ZW5kKHRydWUsIHt9LCBkYXRhKTtcbiAgICBmb3IgKHZhciBjID0gZGF0YS5jaGlsZHJlbi5sZW5ndGggLSAxOyBjID49IDA7IGMtLSkge1xuICAgICAgdmFyIGNoaWxkID0gZGF0YS5jaGlsZHJlbltjXTtcbiAgICAgIGNoaWxkLnBhcmVudFRleHQgKz0gZGF0YS5wYXJlbnRUZXh0ICsgXCIgXCIgKyBkYXRhLnRleHQ7XG4gICAgICB2YXIgbWF0Y2hlcyA9IHNlbGVjdDJNb2RlbE1hdGNoZXIocGFyYW1zLCBjaGlsZCk7XG4gICAgICBpZiAobWF0Y2hlcyA9PSBudWxsKSB7XG4gICAgICAgIG1hdGNoLmNoaWxkcmVuLnNwbGljZShjLCAxKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG1hdGNoLmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiBtYXRjaDtcbiAgICB9XG4gICAgcmV0dXJuIHNlbGVjdDJNb2RlbE1hdGNoZXIocGFyYW1zLCBtYXRjaCk7XG4gIH1cbiAgdmFyIG9yaWdpbmFsID0gKGRhdGEucGFyZW50VGV4dCArICcgJyArIGRhdGEudGV4dCkudG9VcHBlckNhc2UoKTtcbiAgdmFyIHRlcm0gPSBwYXJhbXMudGVybS50b1VwcGVyQ2FzZSgpO1xuICBpZiAob3JpZ2luYWwuaW5kZXhPZih0ZXJtKSA+IC0xKSB7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbmlmICgkKCcuc2hvdy1wYXNzd29yZCcpLmxlbmd0aCA+IDApIHtcbiAgTlNBLnNob3dQYXNzd29yZCgpO1xufVxuXG5pZiAoJCgnLmpzLWJhY2stbGluaycpKSB7XG4gIE5TQS5iYWNrTGluaygpO1xufVxuXG4kKCcudW5kZXItY29uc3RydWN0aW9uJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgYWxlcnQoJ1RoaXMgZnVuY3Rpb25hbGl0eSBpcyBub3QgYXZhaWxhYmxlIHlldCcpO1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG59KTtcblxuaWYgKCQoJy5ub3RpZmljYXRpb24gc3Bhbi5pY29uJykubGVuZ3RoID4gMCkge1xuICAkKCcubm90aWZpY2F0aW9uIHNwYW4uaWNvbicpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAkKHRoaXMpLnBhcmVudCgpLmhpZGUoKTtcbiAgfSk7XG59XG5cbmlmICgkKCdhcnRpY2xlLm9yZ2FuaXNhdGlvbi1zZXJ2aWNlcycpLmxlbmd0aCA+IDApIHtcblxuICAkKCcuaW5mb3JtYXRpb24nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgIHZhciBpbmZvID0gJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5maW5kKCcuc2VydmljZS1kZXNjcmlwdGlvbicpO1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBpbmZvLnRvZ2dsZSgpO1xuICB9KTtcblxuICAkKCcuaW5mby1saW5rJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgbWV0YSA9ICQodGhpcykucGFyZW50KCkubmV4dCgpO1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBtZXRhLnRvZ2dsZSgpO1xuICB9KTtcbn1cblxudmFyIHNlYXJjaEZpZWxkcyA9ICQoJ2Zvcm0gLnNlYXJjaC1maWVsZCcpO1xuXG5pZiAoc2VhcmNoRmllbGRzLmxlbmd0aCA+IDApIHtcblxuICB2YXIgbG9hZGVyID0gJCgnPHNwYW4gLz4nKS5hZGRDbGFzcygnbG9hZGVyIHNwaW5uZXItaW5saW5lJyk7XG4gIHZhciBiMSA9ICQoJzxzcGFuIC8+JykuYWRkQ2xhc3MoJ2JhbGwgYi0xJyk7XG4gIHZhciBiMiA9ICQoJzxzcGFuIC8+JykuYWRkQ2xhc3MoJ2JhbGwgYi0yJyk7XG4gIGxvYWRlci5hcHBlbmQoYjEpLmFwcGVuZChiMik7XG5cbiAgc2VhcmNoRmllbGRzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgIHZhciBmb3JtID0gJCh0aGlzKS5wYXJlbnQoKTtcbiAgICB2YXIgYnV0dG9uID0gZm9ybS5maW5kKCdidXR0b24nKTtcbiAgICBmb3JtLm9uKCdzdWJtaXQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICBidXR0b24uYWZ0ZXIobG9hZGVyKS5oaWRlKCk7XG4gICAgfSk7XG4gIH0pO1xufVxuXG52YXIgcmVkaXJlY3QgPSAkKCcjcmVkaXJlY3QtdXJsJyk7XG5cbiQoJyNhZGQtcmVkaXJlY3QnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgJCgnPHA+PGxhYmVsIGZvcj1cInJlZGlyZWN0LXVybFwiPjxpbnB1dCBjbGFzcz1cImZvcm0tY29udHJvbCBpbnB1dENvbmZpZ1wiIG5hbWU9XCJyZWRpcmVjdF91cmlzXCI+PC9sYWJlbD48L3A+JykuYXBwZW5kVG8ocmVkaXJlY3QpO1xuICByZXR1cm4gZmFsc2U7XG59KTtcblxudmFyIGxvZ291dCA9ICQoJyNsb2dvdXQtdXJsJyk7XG5cbiQoJyNhZGQtbG9nb3V0Jykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICQoJzxwPjxsYWJlbCBmb3I9XCJsb2dvdXQtdXJsXCI+PGlucHV0IGNsYXNzPVwiZm9ybS1jb250cm9sIGlucHV0Q29uZmlnXCIgbmFtZT1cInBvc3RfbG9nb3V0X3JlZGlyZWN0X3VyaXNcIj48L2xhYmVsPjwvcD4nKS5hcHBlbmRUbyhsb2dvdXQpO1xuICByZXR1cm4gZmFsc2U7XG59KTtcblxuXG4kKCcjZ2VuZXJhdGUtY2xpZW50LXNlY3JldCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICB2YXIgc2VjcmV0QXJyYXkgPSB3aW5kb3cubmljZXdhcmUuZ2VuZXJhdGVQYXNzcGhyYXNlKDgpO1xuICB2YXIgc2VjcmV0ID0gc2VjcmV0QXJyYXkuam9pbignLScpO1xuICB2YXIgaXNDb25maXJtID0gY29uZmlybSgnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIHJlZ2VuZXJhdGUgdGhlIGNsaWVudCBzZWNyZXQ/Jyk7XG4gIGlmIChpc0NvbmZpcm0pIHtcbiAgICAkKCdpbnB1dCNjbGllbnRTZWNyZXQnKS5hdHRyKCd2YWx1ZScsIHNlY3JldCk7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufSk7XG5cbiQoJyNnZW5lcmF0ZS1hcGktc2VjcmV0Jykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gIHZhciBzZWNyZXRBcnJheSA9IHdpbmRvdy5uaWNld2FyZS5nZW5lcmF0ZVBhc3NwaHJhc2UoOCk7XG4gIHZhciBzZWNyZXQgPSBzZWNyZXRBcnJheS5qb2luKCctJyk7XG4gIHZhciBpc0NvbmZpcm0gPSBjb25maXJtKCdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gcmVnZW5lcmF0ZSB0aGUgYXBpIHNlY3JldD8nKTtcbiAgaWYgKGlzQ29uZmlybSkge1xuICAgICQoJ2lucHV0I2FwaVNlY3JldCcpLmF0dHIoJ3ZhbHVlJywgc2VjcmV0KTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59KTtcblxudmFyIGZvcm1SZWdpc3RlciA9ICQoJy5wcmV2ZW50LWZvcm0tZG91YmxlLXN1Ym1pc3Npb24nKTtcblxuaWYgKGZvcm1SZWdpc3Rlci5sZW5ndGggPiAwKSB7XG4gIGZvcm1SZWdpc3Rlci5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgJHN1Ym1pdEJ1dHRvbnMgPSAkKGZvcm1SZWdpc3RlcikuZmluZCgnYnV0dG9uOnN1Ym1pdCcpLCAkc3VibWl0QnV0dG9uID0gJHN1Ym1pdEJ1dHRvbnMuZXEoMCk7XG4gICAgZm9ybVJlZ2lzdGVyLm9uKCdzdWJtaXQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAkc3VibWl0QnV0dG9ucy5hdHRyKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xuXG4gICAgICAkc3VibWl0QnV0dG9uLmNzcygnbWluLXdpZHRoJywgJHN1Ym1pdEJ1dHRvbi5vdXRlcldpZHRoKCkgKyAncHgnKTtcblxuICAgICAgJHN1Ym1pdEJ1dHRvbi5hcHBlbmQoXCI8c3BhbiBjbGFzcz0nbG9hZGVyIHNwaW5uZXItaW5saW5lJz4gPHNwYW4gY2xhc3M9J2JhbGwgYi0xJz48L3NwYW4+IDxzcGFuIGNsYXNzPSdiYWxsIGItMic+PC9zcGFuPiA8c3BhbiBjbGFzcz0nYmFsbCBiLTMnPjwvc3Bhbj4gPC9zcGFuPlwiKTtcblxuICAgIH0pO1xuICB9KTtcbn1cblxudmFyIHNob3dIaWRlQ29udGVudCA9IG5ldyBHT1ZVSy5TaG93SGlkZUNvbnRlbnQoKVxuc2hvd0hpZGVDb250ZW50LmluaXQoKVxuXG5HT1ZVSy5kZXRhaWxzLmluaXQoKVxuXG4iXX0=
