var COOKIE_NAMES={PREFERENCES_SET:"cookies_preferences_set",POLICY:"cookies_policy",GA:"_ga",GA_GID:"_gid",GA_GAT:"_gat",USER_BANNER_LAST_SEEN:"user_banner_last_seen"},GOVUK_COOKIE_OPTIONS={expires:365,secure:!0,domain:".education.gov.uk"},GovUKCookie={getRaw:function(e){if(window.Cookies)return window.Cookies.get(e)},get:function(e){if(window.Cookies){var t=window.Cookies.get(e);return t?JSON.parse(t):t}},set:function(e,t){if(window.Cookies)return window.Cookies.set(e,t,GOVUK_COOKIE_OPTIONS)},remove:function(e){if(window.Cookies)return window.Cookies.remove(e,GOVUK_COOKIE_OPTIONS)}};function checkConditionForUsersBanner(){var e=GovUKCookie.getRaw(COOKIE_NAMES.USER_BANNER_LAST_SEEN);return!e||((new Date).getTime()-e)/864e5>90}function showReviewUsersBanner(){$("#review-users-banner").show()}function setReviewUsersBannerLastSeen(){GovUKCookie.set(COOKIE_NAMES.USER_BANNER_LAST_SEEN,(new Date).getTime())}function loadReviewUsersBanner(){checkConditionForUsersBanner()&&showReviewUsersBanner()}function updateCookieReviewUsersBanner(){checkConditionForUsersBanner()&&setReviewUsersBannerLastSeen()}GovUKCookie.remove(COOKIE_NAMES.POLICY),GovUKCookie.remove(COOKIE_NAMES.PREFERENCES_SET),GovUKCookie.remove(COOKIE_NAMES.GA),GovUKCookie.remove(COOKIE_NAMES.GA_GAT),GovUKCookie.remove(COOKIE_NAMES.GA_GID),function(e){"use strict";var t=e.GOVUK||{};t.details={NATIVE_DETAILS:"boolean"==typeof document.createElement("details").open,KEY_ENTER:13,KEY_SPACE:32,started:!1,addEvent:function(e,t,n){e.addEventListener?e.addEventListener(t,(function(e){n(e,e.target)}),!1):e.attachEvent&&e.attachEvent("on"+t,(function(e){n(e,e.srcElement)}))},removeEvent:function(e,t){e.removeEventListener?e.removeEventListener(t,(function(e){}),!1):e.detachEvent&&e.detachEvent("on"+t,(function(e){}))},charCode:function(e){return"number"==typeof e.which?e.which:e.keyCode},preventDefault:function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},addClickEvent:function(e,n){t.details.addEvent(e,"keypress",(function(e,a){t.details.charCode(e)!==t.details.KEY_ENTER&&t.details.charCode(e)!==t.details.KEY_SPACE||"summary"===a.nodeName.toLowerCase()&&(t.details.preventDefault(e),a.click?a.click():n(e,a))})),t.details.addEvent(e,"keyup",(function(e,n){t.details.charCode(e)===t.details.KEY_SPACE&&"SUMMARY"===n.nodeName&&t.details.preventDefault(e)})),t.details.addEvent(e,"click",(function(e,t){n(e,t)}))},getAncestor:function(e,t){do{if(!e||e.nodeName.toLowerCase()===t)break;e=e.parentNode}while(e);return e},addDetailsPolyfill:function(e,n){if(n=n||document.body,!t.details.started&&(t.details.started=!0,0!==(e=n.getElementsByTagName("details")).length)){for(var a=e.length,i=0;i<a;i++){var o=e[i];if(o.__summary=o.getElementsByTagName("summary").item(0),o.__content=o.getElementsByTagName("div").item(0),!o.__summary||!o.__content)return;o.__content.id||(o.__content.id="details-content-"+i),o.setAttribute("role","group"),o.__summary.setAttribute("role","button"),o.__summary.setAttribute("aria-controls",o.__content.id),t.details.NATIVE_DETAILS||(o.__summary.tabIndex=0);var r=null!==o.getAttribute("open");if(!0===r?(o.__summary.setAttribute("aria-expanded","true"),o.__content.setAttribute("aria-hidden","false")):(o.__summary.setAttribute("aria-expanded","false"),o.__content.setAttribute("aria-hidden","true"),t.details.NATIVE_DETAILS||(o.__content.style.display="none")),o.__summary.__details=o,!t.details.NATIVE_DETAILS){var s=document.createElement("i");!0===r?(s.className="arrow arrow-open",s.appendChild(document.createTextNode("▼"))):(s.className="arrow arrow-closed",s.appendChild(document.createTextNode("►"))),o.__summary.__twisty=o.__summary.insertBefore(s,o.__summary.firstChild),o.__summary.__twisty.setAttribute("aria-hidden","true")}}t.details.addClickEvent(n,(function(e,n){return!(n=t.details.getAncestor(n,"summary"))||t.details.statechange(n)}))}},statechange:function(e){var n="true"===e.__details.__summary.getAttribute("aria-expanded"),a="true"===e.__details.__content.getAttribute("aria-hidden");(e.__details.__summary.setAttribute("aria-expanded",n?"false":"true"),e.__details.__content.setAttribute("aria-hidden",a?"false":"true"),t.details.NATIVE_DETAILS)||(e.__details.__content.style.display=n?"none":"",null!==e.__details.getAttribute("open")?e.__details.removeAttribute("open"):e.__details.setAttribute("open","open"));return e.__twisty&&(e.__twisty.firstChild.nodeValue=n?"►":"▼",e.__twisty.setAttribute("class",n?"arrow arrow-closed":"arrow arrow-open")),!0},destroy:function(e){t.details.removeEvent(e,"click")},init:function(e){t.details.addEvent(document,"DOMContentLoaded",t.details.addDetailsPolyfill),t.details.addEvent(window,"load",t.details.addDetailsPolyfill)}},e.GOVUK=t}(window);var NSA=NSA||{},filterBoxes=$(".filter-box");function getParameterByName(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}function sortTable(e){var t,n,a,i,o,r,s,d,l=0;for(t=$("table.sortable"),a=!0,d="a";a;){for(a=!1,n=t.find("tr"),i=1;i<n.length-1;i++)if(s=!1,o=n[i].getElementsByTagName("TD")[e],r=n[i+1].getElementsByTagName("TD")[e],"a"===d){if(o.innerHTML.toLowerCase()>r.innerHTML.toLowerCase()){s=!0;break}}else if("d"===d&&o.innerHTML.toLowerCase()<r.innerHTML.toLowerCase()){s=!0;break}s?(n[i].parentNode.insertBefore(n[i+1],n[i]),a=!0,l++):0===l&&"a"===d&&(d="d",a=!0)}return d}NSA.filters={init:function(){filterBoxes.each((function(){var e=$(this),t=e.find(".container-head"),n=t.find(".option-select-label"),a=e.find("input:checkbox"),i=$("<button />").addClass("js-container-head"),o=$("<div />").addClass("js-selected-counter");i.on("click",(function(e){var t=$(this).next();$(this).hasClass("closed")?(t.show(),$(this).removeClass("closed").attr("aria-expanded",!0)):(t.hide(),$(this).addClass("closed").attr("aria-expanded",!1)),e.preventDefault()})).append(n,o),t.replaceWith(i),a.on("change",(function(){o.text((function(){return a.filter(":checked").length>0?a.filter(":checked").length+" selected":""}))}))}))}},filterBoxes.length>0&&NSA.filters.init(),(NSA=NSA||{}).modal={elems:{links:$(".modal-link"),modals:$(".modal")},init:function(){this.modalBg(),this.setUpEvents()},modalBg:function(){var e=this,t=$("<div>").addClass("modal-bg").hide().on("click",(function(){e.hideModals()}));$("body").append(t)},setUpEvents:function(){var e=this;this.elems.links.on("click",(function(t){var n=$(this).attr("href");e.showModal($(n)),t.preventDefault()})),e.elems.modals.find(".close").on("click",(function(t){e.hideModals(),t.preventDefault()})),$("body").on("keydown",(function(t){27===(t.keyCode||t.which)&&e.hideModals()}))},showModal:function(e){$("html").addClass("modal-open"),$(".modal-bg").show(),e.show()},hideModals:function(){$("html").removeClass("modal-open"),$(".modal-bg").hide(),this.elems.modals.hide()}},NSA.modal.init(),function(e){"use strict";var t=e.jQuery,n=e.GOVUK||{};function a(){var e=this,n="ShowHideContent",a='[data-target] > input[type="radio"]',i='[data-target] > input[type="checkbox"]',o="a.js-toggle-content";function r(){var e=t(this),n=s(e);n.length&&(e.attr("aria-controls",n.attr("id")),e.attr("aria-expanded","false"),n.attr("aria-hidden","true"))}function s(e){var n=e.attr("aria-controls");return n||(n=e.closest("[data-target]").data("target")),t("#"+n)}function d(e,t){t.hasClass("js-hidden")&&(t.removeClass("js-hidden"),t.attr("aria-hidden","false"),e.attr("aria-controls")&&e.attr("aria-expanded","true"))}function l(e,t){(t=t||s(e)).hasClass("js-hidden")||(t.addClass("js-hidden"),t.attr("aria-hidden","true"),e.attr("aria-controls")&&e.attr("aria-expanded","false"))}function c(e,n){var i=a+"[name="+(e.attr("name").replace("[","\\[").replace("]","\\]")+"][aria-controls]"),o=e.closest("form");(o.length?o.find(i):t(i)).each((function(){l(t(this))})),e.is("[aria-controls]")&&d(e,n)}function u(e,t){e.is(":checked")?d(e,t):l(e,t)}function h(e,t,n){t.hasClass("js-hidden")?d(e,t):l(e,t),n.preventDefault()}function f(e,a,i,o){function d(e){var n=t(this);o(n,s(n),e)}e=e||t(document.body);var l=t(a);l.each(r),t.each(i,(function(t,a){e.on("click."+n,a,d)})),l.is(":checked")&&l.filter(":checked").each(d)}e.showHideRadioToggledContent=function(e){var n;f(e,a,(n=[],t(a).map((function(){var e=t(this).attr("name");return-1===t.inArray(e,n)?(n.push(e),'input[type="radio"][name="'+t(this).attr("name")+'"]'):null}))),c)},e.showHideCheckboxToggledContent=function(e){f(e,i,[i],u)},e.showHideLinkToggledContent=function(e){f(e,o,[o],h)},e.destroy=function(e){(e=e||t(document.body)).off("."+n)}}a.prototype.init=function(e){this.showHideRadioToggledContent(e),this.showHideCheckboxToggledContent(e),this.showHideLinkToggledContent(e)},n.ShowHideContent=a,e.GOVUK=n}(window),(NSA=NSA||{}).signin={form:$(".form-signin"),init:function(){this.setupEvents()},setupEvents:function(){this.form.on("submit",this,this.handleSubmit)},handleSubmit:function(e){var t=$(this),n=t.find("input").not(":checkbox"),a={},i=$(this).find("button:submit"),o=i.eq(0);i.attr("disabled","disabled"),o.css("min-width",o.outerWidth()+"px"),o.find(".loader").removeClass("vh"),n.each((function(){a[this.name]=$(this).val()})),$("#password").prop("type","password").next().removeClass("type-password"),$.ajax({type:"POST",data:a,url:t.attr("action"),context:e.data,dataType:"json",success:function(e){e.redirect?window.location.href=e.uri:e.isFailedLogin?(this.resetValidation(t),e.delayTill?this.showValidationMessage(e.validationMessages,!0):(this.showValidationMessage(e.validationMessages),i.removeAttr("disabled")),this.showInlineValidation(e.validationMessages),o.find(".loader").addClass("vh")):this.buildFormAndSubmit(e)},error:function(){this.resetValidation(t),this.showValidationMessage(),i.removeAttr("disabled"),o.find(".loader").addClass("vh")}}),e.preventDefault()},resetValidation:function(e){var t=e.find(".form-group");$(".error-summary").remove(),t.each((function(){var e=$(this).find("input").eq(0);$(this).hasClass("form-group-error")&&($(this).removeClass("form-group-error"),$(this).find("p.error-message").remove(),e.removeAttr("aria-describedby").removeAttr("aria-invalid"))}))},showValidationMessage:function(e,t){var n=$("<div />").attr("class","error-summary").attr("role","alert").attr("tabindex","-1"),a=$("<h2 />").attr("class","heading-medium error-summary-heading").attr("id","error-summary"),i=$("<ul />").attr("class","error-summary-list");if(e){if(a.text("Information missing or incorrect"),$.each(e,(function(e,t){"loginError"===e&&(e="username");var n=$("<a />").attr("href","#"+e).text(t),a=$("<li />").append(n);i.append(a)})),t){var o=$("<a />").attr("class","govuk-link").attr("href","").attr("onclick","window.location.reload()").text("Refresh this page").css("color","#1d70b8"),r=$("<li />").append(o);i.append(r)}}else{a.text("There has been an error");r=$("<li />").html('Please try again later. If the problem continues, follow the link to <a href="https://help.signin.education.gov.uk/contact/form">submit a support request</a>');i.append(r)}n.append(a).append(i),$("main").prepend(n),$("html, body").animate({scrollTop:n.offset().top-15},300)},showInlineValidation:function(e){$.each(e,(function(e,t){var n=$("input[name="+e+"]"),a=n.parent();a.hasClass("show-password")&&(a=a.parent());var i=a.find("label").first();if(!a.hasClass("form-group-error"))var o=$("<p>").html(t).prop("class","error-message").prop("id","validation-"+e);i.after(o),a.addClass("form-group-error"),n.attr({"aria-describedby":"validation-"+e,"aria-invalid":"true"})}))},buildFormAndSubmit:function(e){var t=$("<form />").attr({method:"post",action:e.destination,id:"dfesigninform"});$.each(e.postbackData,(function(e,n){var a=$("<input />").attr({type:"hidden",name:e,value:n});t.append(a)})),$("#dfesigninform").remove(),$("body").append(t),t.submit()}},$(".form-signin").length>0&&NSA.signin.init(),$((function(){$("table.sortable thead th").on("click",(function(){var e=$("table.sortable thead tr th");e.removeClass("sorted").removeClass("dir-a").removeClass("dir-d");var t=sortTable(e.index($(this)));$(this).addClass("sorted dir-"+t)}))}));var toggleTips=$(".toggle-help");toggleTips.each((function(){var e,t,n,a;e=$(this),n=$("<span />").attr("class","toggletip"),a=$("<button />").attr("type","button").attr("aria-label","Help").attr("data-toggletip-content",e.html()).text("?").on("click",(function(){var t=$(this).data("toggletip-content"),n=$(this).next();window.setTimeout((function(){n.html((function(){return $("<span />").attr("class",(function(){return e.html().length>50?"bubble long":"bubble"})).text(t)}))}),100)})).on("keydown",(function(e){27===(e.keyCode||e.which)&&t.html("")})),t=$("<span />").attr("role","status"),n.append(a,t),e.before(n).remove(),$(document).on("click",(function(n){e[0]!==$(n.target)&&t.html("")}))}));var forms=$("#content form");forms.attr("novalidate","novalidate");NSA=NSA||{};function select2ModelMatcher(e,t){if(t.parentText=t.parentText||"",void 0===e.term||!e.term||""===e.term.trim())return t;if(t.children&&t.children.length>0){for(var n=$.extend(!0,{},t),a=t.children.length-1;a>=0;a--){var i=t.children[a];i.parentText+=t.parentText+" "+t.text,null==select2ModelMatcher(e,i)&&n.children.splice(a,1)}return n.children.length>0?n:select2ModelMatcher(e,n)}var o=(t.parentText+" "+t.text).toUpperCase(),r=e.term.toUpperCase();return o.indexOf(r)>-1?t:null}NSA={showPassword:function(){$(".show-password").each((function(e){var t=$(this).find("input:password"),n=$("<label />").prop({for:"show-password-"+e}).html("Show"),a=$("<input />").prop({type:"checkbox",id:"show-password-"+e}).on("change",(function(){var e=$(this);t.prop("type",(function(){return e.prop("checked")?"text":"password"})),n.html((function(){return e.prop("checked")?"Hide":"Show"})),e.parent().removeClass("type-password"),e.prop("checked")&&e.parent().addClass("type-password")})),i=$("<div />").prop("class","show-password-control").append(a,n);t.after(i)}))},backLink:function(){var e=$("<a>").attr({href:"#",class:"link-back"}).text("Back").on("click",(function(e){window.history.back(),e.preventDefault()}));$(".js-back-link").html(e)}},$("select.select2").length>0&&$("select.select2").select2({matcher:select2ModelMatcher}),$(".show-password").length>0&&NSA.showPassword(),$(".js-back-link")&&NSA.backLink(),$(".under-construction").on("click",(function(e){alert("This functionality is not available yet"),e.preventDefault()})),$(".notification span.icon").length>0&&$(".notification span.icon").on("click",(function(){$(this).parent().hide()})),$("article.organisation-services").length>0&&($(".information").on("click",(function(e){var t=$(this).parent().parent().find(".service-description");e.preventDefault(),t.toggle()})),$(".info-link").on("click",(function(e){var t=$(this).parent().next();e.preventDefault(),t.toggle()})));var searchFields=$("form .search-field");if(searchFields.length>0){var loader=$("<span />").addClass("loader spinner-inline"),b1=$("<span />").addClass("ball b-1"),b2=$("<span />").addClass("ball b-2");loader.append(b1).append(b2),searchFields.each((function(){var e=$(this).parent(),t=e.find("button");e.on("submit",(function(){t.after(loader).hide()}))}))}var redirect=$("#redirect-url");$("#add-redirect").on("click",(function(){return $('<p><label for="redirect-url"><input class="form-control inputConfig" name="redirect_uris"></label></p>').appendTo(redirect),!1}));var logout=$("#logout-url");$("#add-logout").on("click",(function(){return $('<p><label for="logout-url"><input class="form-control inputConfig" name="post_logout_redirect_uris"></label></p>').appendTo(logout),!1})),$("#generate-client-secret").on("click",(function(){var e=window.niceware.generatePassphrase(8).join("-");return confirm("Are you sure you want to regenerate the client secret?")&&$("input#clientSecret").attr("value",e),!1})),$("#generate-api-secret").on("click",(function(){var e=window.niceware.generatePassphrase(8).join("-");return confirm("Are you sure you want to regenerate the api secret?")&&$("input#apiSecret").attr("value",e),!1}));var formRegister=$(".prevent-form-double-submission");formRegister.length>0&&formRegister.each((function(){var e=$(formRegister).find("button:submit"),t=e.eq(0);formRegister.on("submit",(function(){e.attr("disabled","disabled"),t.css("min-width",t.outerWidth()+"px"),t.append("<span class='loader spinner-inline'> <span class='ball b-1'></span> <span class='ball b-2'></span> <span class='ball b-3'></span> </span>")}))}));var showHideContent=new GOVUK.ShowHideContent;showHideContent.init(),GOVUK.details.init();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl9jb29raWVzLmpzIiwiX2RldGFpbHMucG9seWZpbGwuanMiLCJfZmlsdGVyLWJveGVzLmpzIiwiX3NpZ25pbi5qcyIsIl90YWJsZXNvcnQuanMiLCJfbW9kYWwuanMiLCJfc2hvdy1oaWRlLWNvbnRlbnQuanMiLCJfdG9vbHRpcC5qcyIsIl92YWxpZGF0aW9uLmpzIiwiYXBwLmpzIl0sIm5hbWVzIjpbIkNPT0tJRV9OQU1FUyIsIlBSRUZFUkVOQ0VTX1NFVCIsIlBPTElDWSIsIkdBIiwiR0FfR0lEIiwiR0FfR0FUIiwiVVNFUl9CQU5ORVJfTEFTVF9TRUVOIiwiR09WVUtfQ09PS0lFX09QVElPTlMiLCJleHBpcmVzIiwic2VjdXJlIiwiZG9tYWluIiwiR292VUtDb29raWUiLCJnZXRSYXciLCJuYW1lIiwid2luZG93IiwiQ29va2llcyIsImdldCIsInZhbHVlIiwiSlNPTiIsInBhcnNlIiwic2V0IiwicmVtb3ZlIiwiY2hlY2tDb25kaXRpb25Gb3JVc2Vyc0Jhbm5lciIsImxhc3RTZWVuIiwiRGF0ZSIsImdldFRpbWUiLCJzaG93UmV2aWV3VXNlcnNCYW5uZXIiLCIkIiwic2hvdyIsInNldFJldmlld1VzZXJzQmFubmVyTGFzdFNlZW4iLCJsb2FkUmV2aWV3VXNlcnNCYW5uZXIiLCJ1cGRhdGVDb29raWVSZXZpZXdVc2Vyc0Jhbm5lciIsImdsb2JhbCIsIkdPVlVLIiwiZGV0YWlscyIsIk5BVElWRV9ERVRBSUxTIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwib3BlbiIsIktFWV9FTlRFUiIsIktFWV9TUEFDRSIsInN0YXJ0ZWQiLCJhZGRFdmVudCIsIm5vZGUiLCJ0eXBlIiwiY2FsbGJhY2siLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInRhcmdldCIsImF0dGFjaEV2ZW50Iiwic3JjRWxlbWVudCIsInJlbW92ZUV2ZW50IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRldGFjaEV2ZW50IiwiY2hhckNvZGUiLCJ3aGljaCIsImtleUNvZGUiLCJwcmV2ZW50RGVmYXVsdCIsInJldHVyblZhbHVlIiwiYWRkQ2xpY2tFdmVudCIsIm5vZGVOYW1lIiwidG9Mb3dlckNhc2UiLCJjbGljayIsImdldEFuY2VzdG9yIiwibWF0Y2giLCJwYXJlbnROb2RlIiwiYWRkRGV0YWlsc1BvbHlmaWxsIiwibGlzdCIsImNvbnRhaW5lciIsImJvZHkiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImxlbmd0aCIsIm4iLCJpIiwiX19zdW1tYXJ5IiwiaXRlbSIsIl9fY29udGVudCIsImlkIiwic2V0QXR0cmlidXRlIiwidGFiSW5kZXgiLCJvcGVuQXR0ciIsImdldEF0dHJpYnV0ZSIsInN0eWxlIiwiZGlzcGxheSIsIl9fZGV0YWlscyIsInR3aXN0eSIsImNsYXNzTmFtZSIsImFwcGVuZENoaWxkIiwiY3JlYXRlVGV4dE5vZGUiLCJfX3R3aXN0eSIsImluc2VydEJlZm9yZSIsImZpcnN0Q2hpbGQiLCJzdW1tYXJ5Iiwic3RhdGVjaGFuZ2UiLCJleHBhbmRlZCIsImhpZGRlbiIsInJlbW92ZUF0dHJpYnV0ZSIsIm5vZGVWYWx1ZSIsImRlc3Ryb3kiLCJpbml0IiwiJGNvbnRhaW5lciIsIk5TQSIsImZpbHRlckJveGVzIiwiZ2V0UGFyYW1ldGVyQnlOYW1lIiwidXJsIiwibG9jYXRpb24iLCJocmVmIiwicmVwbGFjZSIsInJlc3VsdHMiLCJSZWdFeHAiLCJleGVjIiwiZGVjb2RlVVJJQ29tcG9uZW50Iiwic29ydFRhYmxlIiwidGFibGUiLCJyb3dzIiwic3dpdGNoaW5nIiwieCIsInkiLCJzaG91bGRTd2l0Y2giLCJkaXJlY3Rpb24iLCJzd2l0Y2hjb3VudCIsImZpbmQiLCJpbm5lckhUTUwiLCJmaWx0ZXJzIiwiZWFjaCIsIiR0aGF0IiwidGhpcyIsImhlYWRlciIsInRpdGxlIiwiY2hlY2tib3hlcyIsImJ1dHRvbiIsImFkZENsYXNzIiwiY2hlY2tDb3VudCIsIm9uIiwib3B0aW9ucyIsIm5leHQiLCJoYXNDbGFzcyIsInJlbW92ZUNsYXNzIiwiYXR0ciIsImhpZGUiLCJhcHBlbmQiLCJyZXBsYWNlV2l0aCIsInRleHQiLCJmaWx0ZXIiLCJtb2RhbCIsImVsZW1zIiwibGlua3MiLCJtb2RhbHMiLCJtb2RhbEJnIiwic2V0VXBFdmVudHMiLCJ0aGF0IiwiYmciLCJoaWRlTW9kYWxzIiwic2hvd01vZGFsIiwialF1ZXJ5IiwiU2hvd0hpZGVDb250ZW50Iiwic2VsZiIsInNlbGVjdG9ycyIsImluaXRUb2dnbGVkQ29udGVudCIsIiRjb250cm9sIiwiJGNvbnRlbnQiLCJnZXRUb2dnbGVkQ29udGVudCIsImNsb3Nlc3QiLCJkYXRhIiwic2hvd1RvZ2dsZWRDb250ZW50IiwiaGlkZVRvZ2dsZWRDb250ZW50IiwiaGFuZGxlUmFkaW9Db250ZW50Iiwic2VsZWN0b3IiLCIkZm9ybSIsImlzIiwiaGFuZGxlQ2hlY2tib3hDb250ZW50IiwiaGFuZGxlTGlua0NvbnRlbnQiLCIkZXZlbnQiLCJlbGVtZW50U2VsZWN0b3IiLCJldmVudFNlbGVjdG9ycyIsImhhbmRsZXIiLCJkZWZlcnJlZCIsImV2ZW50IiwiJGNvbnRyb2xzIiwiaWR4IiwiZXZlbnRTZWxlY3RvciIsInNob3dIaWRlUmFkaW9Ub2dnbGVkQ29udGVudCIsInJhZGlvR3JvdXBzIiwibWFwIiwiZ3JvdXBOYW1lIiwiaW5BcnJheSIsInB1c2giLCJzaG93SGlkZUNoZWNrYm94VG9nZ2xlZENvbnRlbnQiLCJzaG93SGlkZUxpbmtUb2dnbGVkQ29udGVudCIsIm9mZiIsInByb3RvdHlwZSIsInNpZ25pbiIsImZvcm0iLCJzZXR1cEV2ZW50cyIsImhhbmRsZVN1Ym1pdCIsIiRpbnB1dHMiLCJub3QiLCJwb3N0RGF0YSIsIiRzdWJtaXRCdXR0b25zIiwiJHN1Ym1pdEJ1dHRvbiIsImVxIiwiY3NzIiwib3V0ZXJXaWR0aCIsInZhbCIsInByb3AiLCJhamF4IiwiY29udGV4dCIsImRhdGFUeXBlIiwic3VjY2VzcyIsInJlZGlyZWN0IiwidXJpIiwiaXNGYWlsZWRMb2dpbiIsInJlc2V0VmFsaWRhdGlvbiIsImRlbGF5VGlsbCIsInNob3dWYWxpZGF0aW9uTWVzc2FnZSIsInZhbGlkYXRpb25NZXNzYWdlcyIsInJlbW92ZUF0dHIiLCJzaG93SW5saW5lVmFsaWRhdGlvbiIsImJ1aWxkRm9ybUFuZFN1Ym1pdCIsImVycm9yIiwiJGZvcm1Hcm91cHMiLCIkZmllbGQiLCJtZXNzYWdlcyIsInNob3dSZWZyZXNoTGluayIsIiRkaXYiLCIkaDIiLCIkdWwiLCJpbmRleCIsIiRhIiwiJGxpIiwiaHRtbCIsInByZXBlbmQiLCJhbmltYXRlIiwic2Nyb2xsVG9wIiwib2Zmc2V0IiwidG9wIiwiJHBhcmVudCIsInBhcmVudCIsIiRsYWJlbCIsImZpcnN0IiwiZXJyb3JNZXNzYWdlIiwiYWZ0ZXIiLCJtZXRob2QiLCJhY3Rpb24iLCJkZXN0aW5hdGlvbiIsInBvc3RiYWNrRGF0YSIsInN1Ym1pdCIsImhlYWRpbmdDZWxscyIsInRvZ2dsZVRpcHMiLCJsaXZlUmVnaW9uIiwidG9nZ2xlVGlwIiwibWVzc2FnZSIsInNldFRpbWVvdXQiLCJiZWZvcmUiLCJmb3JtcyIsInNlbGVjdDJNb2RlbE1hdGNoZXIiLCJwYXJhbXMiLCJwYXJlbnRUZXh0IiwidGVybSIsInRyaW0iLCJjaGlsZHJlbiIsImV4dGVuZCIsImMiLCJjaGlsZCIsInNwbGljZSIsIm9yaWdpbmFsIiwidG9VcHBlckNhc2UiLCJpbmRleE9mIiwic2hvd1Bhc3N3b3JkIiwiJHB3ZEZsZCIsIiRjaGVja0xibCIsImZvciIsIiRjaGVja0JveCIsIiRjYldyYXAiLCJiYWNrTGluayIsImNsYXNzIiwiaGlzdG9yeSIsImJhY2siLCJzZWxlY3QyIiwibWF0Y2hlciIsImFsZXJ0IiwiaW5mbyIsInRvZ2dsZSIsIm1ldGEiLCJzZWFyY2hGaWVsZHMiLCJsb2FkZXIiLCJiMSIsImIyIiwiYXBwZW5kVG8iLCJsb2dvdXQiLCJzZWNyZXQiLCJuaWNld2FyZSIsImdlbmVyYXRlUGFzc3BocmFzZSIsImpvaW4iLCJjb25maXJtIiwiZm9ybVJlZ2lzdGVyIiwic2hvd0hpZGVDb250ZW50Il0sIm1hcHBpbmdzIjoi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QSxtSkFNQSxJQUFBNEosZ0JBQUEsSUFBQXZRLE1BQUEwSCxnQkFDQTZJLGdCQUFBck0sT0FFQWxFLE1BQUFDLFFBQUFpRSIsImZpbGUiOiJhcHAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIENPT0tJRV9OQU1FUyA9IHtcbiAgUFJFRkVSRU5DRVNfU0VUOiAnY29va2llc19wcmVmZXJlbmNlc19zZXQnLFxuICBQT0xJQ1k6ICdjb29raWVzX3BvbGljeScsXG4gIEdBOiAnX2dhJyxcbiAgR0FfR0lEOiAnX2dpZCcsXG4gIEdBX0dBVDogJ19nYXQnLFxuICBVU0VSX0JBTk5FUl9MQVNUX1NFRU46ICd1c2VyX2Jhbm5lcl9sYXN0X3NlZW4nXG59O1xuXG52YXIgR09WVUtfQ09PS0lFX09QVElPTlMgPSB7XG4gIGV4cGlyZXM6IDM2NSwgLy8gZGF5c1xuICBzZWN1cmU6IHRydWUsXG4gIGRvbWFpbjogJy5lZHVjYXRpb24uZ292LnVrJ1xufTtcblxudmFyIEdvdlVLQ29va2llID0ge1xuICBnZXRSYXc6IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgaWYgKCF3aW5kb3cuQ29va2llcykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJldHVybiB3aW5kb3cuQ29va2llcy5nZXQobmFtZSk7XG4gIH0sXG4gIGdldDogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICBpZiAoIXdpbmRvdy5Db29raWVzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHZhbHVlID0gd2luZG93LkNvb2tpZXMuZ2V0KG5hbWUpO1xuICAgIGlmICh2YWx1ZSkge1xuICAgICAgcmV0dXJuIEpTT04ucGFyc2UodmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gIH0sXG4gIHNldDogZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XG4gICAgaWYgKCF3aW5kb3cuQ29va2llcykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJldHVybiB3aW5kb3cuQ29va2llcy5zZXQoXG4gICAgICBuYW1lLFxuICAgICAgdmFsdWUsXG4gICAgICBHT1ZVS19DT09LSUVfT1BUSU9OU1xuICAgICk7XG4gIH0sXG4gIHJlbW92ZTogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICBpZiAoIXdpbmRvdy5Db29raWVzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmV0dXJuIHdpbmRvdy5Db29raWVzLnJlbW92ZShcbiAgICAgIG5hbWUsXG4gICAgICBHT1ZVS19DT09LSUVfT1BUSU9OU1xuICAgICk7XG4gIH1cbn07XG5cbi8vIGZ1bmN0aW9uIHRoYXQgd2lsbCByZW1vdmUgYW55IGV4aXN0aW5nIHRyYWNraW5nIGNvb2tpZXMgb24gcGFnZSBsb2FkXG4oZnVuY3Rpb24gKCkge1xuICBHb3ZVS0Nvb2tpZS5yZW1vdmUoQ09PS0lFX05BTUVTLlBPTElDWSk7XG4gIEdvdlVLQ29va2llLnJlbW92ZShDT09LSUVfTkFNRVMuUFJFRkVSRU5DRVNfU0VUKTtcbiAgR292VUtDb29raWUucmVtb3ZlKENPT0tJRV9OQU1FUy5HQSk7XG4gIEdvdlVLQ29va2llLnJlbW92ZShDT09LSUVfTkFNRVMuR0FfR0FUKTtcbiAgR292VUtDb29raWUucmVtb3ZlKENPT0tJRV9OQU1FUy5HQV9HSUQpO1xufSkoKTtcblxuXG4vKipcbiAqIFNlY3Rpb24gdG8gaGFuZGxlIHJldmlldyB1c2VycyBiYW5uZXJcbiAqIEl0IHVzZXMgYSBkZWRpY2F0ZWQgY29va2llICd1c2VyX2Jhbm5lcl9sYXN0X3NlZW4nXG4gKi9cblxuZnVuY3Rpb24gY2hlY2tDb25kaXRpb25Gb3JVc2Vyc0Jhbm5lcigpIHtcbiAgdmFyIGxhc3RTZWVuID0gR292VUtDb29raWUuZ2V0UmF3KENPT0tJRV9OQU1FUy5VU0VSX0JBTk5FUl9MQVNUX1NFRU4pO1xuICBpZiAoISFsYXN0U2Vlbikge1xuICAgIHZhciBudW1iZXJPZkRheXMgPSAobmV3IERhdGUoKS5nZXRUaW1lKCkgLSBsYXN0U2VlbikgLyAoMTAwMCAqIDM2MDAgKiAyNCk7XG4gICAgaWYgKG51bWJlck9mRGF5cyA+IDkwKSB7XG4gICAgICAvLyBpZiB0aGUgcGVyaW9kIGlzIGxvbmdlciB0aGFuIDkwIGRheXMgc2hvdy91cGRhdGUgdGhlIGJhbm5lclxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIGlmIHRoZXJlIGlzIG5vIHZhbHVlIHRoZW4gc2hvdy91cGRhdGUgdGhlIGJhbm5lclxuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gc2hvd1Jldmlld1VzZXJzQmFubmVyKCkge1xuICAkKCcjcmV2aWV3LXVzZXJzLWJhbm5lcicpLnNob3coKTtcbn1cblxuZnVuY3Rpb24gc2V0UmV2aWV3VXNlcnNCYW5uZXJMYXN0U2VlbigpIHtcbiAgR292VUtDb29raWUuc2V0KENPT0tJRV9OQU1FUy5VU0VSX0JBTk5FUl9MQVNUX1NFRU4sIG5ldyBEYXRlKCkuZ2V0VGltZSgpKTtcbn1cblxuZnVuY3Rpb24gbG9hZFJldmlld1VzZXJzQmFubmVyKCkge1xuICBpZiAoY2hlY2tDb25kaXRpb25Gb3JVc2Vyc0Jhbm5lcigpKSB7XG4gICAgc2hvd1Jldmlld1VzZXJzQmFubmVyKCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlQ29va2llUmV2aWV3VXNlcnNCYW5uZXIoKSB7XG4gIGlmIChjaGVja0NvbmRpdGlvbkZvclVzZXJzQmFubmVyKCkpIHtcbiAgICBzZXRSZXZpZXdVc2Vyc0Jhbm5lckxhc3RTZWVuKCk7XG4gIH1cbn1cbiIsIi8vIDxkZXRhaWxzPiBwb2x5ZmlsbFxuLy8gaHR0cDovL2Nhbml1c2UuY29tLyNmZWF0PWRldGFpbHNcblxuLy8gRkYgU3VwcG9ydCBmb3IgSFRNTDUncyA8ZGV0YWlscz4gYW5kIDxzdW1tYXJ5PlxuLy8gaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9NTkxNzM3XG5cbi8vIGh0dHA6Ly93d3cuc2l0ZXBvaW50LmNvbS9maXhpbmctdGhlLWRldGFpbHMtZWxlbWVudC9cblxuOyhmdW5jdGlvbiAoZ2xvYmFsKSB7XG4gICd1c2Ugc3RyaWN0J1xuXG4gIHZhciBHT1ZVSyA9IGdsb2JhbC5HT1ZVSyB8fCB7fVxuXG4gIEdPVlVLLmRldGFpbHMgPSB7XG4gICAgTkFUSVZFX0RFVEFJTFM6IHR5cGVvZiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkZXRhaWxzJykub3BlbiA9PT0gJ2Jvb2xlYW4nLFxuICAgIEtFWV9FTlRFUjogMTMsXG4gICAgS0VZX1NQQUNFOiAzMixcblxuICAgIC8vIENyZWF0ZSBhIHN0YXJ0ZWQgZmxhZyBzbyB3ZSBjYW4gcHJldmVudCB0aGUgaW5pdGlhbGlzYXRpb25cbiAgICAvLyBmdW5jdGlvbiBmaXJpbmcgZnJvbSBib3RoIERPTUNvbnRlbnRMb2FkZWQgYW5kIHdpbmRvdy5vbmxvYWRcbiAgICBzdGFydGVkOiBmYWxzZSxcblxuICAgIC8vIEFkZCBldmVudCBjb25zdHJ1Y3QgZm9yIG1vZGVybiBicm93c2VycyBvciBJRVxuICAgIC8vIHdoaWNoIGZpcmVzIHRoZSBjYWxsYmFjayB3aXRoIGEgcHJlLWNvbnZlcnRlZCB0YXJnZXQgcmVmZXJlbmNlXG4gICAgYWRkRXZlbnQ6IGZ1bmN0aW9uIChub2RlLCB0eXBlLCBjYWxsYmFjaykge1xuICAgICAgaWYgKG5vZGUuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICBub2RlLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICBjYWxsYmFjayhlLCBlLnRhcmdldClcbiAgICAgICAgfSwgZmFsc2UpXG4gICAgICB9IGVsc2UgaWYgKG5vZGUuYXR0YWNoRXZlbnQpIHtcbiAgICAgICAgbm9kZS5hdHRhY2hFdmVudCgnb24nICsgdHlwZSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICBjYWxsYmFjayhlLCBlLnNyY0VsZW1lbnQpXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSxcblxuICAgIHJlbW92ZUV2ZW50OiBmdW5jdGlvbiAobm9kZSwgdHlwZSkge1xuICAgICAgaWYgKG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgfSwgZmFsc2UpXG4gICAgICB9IGVsc2UgaWYgKG5vZGUuZGV0YWNoRXZlbnQpIHtcbiAgICAgICAgbm9kZS5kZXRhY2hFdmVudCgnb24nICsgdHlwZSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLy8gQ3Jvc3MtYnJvd3NlciBjaGFyYWN0ZXIgY29kZSAvIGtleSBwcmVzc2VkXG4gICAgY2hhckNvZGU6IGZ1bmN0aW9uIChlKSB7XG4gICAgICByZXR1cm4gKHR5cGVvZiBlLndoaWNoID09PSAnbnVtYmVyJykgPyBlLndoaWNoIDogZS5rZXlDb2RlXG4gICAgfSxcblxuICAgIC8vIENyb3NzLWJyb3dzZXIgcHJldmVudGluZyBkZWZhdWx0IGFjdGlvblxuICAgIHByZXZlbnREZWZhdWx0OiBmdW5jdGlvbiAoZSkge1xuICAgICAgaWYgKGUucHJldmVudERlZmF1bHQpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlLnJldHVyblZhbHVlID0gZmFsc2VcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLy8gSGFuZGxlIGNyb3NzLW1vZGFsIGNsaWNrIGV2ZW50c1xuICAgIGFkZENsaWNrRXZlbnQ6IGZ1bmN0aW9uIChub2RlLCBjYWxsYmFjaykge1xuICAgICAgR09WVUsuZGV0YWlscy5hZGRFdmVudChub2RlLCAna2V5cHJlc3MnLCBmdW5jdGlvbiAoZSwgdGFyZ2V0KSB7XG4gICAgICAgIC8vIFdoZW4gdGhlIGtleSBnZXRzIHByZXNzZWQgLSBjaGVjayBpZiBpdCBpcyBlbnRlciBvciBzcGFjZVxuICAgICAgICBpZiAoR09WVUsuZGV0YWlscy5jaGFyQ29kZShlKSA9PT0gR09WVUsuZGV0YWlscy5LRVlfRU5URVIgfHwgR09WVUsuZGV0YWlscy5jaGFyQ29kZShlKSA9PT0gR09WVUsuZGV0YWlscy5LRVlfU1BBQ0UpIHtcbiAgICAgICAgICBpZiAodGFyZ2V0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdzdW1tYXJ5Jykge1xuICAgICAgICAgICAgLy8gUHJldmVudCBzcGFjZSBmcm9tIHNjcm9sbGluZyB0aGUgcGFnZVxuICAgICAgICAgICAgLy8gYW5kIGVudGVyIGZyb20gc3VibWl0dGluZyBhIGZvcm1cbiAgICAgICAgICAgIEdPVlVLLmRldGFpbHMucHJldmVudERlZmF1bHQoZSlcbiAgICAgICAgICAgIC8vIENsaWNrIHRvIGxldCB0aGUgY2xpY2sgZXZlbnQgZG8gYWxsIHRoZSBuZWNlc3NhcnkgYWN0aW9uXG4gICAgICAgICAgICBpZiAodGFyZ2V0LmNsaWNrKSB7XG4gICAgICAgICAgICAgIHRhcmdldC5jbGljaygpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBleGNlcHQgU2FmYXJpIDUuMSBhbmQgdW5kZXIgZG9uJ3Qgc3VwcG9ydCAuY2xpY2soKSBoZXJlXG4gICAgICAgICAgICAgIGNhbGxiYWNrKGUsIHRhcmdldClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pXG5cbiAgICAgIC8vIFByZXZlbnQga2V5dXAgdG8gcHJldmVudCBjbGlja2luZyB0d2ljZSBpbiBGaXJlZm94IHdoZW4gdXNpbmcgc3BhY2Uga2V5XG4gICAgICBHT1ZVSy5kZXRhaWxzLmFkZEV2ZW50KG5vZGUsICdrZXl1cCcsIGZ1bmN0aW9uIChlLCB0YXJnZXQpIHtcbiAgICAgICAgaWYgKEdPVlVLLmRldGFpbHMuY2hhckNvZGUoZSkgPT09IEdPVlVLLmRldGFpbHMuS0VZX1NQQUNFKSB7XG4gICAgICAgICAgaWYgKHRhcmdldC5ub2RlTmFtZSA9PT0gJ1NVTU1BUlknKSB7XG4gICAgICAgICAgICBHT1ZVSy5kZXRhaWxzLnByZXZlbnREZWZhdWx0KGUpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KVxuXG4gICAgICBHT1ZVSy5kZXRhaWxzLmFkZEV2ZW50KG5vZGUsICdjbGljaycsIGZ1bmN0aW9uIChlLCB0YXJnZXQpIHtcbiAgICAgICAgY2FsbGJhY2soZSwgdGFyZ2V0KVxuICAgICAgfSlcbiAgICB9LFxuXG4gICAgLy8gR2V0IHRoZSBuZWFyZXN0IGFuY2VzdG9yIGVsZW1lbnQgb2YgYSBub2RlIHRoYXQgbWF0Y2hlcyBhIGdpdmVuIHRhZyBuYW1lXG4gICAgZ2V0QW5jZXN0b3I6IGZ1bmN0aW9uIChub2RlLCBtYXRjaCkge1xuICAgICAgZG8ge1xuICAgICAgICBpZiAoIW5vZGUgfHwgbm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBtYXRjaCkge1xuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZVxuICAgICAgfSB3aGlsZSAobm9kZSlcblxuICAgICAgcmV0dXJuIG5vZGVcbiAgICB9LFxuXG4gICAgLy8gSW5pdGlhbGlzYXRpb24gZnVuY3Rpb25cbiAgICBhZGREZXRhaWxzUG9seWZpbGw6IGZ1bmN0aW9uIChsaXN0LCBjb250YWluZXIpIHtcbiAgICAgIGNvbnRhaW5lciA9IGNvbnRhaW5lciB8fCBkb2N1bWVudC5ib2R5XG4gICAgICAvLyBJZiB0aGlzIGhhcyBhbHJlYWR5IGhhcHBlbmVkLCBqdXN0IHJldHVyblxuICAgICAgLy8gZWxzZSBzZXQgdGhlIGZsYWcgc28gaXQgZG9lc24ndCBoYXBwZW4gYWdhaW5cbiAgICAgIGlmIChHT1ZVSy5kZXRhaWxzLnN0YXJ0ZWQpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICBHT1ZVSy5kZXRhaWxzLnN0YXJ0ZWQgPSB0cnVlXG4gICAgICAvLyBHZXQgdGhlIGNvbGxlY3Rpb24gb2YgZGV0YWlscyBlbGVtZW50cywgYnV0IGlmIHRoYXQncyBlbXB0eVxuICAgICAgLy8gdGhlbiB3ZSBkb24ndCBuZWVkIHRvIGJvdGhlciB3aXRoIHRoZSByZXN0IG9mIHRoZSBzY3JpcHRpbmdcbiAgICAgIGlmICgobGlzdCA9IGNvbnRhaW5lci5nZXRFbGVtZW50c0J5VGFnTmFtZSgnZGV0YWlscycpKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICAvLyBlbHNlIGl0ZXJhdGUgdGhyb3VnaCB0aGVtIHRvIGFwcGx5IHRoZWlyIGluaXRpYWwgc3RhdGVcbiAgICAgIHZhciBuID0gbGlzdC5sZW5ndGhcbiAgICAgIHZhciBpID0gMFxuICAgICAgZm9yIChpOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgIHZhciBkZXRhaWxzID0gbGlzdFtpXVxuXG4gICAgICAgIC8vIFNhdmUgc2hvcnRjdXRzIHRvIHRoZSBpbm5lciBzdW1tYXJ5IGFuZCBjb250ZW50IGVsZW1lbnRzXG4gICAgICAgIGRldGFpbHMuX19zdW1tYXJ5ID0gZGV0YWlscy5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc3VtbWFyeScpLml0ZW0oMClcbiAgICAgICAgZGV0YWlscy5fX2NvbnRlbnQgPSBkZXRhaWxzLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdkaXYnKS5pdGVtKDApXG5cbiAgICAgICAgaWYgKCFkZXRhaWxzLl9fc3VtbWFyeSB8fCAhZGV0YWlscy5fX2NvbnRlbnQpIHtcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB0aGUgY29udGVudCBkb2Vzbid0IGhhdmUgYW4gSUQsIGFzc2lnbiBpdCBvbmUgbm93XG4gICAgICAgIC8vIHdoaWNoIHdlJ2xsIG5lZWQgZm9yIHRoZSBzdW1tYXJ5J3MgYXJpYS1jb250cm9scyBhc3NpZ25tZW50XG4gICAgICAgIGlmICghZGV0YWlscy5fX2NvbnRlbnQuaWQpIHtcbiAgICAgICAgICBkZXRhaWxzLl9fY29udGVudC5pZCA9ICdkZXRhaWxzLWNvbnRlbnQtJyArIGlcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFkZCBBUklBIHJvbGU9XCJncm91cFwiIHRvIGRldGFpbHNcbiAgICAgICAgZGV0YWlscy5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnZ3JvdXAnKVxuXG4gICAgICAgIC8vIEFkZCByb2xlPWJ1dHRvbiB0byBzdW1tYXJ5XG4gICAgICAgIGRldGFpbHMuX19zdW1tYXJ5LnNldEF0dHJpYnV0ZSgncm9sZScsICdidXR0b24nKVxuXG4gICAgICAgIC8vIEFkZCBhcmlhLWNvbnRyb2xzXG4gICAgICAgIGRldGFpbHMuX19zdW1tYXJ5LnNldEF0dHJpYnV0ZSgnYXJpYS1jb250cm9scycsIGRldGFpbHMuX19jb250ZW50LmlkKVxuXG4gICAgICAgIC8vIFNldCB0YWJJbmRleCBzbyB0aGUgc3VtbWFyeSBpcyBrZXlib2FyZCBhY2Nlc3NpYmxlIGZvciBub24tbmF0aXZlIGVsZW1lbnRzXG4gICAgICAgIC8vIGh0dHA6Ly93d3cuc2FsaWVuY2VzLmNvbS9icm93c2VyQnVncy90YWJJbmRleC5odG1sXG4gICAgICAgIGlmICghR09WVUsuZGV0YWlscy5OQVRJVkVfREVUQUlMUykge1xuICAgICAgICAgIGRldGFpbHMuX19zdW1tYXJ5LnRhYkluZGV4ID0gMFxuICAgICAgICB9XG5cbiAgICAgICAgLy8gRGV0ZWN0IGluaXRpYWwgb3BlbiBzdGF0ZVxuICAgICAgICB2YXIgb3BlbkF0dHIgPSBkZXRhaWxzLmdldEF0dHJpYnV0ZSgnb3BlbicpICE9PSBudWxsXG4gICAgICAgIGlmIChvcGVuQXR0ciA9PT0gdHJ1ZSkge1xuICAgICAgICAgIGRldGFpbHMuX19zdW1tYXJ5LnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsICd0cnVlJylcbiAgICAgICAgICBkZXRhaWxzLl9fY29udGVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ2ZhbHNlJylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZXRhaWxzLl9fc3VtbWFyeS5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnKVxuICAgICAgICAgIGRldGFpbHMuX19jb250ZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpXG4gICAgICAgICAgaWYgKCFHT1ZVSy5kZXRhaWxzLk5BVElWRV9ERVRBSUxTKSB7XG4gICAgICAgICAgICBkZXRhaWxzLl9fY29udGVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ3JlYXRlIGEgY2lyY3VsYXIgcmVmZXJlbmNlIGZyb20gdGhlIHN1bW1hcnkgYmFjayB0byBpdHNcbiAgICAgICAgLy8gcGFyZW50IGRldGFpbHMgZWxlbWVudCwgZm9yIGNvbnZlbmllbmNlIGluIHRoZSBjbGljayBoYW5kbGVyXG4gICAgICAgIGRldGFpbHMuX19zdW1tYXJ5Ll9fZGV0YWlscyA9IGRldGFpbHNcblxuICAgICAgICAvLyBJZiB0aGlzIGlzIG5vdCBhIG5hdGl2ZSBpbXBsZW1lbnRhdGlvbiwgY3JlYXRlIGFuIGFycm93XG4gICAgICAgIC8vIGluc2lkZSB0aGUgc3VtbWFyeVxuICAgICAgICBpZiAoIUdPVlVLLmRldGFpbHMuTkFUSVZFX0RFVEFJTFMpIHtcbiAgICAgICAgICB2YXIgdHdpc3R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaScpXG5cbiAgICAgICAgICBpZiAob3BlbkF0dHIgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHR3aXN0eS5jbGFzc05hbWUgPSAnYXJyb3cgYXJyb3ctb3BlbidcbiAgICAgICAgICAgIHR3aXN0eS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnXFx1MjViYycpKVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0d2lzdHkuY2xhc3NOYW1lID0gJ2Fycm93IGFycm93LWNsb3NlZCdcbiAgICAgICAgICAgIHR3aXN0eS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnXFx1MjViYScpKVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGRldGFpbHMuX19zdW1tYXJ5Ll9fdHdpc3R5ID0gZGV0YWlscy5fX3N1bW1hcnkuaW5zZXJ0QmVmb3JlKHR3aXN0eSwgZGV0YWlscy5fX3N1bW1hcnkuZmlyc3RDaGlsZClcbiAgICAgICAgICBkZXRhaWxzLl9fc3VtbWFyeS5fX3R3aXN0eS5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIEJpbmQgYSBjbGljayBldmVudCB0byBoYW5kbGUgc3VtbWFyeSBlbGVtZW50c1xuICAgICAgR09WVUsuZGV0YWlscy5hZGRDbGlja0V2ZW50KGNvbnRhaW5lciwgZnVuY3Rpb24gKGUsIHN1bW1hcnkpIHtcbiAgICAgICAgaWYgKCEoc3VtbWFyeSA9IEdPVlVLLmRldGFpbHMuZ2V0QW5jZXN0b3Ioc3VtbWFyeSwgJ3N1bW1hcnknKSkpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBHT1ZVSy5kZXRhaWxzLnN0YXRlY2hhbmdlKHN1bW1hcnkpXG4gICAgICB9KVxuICAgIH0sXG5cbiAgICAvLyBEZWZpbmUgYSBzdGF0ZWNoYW5nZSBmdW5jdGlvbiB0aGF0IHVwZGF0ZXMgYXJpYS1leHBhbmRlZCBhbmQgc3R5bGUuZGlzcGxheVxuICAgIC8vIEFsc28gdXBkYXRlIHRoZSBhcnJvdyBwb3NpdGlvblxuICAgIHN0YXRlY2hhbmdlOiBmdW5jdGlvbiAoc3VtbWFyeSkge1xuICAgICAgdmFyIGV4cGFuZGVkID0gc3VtbWFyeS5fX2RldGFpbHMuX19zdW1tYXJ5LmdldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcpID09PSAndHJ1ZSdcbiAgICAgIHZhciBoaWRkZW4gPSBzdW1tYXJ5Ll9fZGV0YWlscy5fX2NvbnRlbnQuZ2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicpID09PSAndHJ1ZSdcblxuICAgICAgc3VtbWFyeS5fX2RldGFpbHMuX19zdW1tYXJ5LnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsIChleHBhbmRlZCA/ICdmYWxzZScgOiAndHJ1ZScpKVxuICAgICAgc3VtbWFyeS5fX2RldGFpbHMuX19jb250ZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAoaGlkZGVuID8gJ2ZhbHNlJyA6ICd0cnVlJykpXG5cbiAgICAgIGlmICghR09WVUsuZGV0YWlscy5OQVRJVkVfREVUQUlMUykge1xuICAgICAgICBzdW1tYXJ5Ll9fZGV0YWlscy5fX2NvbnRlbnQuc3R5bGUuZGlzcGxheSA9IChleHBhbmRlZCA/ICdub25lJyA6ICcnKVxuXG4gICAgICAgIHZhciBoYXNPcGVuQXR0ciA9IHN1bW1hcnkuX19kZXRhaWxzLmdldEF0dHJpYnV0ZSgnb3BlbicpICE9PSBudWxsXG4gICAgICAgIGlmICghaGFzT3BlbkF0dHIpIHtcbiAgICAgICAgICBzdW1tYXJ5Ll9fZGV0YWlscy5zZXRBdHRyaWJ1dGUoJ29wZW4nLCAnb3BlbicpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3VtbWFyeS5fX2RldGFpbHMucmVtb3ZlQXR0cmlidXRlKCdvcGVuJylcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoc3VtbWFyeS5fX3R3aXN0eSkge1xuICAgICAgICBzdW1tYXJ5Ll9fdHdpc3R5LmZpcnN0Q2hpbGQubm9kZVZhbHVlID0gKGV4cGFuZGVkID8gJ1xcdTI1YmEnIDogJ1xcdTI1YmMnKVxuICAgICAgICBzdW1tYXJ5Ll9fdHdpc3R5LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAoZXhwYW5kZWQgPyAnYXJyb3cgYXJyb3ctY2xvc2VkJyA6ICdhcnJvdyBhcnJvdy1vcGVuJykpXG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0cnVlXG4gICAgfSxcblxuICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICBHT1ZVSy5kZXRhaWxzLnJlbW92ZUV2ZW50KG5vZGUsICdjbGljaycpXG4gICAgfSxcblxuICAgIC8vIEJpbmQgdHdvIGxvYWQgZXZlbnRzIGZvciBtb2Rlcm4gYW5kIG9sZGVyIGJyb3dzZXJzXG4gICAgLy8gSWYgdGhlIGZpcnN0IG9uZSBmaXJlcyBpdCB3aWxsIHNldCBhIGZsYWcgdG8gYmxvY2sgdGhlIHNlY29uZCBvbmVcbiAgICAvLyBidXQgaWYgaXQncyBub3Qgc3VwcG9ydGVkIHRoZW4gdGhlIHNlY29uZCBvbmUgd2lsbCBmaXJlXG4gICAgaW5pdDogZnVuY3Rpb24gKCRjb250YWluZXIpIHtcbiAgICAgIEdPVlVLLmRldGFpbHMuYWRkRXZlbnQoZG9jdW1lbnQsICdET01Db250ZW50TG9hZGVkJywgR09WVUsuZGV0YWlscy5hZGREZXRhaWxzUG9seWZpbGwpXG4gICAgICBHT1ZVSy5kZXRhaWxzLmFkZEV2ZW50KHdpbmRvdywgJ2xvYWQnLCBHT1ZVSy5kZXRhaWxzLmFkZERldGFpbHNQb2x5ZmlsbClcbiAgICB9XG4gIH1cbiAgZ2xvYmFsLkdPVlVLID0gR09WVUtcbn0pKHdpbmRvdylcbiIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgTlNBID0gTlNBIHx8IHt9O1xudmFyIGZpbHRlckJveGVzID0gJCgnLmZpbHRlci1ib3gnKTtcblxuTlNBLmZpbHRlcnMgPSB7XG4gIGluaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICBmaWx0ZXJCb3hlcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhhdCA9ICQodGhpcyksXG4gICAgICAgICAgaGVhZGVyID0gJHRoYXQuZmluZCgnLmNvbnRhaW5lci1oZWFkJyksXG4gICAgICAgICAgdGl0bGUgPSBoZWFkZXIuZmluZCgnLm9wdGlvbi1zZWxlY3QtbGFiZWwnKSxcbiAgICAgICAgICBjaGVja2JveGVzID0gJHRoYXQuZmluZCgnaW5wdXQ6Y2hlY2tib3gnKSxcbiAgICAgICAgICBidXR0b24gPSAkKCc8YnV0dG9uIC8+JykuYWRkQ2xhc3MoJ2pzLWNvbnRhaW5lci1oZWFkJyksXG4gICAgICAgICAgY2hlY2tDb3VudCA9ICQoJzxkaXYgLz4nKS5hZGRDbGFzcygnanMtc2VsZWN0ZWQtY291bnRlcicpO1xuXG4gICAgICBidXR0b24ub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSAkKHRoaXMpLm5leHQoKTtcbiAgICAgICAgaWYgKCQodGhpcykuaGFzQ2xhc3MoJ2Nsb3NlZCcpKSB7XG4gICAgICAgICAgb3B0aW9ucy5zaG93KCk7XG4gICAgICAgICAgJCh0aGlzKVxuICAgICAgICAgICAgLnJlbW92ZUNsYXNzKCdjbG9zZWQnKVxuICAgICAgICAgICAgLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCB0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvcHRpb25zLmhpZGUoKTtcbiAgICAgICAgICAkKHRoaXMpXG4gICAgICAgICAgICAuYWRkQ2xhc3MoJ2Nsb3NlZCcpXG4gICAgICAgICAgICAuYXR0cignYXJpYS1leHBhbmRlZCcsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9KS5hcHBlbmQodGl0bGUsIGNoZWNrQ291bnQpO1xuXG4gICAgICBoZWFkZXIucmVwbGFjZVdpdGgoYnV0dG9uKTtcblxuICAgICAgY2hlY2tib3hlcy5vbignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBjaGVja0NvdW50LnRleHQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIGNoZWNrYm94ZXMuZmlsdGVyKCc6Y2hlY2tlZCcpLmxlbmd0aCA+IDAgPyBjaGVja2JveGVzLmZpbHRlcignOmNoZWNrZWQnKS5sZW5ndGggKyAnIHNlbGVjdGVkJyA6ICcnO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59XG5cbmlmIChmaWx0ZXJCb3hlcy5sZW5ndGggPiAwKSB7XG4gIE5TQS5maWx0ZXJzLmluaXQoKTtcbn1cbiIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgTlNBID0gTlNBIHx8IHt9O1xuXG5OU0Euc2lnbmluID0ge1xuICBmb3JtOiAkKCcuZm9ybS1zaWduaW4nKSxcbiAgaW5pdDogZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuc2V0dXBFdmVudHMoKTtcbiAgfSxcbiAgc2V0dXBFdmVudHM6IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZvcm0ub24oJ3N1Ym1pdCcsIHRoaXMsIHRoaXMuaGFuZGxlU3VibWl0KTtcbiAgfSxcbiAgaGFuZGxlU3VibWl0OiBmdW5jdGlvbiAoZSkge1xuXG4gICAgdmFyICRmb3JtID0gJCh0aGlzKTtcbiAgICB2YXIgJGlucHV0cyA9ICRmb3JtLmZpbmQoJ2lucHV0Jykubm90KCc6Y2hlY2tib3gnKSwgcG9zdERhdGEgPSB7fSwgJHN1Ym1pdEJ1dHRvbnMgPSAkKHRoaXMpLmZpbmQoJ2J1dHRvbjpzdWJtaXQnKSwgJHN1Ym1pdEJ1dHRvbiA9ICRzdWJtaXRCdXR0b25zLmVxKDApO1xuXG4gICAgJHN1Ym1pdEJ1dHRvbnMuYXR0cignZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcblxuICAgICRzdWJtaXRCdXR0b24uY3NzKCdtaW4td2lkdGgnLCAkc3VibWl0QnV0dG9uLm91dGVyV2lkdGgoKSArICdweCcpXG5cbiAgICAkc3VibWl0QnV0dG9uLmZpbmQoJy5sb2FkZXInKS5yZW1vdmVDbGFzcygndmgnKTtcblxuICAgICRpbnB1dHMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgIHBvc3REYXRhW3RoaXMubmFtZV0gPSAkKHRoaXMpLnZhbCgpO1xuICAgIH0pO1xuXG4gICAgJCgnI3Bhc3N3b3JkJykucHJvcCgndHlwZScsICdwYXNzd29yZCcpLm5leHQoKS5yZW1vdmVDbGFzcygndHlwZS1wYXNzd29yZCcpO1xuXG4gICAgJC5hamF4KHtcbiAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgIGRhdGE6IHBvc3REYXRhLFxuICAgICAgdXJsOiAkZm9ybS5hdHRyKCdhY3Rpb24nKSxcbiAgICAgIGNvbnRleHQ6IGUuZGF0YSxcbiAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICBpZiAoZGF0YS5yZWRpcmVjdCkge1xuICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gZGF0YS51cmk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGRhdGEuaXNGYWlsZWRMb2dpbikge1xuICAgICAgICAgICAgdGhpcy5yZXNldFZhbGlkYXRpb24oJGZvcm0pO1xuICAgICAgICAgICAgaWYgKGRhdGEuZGVsYXlUaWxsKSB7XG4gICAgICAgICAgICAgIHRoaXMuc2hvd1ZhbGlkYXRpb25NZXNzYWdlKGRhdGEudmFsaWRhdGlvbk1lc3NhZ2VzLCB0cnVlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRoaXMuc2hvd1ZhbGlkYXRpb25NZXNzYWdlKGRhdGEudmFsaWRhdGlvbk1lc3NhZ2VzKTtcbiAgICAgICAgICAgICAgJHN1Ym1pdEJ1dHRvbnMucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc2hvd0lubGluZVZhbGlkYXRpb24oZGF0YS52YWxpZGF0aW9uTWVzc2FnZXMpO1xuICAgICAgICAgICAgJHN1Ym1pdEJ1dHRvbi5maW5kKCcubG9hZGVyJykuYWRkQ2xhc3MoJ3ZoJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYnVpbGRGb3JtQW5kU3VibWl0KGRhdGEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGVycm9yOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5yZXNldFZhbGlkYXRpb24oJGZvcm0pO1xuICAgICAgICB0aGlzLnNob3dWYWxpZGF0aW9uTWVzc2FnZSgpO1xuICAgICAgICAkc3VibWl0QnV0dG9ucy5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpO1xuICAgICAgICAkc3VibWl0QnV0dG9uLmZpbmQoJy5sb2FkZXInKS5hZGRDbGFzcygndmgnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIH0sXG4gIHJlc2V0VmFsaWRhdGlvbjogZnVuY3Rpb24gKCRmb3JtKSB7XG5cbiAgICB2YXIgJGZvcm1Hcm91cHMgPSAkZm9ybS5maW5kKCcuZm9ybS1ncm91cCcpO1xuXG4gICAgJCgnLmVycm9yLXN1bW1hcnknKS5yZW1vdmUoKTtcblxuICAgICRmb3JtR3JvdXBzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICRmaWVsZCA9ICQodGhpcykuZmluZCgnaW5wdXQnKS5lcSgwKTtcbiAgICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKCdmb3JtLWdyb3VwLWVycm9yJykpIHtcbiAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnZm9ybS1ncm91cC1lcnJvcicpO1xuICAgICAgICAkKHRoaXMpLmZpbmQoJ3AuZXJyb3ItbWVzc2FnZScpLnJlbW92ZSgpO1xuICAgICAgICAkZmllbGQucmVtb3ZlQXR0cignYXJpYS1kZXNjcmliZWRieScpLnJlbW92ZUF0dHIoJ2FyaWEtaW52YWxpZCcpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuXG4gIHNob3dWYWxpZGF0aW9uTWVzc2FnZTogZnVuY3Rpb24gKG1lc3NhZ2VzLCBzaG93UmVmcmVzaExpbmspIHtcblxuICAgIHZhciAkZGl2ID0gJCgnPGRpdiAvPicpLmF0dHIoJ2NsYXNzJywgJ2Vycm9yLXN1bW1hcnknKS5hdHRyKCdyb2xlJywgJ2FsZXJ0JykuYXR0cigndGFiaW5kZXgnLCAnLTEnKTtcbiAgICB2YXIgJGgyID0gJCgnPGgyIC8+JykuYXR0cignY2xhc3MnLCAnaGVhZGluZy1tZWRpdW0gZXJyb3Itc3VtbWFyeS1oZWFkaW5nJykuYXR0cignaWQnLCAnZXJyb3Itc3VtbWFyeScpO1xuICAgIHZhciAkdWwgPSAkKCc8dWwgLz4nKS5hdHRyKCdjbGFzcycsICdlcnJvci1zdW1tYXJ5LWxpc3QnKTtcblxuICAgIGlmIChtZXNzYWdlcykge1xuICAgICAgJGgyLnRleHQoJ0luZm9ybWF0aW9uIG1pc3Npbmcgb3IgaW5jb3JyZWN0Jyk7XG4gICAgICAkLmVhY2gobWVzc2FnZXMsIGZ1bmN0aW9uIChpbmRleCwgdmFsdWUpIHtcbiAgICAgICAgaWYgKGluZGV4ID09PSAnbG9naW5FcnJvcicpIHtcbiAgICAgICAgICBpbmRleCA9ICd1c2VybmFtZSc7XG4gICAgICAgIH1cbiAgICAgICAgdmFyICRhID0gJCgnPGEgLz4nKS5hdHRyKCdocmVmJywgJyMnICsgaW5kZXgpLnRleHQodmFsdWUpO1xuICAgICAgICB2YXIgJGxpID0gJCgnPGxpIC8+JykuYXBwZW5kKCRhKTtcbiAgICAgICAgJHVsLmFwcGVuZCgkbGkpO1xuICAgICAgfSk7XG4gICAgICBpZiAoc2hvd1JlZnJlc2hMaW5rKSB7XG4gICAgICAgIHZhciAkYSA9ICQoJzxhIC8+JykuYXR0cignY2xhc3MnLCAnZ292dWstbGluaycpLmF0dHIoJ2hyZWYnLCAnJykuYXR0cignb25jbGljaycsICd3aW5kb3cubG9jYXRpb24ucmVsb2FkKCknKS50ZXh0KCdSZWZyZXNoIHRoaXMgcGFnZScpLmNzcygnY29sb3InLCAnIzFkNzBiOCcpO1xuICAgICAgICB2YXIgJGxpID0gJCgnPGxpIC8+JykuYXBwZW5kKCRhKTtcbiAgICAgICAgJHVsLmFwcGVuZCgkbGkpO1xuICAgICAgfVxuXG4gICAgfSBlbHNlIHtcbiAgICAgICRoMi50ZXh0KCdUaGVyZSBoYXMgYmVlbiBhbiBlcnJvcicpO1xuICAgICAgdmFyICRsaSA9ICQoJzxsaSAvPicpLmh0bWwoJ1BsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuIElmIHRoZSBwcm9ibGVtIGNvbnRpbnVlcywgZm9sbG93IHRoZSBsaW5rIHRvIDxhIGhyZWY9XCJodHRwczovL2hlbHAuc2lnbmluLmVkdWNhdGlvbi5nb3YudWsvY29udGFjdC9mb3JtXCI+c3VibWl0IGEgc3VwcG9ydCByZXF1ZXN0PC9hPicpO1xuICAgICAgJHVsLmFwcGVuZCgkbGkpO1xuICAgIH1cblxuICAgICRkaXYuYXBwZW5kKCRoMikuYXBwZW5kKCR1bCk7XG4gICAgJCgnbWFpbicpLnByZXBlbmQoJGRpdik7XG5cbiAgICAkKCdodG1sLCBib2R5JykuYW5pbWF0ZSh7XG4gICAgICBzY3JvbGxUb3A6ICRkaXYub2Zmc2V0KCkudG9wIC0gMTVcbiAgICB9LCAzMDApO1xuXG4gIH0sXG4gIHNob3dJbmxpbmVWYWxpZGF0aW9uOiBmdW5jdGlvbihtZXNzYWdlcykge1xuXG4gICAgJC5lYWNoKG1lc3NhZ2VzLCBmdW5jdGlvbiggaW5kZXgsIHZhbHVlICkge1xuICAgICAgdmFyICRmaWVsZCA9ICQoJ2lucHV0W25hbWU9JyArIGluZGV4ICsgJ10nKSxcbiAgICAgICAgJHBhcmVudCA9ICRmaWVsZC5wYXJlbnQoKTtcblxuICAgICAgaWYgKCRwYXJlbnQuaGFzQ2xhc3MoJ3Nob3ctcGFzc3dvcmQnKSkge1xuICAgICAgICAkcGFyZW50ID0gJHBhcmVudC5wYXJlbnQoKTtcbiAgICAgIH1cblxuICAgICAgdmFyICRsYWJlbCA9ICRwYXJlbnQuZmluZCgnbGFiZWwnKS5maXJzdCgpO1xuXG4gICAgICBpZiAoISRwYXJlbnQuaGFzQ2xhc3MoJ2Zvcm0tZ3JvdXAtZXJyb3InKSkge1xuXG4gICAgICAgIHZhciBlcnJvck1lc3NhZ2UgPSAkKCc8cD4nKVxuICAgICAgICAgIC5odG1sKHZhbHVlKVxuICAgICAgICAgIC5wcm9wKCdjbGFzcycsICdlcnJvci1tZXNzYWdlJylcbiAgICAgICAgICAucHJvcCgnaWQnLCAndmFsaWRhdGlvbi0nICsgaW5kZXgpO1xuICAgICAgfVxuXG4gICAgICAkbGFiZWwuYWZ0ZXIoZXJyb3JNZXNzYWdlKTtcbiAgICAgICRwYXJlbnQuYWRkQ2xhc3MoJ2Zvcm0tZ3JvdXAtZXJyb3InKTtcbiAgICAgICRmaWVsZC5hdHRyKHtcbiAgICAgICAgJ2FyaWEtZGVzY3JpYmVkYnknIDogJ3ZhbGlkYXRpb24tJyArIGluZGV4LFxuICAgICAgICAnYXJpYS1pbnZhbGlkJzogJ3RydWUnXG4gICAgICB9KTtcblxuICAgIH0pO1xuXG4gIH0sXG4gIGJ1aWxkRm9ybUFuZFN1Ym1pdDogZnVuY3Rpb24gKGRhdGEpIHtcblxuICAgIHZhciAkZm9ybSA9ICQoJzxmb3JtIC8+JykuYXR0cih7XG4gICAgICBtZXRob2Q6ICdwb3N0JyxcbiAgICAgIGFjdGlvbjogZGF0YS5kZXN0aW5hdGlvbixcbiAgICAgIGlkOiAnZGZlc2lnbmluZm9ybSdcbiAgICB9KTtcblxuICAgICQuZWFjaChkYXRhLnBvc3RiYWNrRGF0YSwgZnVuY3Rpb24oIGluZGV4LCB2YWx1ZSApIHtcbiAgICAgIHZhciAkZmllbGQgPSAkKCc8aW5wdXQgLz4nKS5hdHRyKHtcbiAgICAgICAgdHlwZTogJ2hpZGRlbicsXG4gICAgICAgIG5hbWU6IGluZGV4LFxuICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICAgIH0pO1xuICAgICAgJGZvcm0uYXBwZW5kKCRmaWVsZCk7XG4gICAgfSk7XG5cbiAgICAkKCcjZGZlc2lnbmluZm9ybScpLnJlbW92ZSgpO1xuICAgICQoJ2JvZHknKS5hcHBlbmQoJGZvcm0pO1xuICAgICRmb3JtLnN1Ym1pdCgpO1xuICB9LFxufTtcblxuaWYgKCQoJy5mb3JtLXNpZ25pbicpLmxlbmd0aCA+IDApIHtcbiAgTlNBLnNpZ25pbi5pbml0KCk7XG59XG5cbmZ1bmN0aW9uIGdldFBhcmFtZXRlckJ5TmFtZShuYW1lLCB1cmwpIHtcbiAgaWYgKCF1cmwpIHVybCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xuICBuYW1lID0gbmFtZS5yZXBsYWNlKC9bXFxbXFxdXS9nLCBcIlxcXFwkJlwiKTtcbiAgdmFyIHJlZ2V4ID0gbmV3IFJlZ0V4cChcIls/Jl1cIiArIG5hbWUgKyBcIig9KFteJiNdKil8JnwjfCQpXCIpLFxuICAgIHJlc3VsdHMgPSByZWdleC5leGVjKHVybCk7XG4gIGlmICghcmVzdWx0cykgcmV0dXJuIG51bGw7XG4gIGlmICghcmVzdWx0c1syXSkgcmV0dXJuICcnO1xuICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHJlc3VsdHNbMl0ucmVwbGFjZSgvXFwrL2csIFwiIFwiKSk7XG59XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gc29ydFRhYmxlKG4pIHtcbiAgdmFyIHRhYmxlLCByb3dzLCBzd2l0Y2hpbmcsIGksIHgsIHksIHNob3VsZFN3aXRjaCwgZGlyZWN0aW9uLCBzd2l0Y2hjb3VudCA9IDA7XG4gIHRhYmxlID0gJCgndGFibGUuc29ydGFibGUnKTtcbiAgc3dpdGNoaW5nID0gdHJ1ZTtcbiAgZGlyZWN0aW9uID0gJ2EnO1xuXG4gIHdoaWxlIChzd2l0Y2hpbmcpIHtcblxuICAgIHN3aXRjaGluZyA9IGZhbHNlO1xuICAgIHJvd3MgPSB0YWJsZS5maW5kKCd0cicpO1xuXG4gICAgZm9yIChpID0gMTsgaSA8IChyb3dzLmxlbmd0aCAtIDEpOyBpKyspIHtcblxuICAgICAgc2hvdWxkU3dpdGNoID0gZmFsc2U7XG5cbiAgICAgIHggPSByb3dzW2ldLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdURCcpW25dO1xuICAgICAgeSA9IHJvd3NbaSArIDFdLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdURCcpW25dO1xuXG4gICAgICBpZiAoZGlyZWN0aW9uID09PSAnYScpIHtcbiAgICAgICAgaWYgKHguaW5uZXJIVE1MLnRvTG93ZXJDYXNlKCkgPiB5LmlubmVySFRNTC50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgICAgc2hvdWxkU3dpdGNoID0gdHJ1ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT09ICdkJykge1xuICAgICAgICBpZiAoeC5pbm5lckhUTUwudG9Mb3dlckNhc2UoKSA8IHkuaW5uZXJIVE1MLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgICBzaG91bGRTd2l0Y2ggPSB0cnVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHNob3VsZFN3aXRjaCkge1xuXG4gICAgICByb3dzW2ldLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHJvd3NbaSArIDFdLCByb3dzW2ldKTtcbiAgICAgIHN3aXRjaGluZyA9IHRydWU7XG5cbiAgICAgIHN3aXRjaGNvdW50ICsrO1xuXG4gICAgfSBlbHNlIHtcblxuICAgICAgaWYgKHN3aXRjaGNvdW50ID09PSAwICYmIGRpcmVjdGlvbiA9PT0gJ2EnKSB7XG4gICAgICAgIGRpcmVjdGlvbiA9ICdkJztcbiAgICAgICAgc3dpdGNoaW5nID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgIH1cbiAgfVxuICByZXR1cm4gZGlyZWN0aW9uO1xufVxuXG4kKGZ1bmN0aW9uICgpIHtcblxuICAkKCd0YWJsZS5zb3J0YWJsZSB0aGVhZCB0aCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBoZWFkaW5nQ2VsbHMgPSAkKCd0YWJsZS5zb3J0YWJsZSB0aGVhZCB0ciB0aCcpO1xuXG4gICAgaGVhZGluZ0NlbGxzLnJlbW92ZUNsYXNzKCdzb3J0ZWQnKS5yZW1vdmVDbGFzcygnZGlyLWEnKS5yZW1vdmVDbGFzcygnZGlyLWQnKTtcblxuICAgIHZhciBpbmRleCA9IGhlYWRpbmdDZWxscy5pbmRleCgkKHRoaXMpKTtcblxuICAgIHZhciBkaXJlY3Rpb24gPSBzb3J0VGFibGUoaW5kZXgpO1xuXG4gICAgJCh0aGlzKS5hZGRDbGFzcygnc29ydGVkIGRpci0nICsgZGlyZWN0aW9uKTtcblxuICB9KTtcblxufSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIE5TQSA9IE5TQSB8fCB7fTtcblxuTlNBLm1vZGFsID0ge1xuICBlbGVtczoge1xuICAgIGxpbmtzOiAkKCcubW9kYWwtbGluaycpLFxuICAgIG1vZGFsczogJCgnLm1vZGFsJylcbiAgfSxcbiAgaW5pdDogZnVuY3Rpb24gKCkge1xuICAgIHRoaXMubW9kYWxCZygpO1xuICAgIHRoaXMuc2V0VXBFdmVudHMoKTtcbiAgfSxcbiAgbW9kYWxCZzogZnVuY3Rpb24gKCkge1xuICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICB2YXIgYmcgPSAkKCc8ZGl2PicpLmFkZENsYXNzKCdtb2RhbC1iZycpLmhpZGUoKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7IHRoYXQuaGlkZU1vZGFscygpOyB9KTtcbiAgICAkKCdib2R5JykuYXBwZW5kKGJnKTtcbiAgfSxcbiAgc2V0VXBFdmVudHM6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgdGhpcy5lbGVtcy5saW5rcy5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIHRhcmdldCA9ICQodGhpcykuYXR0cignaHJlZicpO1xuICAgICAgdGhhdC5zaG93TW9kYWwoJCh0YXJnZXQpKTtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcblxuICAgIHRoYXQuZWxlbXMubW9kYWxzLmZpbmQoJy5jbG9zZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICB0aGF0LmhpZGVNb2RhbHMoKTtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcblxuICAgICQoJ2JvZHknKS5vbigna2V5ZG93bicsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBpZiAoKGUua2V5Q29kZSB8fCBlLndoaWNoKSA9PT0gMjcpXG4gICAgICAgIHRoYXQuaGlkZU1vZGFscygpO1xuICAgIH0pO1xuICB9LFxuICBzaG93TW9kYWw6IGZ1bmN0aW9uIChtb2RhbCkge1xuICAgICQoJ2h0bWwnKS5hZGRDbGFzcygnbW9kYWwtb3BlbicpO1xuICAgICQoJy5tb2RhbC1iZycpLnNob3coKTtcbiAgICBtb2RhbC5zaG93KCk7XG4gIH0sXG4gIGhpZGVNb2RhbHM6IGZ1bmN0aW9uICgpIHtcbiAgICAkKCdodG1sJykucmVtb3ZlQ2xhc3MoJ21vZGFsLW9wZW4nKTtcbiAgICAkKCcubW9kYWwtYmcnKS5oaWRlKCk7XG4gICAgdGhpcy5lbGVtcy5tb2RhbHMuaGlkZSgpO1xuICB9XG59XG5cbk5TQS5tb2RhbC5pbml0KCk7XG4iLCI7KGZ1bmN0aW9uIChnbG9iYWwpIHtcbiAgJ3VzZSBzdHJpY3QnXG5cbiAgdmFyICQgPSBnbG9iYWwualF1ZXJ5XG4gIHZhciBHT1ZVSyA9IGdsb2JhbC5HT1ZVSyB8fCB7fVxuXG4gIGZ1bmN0aW9uIFNob3dIaWRlQ29udGVudCAoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzXG5cbiAgICAvLyBSYWRpbyBhbmQgQ2hlY2tib3ggc2VsZWN0b3JzXG4gICAgdmFyIHNlbGVjdG9ycyA9IHtcbiAgICAgIG5hbWVzcGFjZTogJ1Nob3dIaWRlQ29udGVudCcsXG4gICAgICByYWRpbzogJ1tkYXRhLXRhcmdldF0gPiBpbnB1dFt0eXBlPVwicmFkaW9cIl0nLFxuICAgICAgY2hlY2tib3g6ICdbZGF0YS10YXJnZXRdID4gaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJyxcbiAgICAgIGxpbms6ICdhLmpzLXRvZ2dsZS1jb250ZW50J1xuICAgIH1cblxuICAgIC8vIEVzY2FwZSBuYW1lIGF0dHJpYnV0ZSBmb3IgdXNlIGluIERPTSBzZWxlY3RvclxuICAgIGZ1bmN0aW9uIGVzY2FwZUVsZW1lbnROYW1lIChzdHIpIHtcbiAgICAgIHZhciByZXN1bHQgPSBzdHIucmVwbGFjZSgnWycsICdcXFxcWycpLnJlcGxhY2UoJ10nLCAnXFxcXF0nKVxuICAgICAgcmV0dXJuIHJlc3VsdFxuICAgIH1cblxuICAgIC8vIEFkZHMgQVJJQSBhdHRyaWJ1dGVzIHRvIGNvbnRyb2wgKyBhc3NvY2lhdGVkIGNvbnRlbnRcbiAgICBmdW5jdGlvbiBpbml0VG9nZ2xlZENvbnRlbnQgKCkge1xuICAgICAgdmFyICRjb250cm9sID0gJCh0aGlzKVxuICAgICAgdmFyICRjb250ZW50ID0gZ2V0VG9nZ2xlZENvbnRlbnQoJGNvbnRyb2wpXG5cbiAgICAgIC8vIFNldCBhcmlhLWNvbnRyb2xzIGFuZCBkZWZhdWx0c1xuICAgICAgaWYgKCRjb250ZW50Lmxlbmd0aCkge1xuICAgICAgICAkY29udHJvbC5hdHRyKCdhcmlhLWNvbnRyb2xzJywgJGNvbnRlbnQuYXR0cignaWQnKSlcbiAgICAgICAgJGNvbnRyb2wuYXR0cignYXJpYS1leHBhbmRlZCcsICdmYWxzZScpXG4gICAgICAgICRjb250ZW50LmF0dHIoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJldHVybiB0b2dnbGVkIGNvbnRlbnQgZm9yIGNvbnRyb2xcbiAgICBmdW5jdGlvbiBnZXRUb2dnbGVkQ29udGVudCAoJGNvbnRyb2wpIHtcbiAgICAgIHZhciBpZCA9ICRjb250cm9sLmF0dHIoJ2FyaWEtY29udHJvbHMnKVxuXG4gICAgICAvLyBBUklBIGF0dHJpYnV0ZXMgYXJlbid0IHNldCBiZWZvcmUgaW5pdFxuICAgICAgaWYgKCFpZCkge1xuICAgICAgICBpZCA9ICRjb250cm9sLmNsb3Nlc3QoJ1tkYXRhLXRhcmdldF0nKS5kYXRhKCd0YXJnZXQnKVxuICAgICAgfVxuXG4gICAgICAvLyBGaW5kIHNob3cvaGlkZSBjb250ZW50IGJ5IGlkXG4gICAgICByZXR1cm4gJCgnIycgKyBpZClcbiAgICB9XG5cbiAgICAvLyBTaG93IHRvZ2dsZWQgY29udGVudCBmb3IgY29udHJvbFxuICAgIGZ1bmN0aW9uIHNob3dUb2dnbGVkQ29udGVudCAoJGNvbnRyb2wsICRjb250ZW50KSB7XG4gICAgICAvLyBTaG93IGNvbnRlbnRcbiAgICAgIGlmICgkY29udGVudC5oYXNDbGFzcygnanMtaGlkZGVuJykpIHtcbiAgICAgICAgJGNvbnRlbnQucmVtb3ZlQ2xhc3MoJ2pzLWhpZGRlbicpXG4gICAgICAgICRjb250ZW50LmF0dHIoJ2FyaWEtaGlkZGVuJywgJ2ZhbHNlJylcblxuICAgICAgICAvLyBJZiB0aGUgY29udHJvbGxpbmcgaW5wdXQsIHVwZGF0ZSBhcmlhLWV4cGFuZGVkXG4gICAgICAgIGlmICgkY29udHJvbC5hdHRyKCdhcmlhLWNvbnRyb2xzJykpIHtcbiAgICAgICAgICAkY29udHJvbC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgJ3RydWUnKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSGlkZSB0b2dnbGVkIGNvbnRlbnQgZm9yIGNvbnRyb2xcbiAgICBmdW5jdGlvbiBoaWRlVG9nZ2xlZENvbnRlbnQgKCRjb250cm9sLCAkY29udGVudCkge1xuICAgICAgJGNvbnRlbnQgPSAkY29udGVudCB8fCBnZXRUb2dnbGVkQ29udGVudCgkY29udHJvbClcblxuICAgICAgLy8gSGlkZSBjb250ZW50XG4gICAgICBpZiAoISRjb250ZW50Lmhhc0NsYXNzKCdqcy1oaWRkZW4nKSkge1xuICAgICAgICAkY29udGVudC5hZGRDbGFzcygnanMtaGlkZGVuJylcbiAgICAgICAgJGNvbnRlbnQuYXR0cignYXJpYS1oaWRkZW4nLCAndHJ1ZScpXG5cbiAgICAgICAgLy8gSWYgdGhlIGNvbnRyb2xsaW5nIGlucHV0LCB1cGRhdGUgYXJpYS1leHBhbmRlZFxuICAgICAgICBpZiAoJGNvbnRyb2wuYXR0cignYXJpYS1jb250cm9scycpKSB7XG4gICAgICAgICAgJGNvbnRyb2wuYXR0cignYXJpYS1leHBhbmRlZCcsICdmYWxzZScpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgcmFkaW8gc2hvdy9oaWRlXG4gICAgZnVuY3Rpb24gaGFuZGxlUmFkaW9Db250ZW50ICgkY29udHJvbCwgJGNvbnRlbnQpIHtcbiAgICAgIC8vIEFsbCByYWRpb3MgaW4gdGhpcyBncm91cCB3aGljaCBjb250cm9sIGNvbnRlbnRcbiAgICAgIHZhciBzZWxlY3RvciA9IHNlbGVjdG9ycy5yYWRpbyArICdbbmFtZT0nICsgZXNjYXBlRWxlbWVudE5hbWUoJGNvbnRyb2wuYXR0cignbmFtZScpKSArICddW2FyaWEtY29udHJvbHNdJ1xuICAgICAgdmFyICRmb3JtID0gJGNvbnRyb2wuY2xvc2VzdCgnZm9ybScpXG4gICAgICB2YXIgJHJhZGlvcyA9ICRmb3JtLmxlbmd0aCA/ICRmb3JtLmZpbmQoc2VsZWN0b3IpIDogJChzZWxlY3RvcilcblxuICAgICAgLy8gSGlkZSBjb250ZW50IGZvciByYWRpb3MgaW4gZ3JvdXBcbiAgICAgICRyYWRpb3MuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGhpZGVUb2dnbGVkQ29udGVudCgkKHRoaXMpKVxuICAgICAgfSlcblxuICAgICAgLy8gU2VsZWN0IGNvbnRlbnQgZm9yIHRoaXMgY29udHJvbFxuICAgICAgaWYgKCRjb250cm9sLmlzKCdbYXJpYS1jb250cm9sc10nKSkge1xuICAgICAgICBzaG93VG9nZ2xlZENvbnRlbnQoJGNvbnRyb2wsICRjb250ZW50KVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEhhbmRsZSBjaGVja2JveCBzaG93L2hpZGVcbiAgICBmdW5jdGlvbiBoYW5kbGVDaGVja2JveENvbnRlbnQgKCRjb250cm9sLCAkY29udGVudCkge1xuICAgICAgLy8gU2hvdyBjaGVja2JveCBjb250ZW50XG4gICAgICBpZiAoJGNvbnRyb2wuaXMoJzpjaGVja2VkJykpIHtcbiAgICAgICAgc2hvd1RvZ2dsZWRDb250ZW50KCRjb250cm9sLCAkY29udGVudClcbiAgICAgIH0gZWxzZSB7IC8vIEhpZGUgY2hlY2tib3ggY29udGVudFxuICAgICAgICBoaWRlVG9nZ2xlZENvbnRlbnQoJGNvbnRyb2wsICRjb250ZW50KVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEhhbmRsZSBjaGVja2JveCBzaG93L2hpZGVcbiAgICBmdW5jdGlvbiBoYW5kbGVMaW5rQ29udGVudCAoJGNvbnRyb2wsICRjb250ZW50LCAkZXZlbnQpIHtcbiAgICAgIGlmICgkY29udGVudC5oYXNDbGFzcygnanMtaGlkZGVuJykpIHtcbiAgICAgICAgc2hvd1RvZ2dsZWRDb250ZW50KCRjb250cm9sLCAkY29udGVudClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGhpZGVUb2dnbGVkQ29udGVudCgkY29udHJvbCwgJGNvbnRlbnQpXG4gICAgICB9XG4gICAgICAkZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIH1cblxuICAgIC8vIFNldCB1cCBldmVudCBoYW5kbGVycyBldGNcbiAgICBmdW5jdGlvbiBpbml0ICgkY29udGFpbmVyLCBlbGVtZW50U2VsZWN0b3IsIGV2ZW50U2VsZWN0b3JzLCBoYW5kbGVyKSB7XG4gICAgICAkY29udGFpbmVyID0gJGNvbnRhaW5lciB8fCAkKGRvY3VtZW50LmJvZHkpXG5cbiAgICAgIC8vIEhhbmRsZSBjb250cm9sIGNsaWNrc1xuICAgICAgZnVuY3Rpb24gZGVmZXJyZWQgKGV2ZW50KSB7XG4gICAgICAgIHZhciAkY29udHJvbCA9ICQodGhpcylcbiAgICAgICAgaGFuZGxlcigkY29udHJvbCwgZ2V0VG9nZ2xlZENvbnRlbnQoJGNvbnRyb2wpLCBldmVudClcbiAgICAgIH1cblxuICAgICAgLy8gUHJlcGFyZSBBUklBIGF0dHJpYnV0ZXNcbiAgICAgIHZhciAkY29udHJvbHMgPSAkKGVsZW1lbnRTZWxlY3RvcilcbiAgICAgICRjb250cm9scy5lYWNoKGluaXRUb2dnbGVkQ29udGVudClcblxuICAgICAgLy8gSGFuZGxlIGV2ZW50c1xuICAgICAgJC5lYWNoKGV2ZW50U2VsZWN0b3JzLCBmdW5jdGlvbiAoaWR4LCBldmVudFNlbGVjdG9yKSB7XG4gICAgICAgICRjb250YWluZXIub24oJ2NsaWNrLicgKyBzZWxlY3RvcnMubmFtZXNwYWNlLCBldmVudFNlbGVjdG9yLCBkZWZlcnJlZClcbiAgICAgIH0pXG5cbiAgICAgIC8vIEFueSBhbHJlYWR5IDpjaGVja2VkIG9uIGluaXQ/XG4gICAgICBpZiAoJGNvbnRyb2xzLmlzKCc6Y2hlY2tlZCcpKSB7XG4gICAgICAgICRjb250cm9scy5maWx0ZXIoJzpjaGVja2VkJykuZWFjaChkZWZlcnJlZClcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBHZXQgZXZlbnQgc2VsZWN0b3JzIGZvciBhbGwgcmFkaW8gZ3JvdXBzXG4gICAgZnVuY3Rpb24gZ2V0RXZlbnRTZWxlY3RvcnNGb3JSYWRpb0dyb3VwcyAoKSB7XG4gICAgICB2YXIgcmFkaW9Hcm91cHMgPSBbXVxuXG4gICAgICAvLyBCdWlsZCBhbiBhcnJheSBvZiByYWRpbyBncm91cCBzZWxlY3RvcnNcbiAgICAgIHJldHVybiAkKHNlbGVjdG9ycy5yYWRpbykubWFwKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGdyb3VwTmFtZSA9ICQodGhpcykuYXR0cignbmFtZScpXG5cbiAgICAgICAgaWYgKCQuaW5BcnJheShncm91cE5hbWUsIHJhZGlvR3JvdXBzKSA9PT0gLTEpIHtcbiAgICAgICAgICByYWRpb0dyb3Vwcy5wdXNoKGdyb3VwTmFtZSlcbiAgICAgICAgICByZXR1cm4gJ2lucHV0W3R5cGU9XCJyYWRpb1wiXVtuYW1lPVwiJyArICQodGhpcykuYXR0cignbmFtZScpICsgJ1wiXSdcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgfSlcbiAgICB9XG5cbiAgICAvLyBTZXQgdXAgcmFkaW8gc2hvdy9oaWRlIGNvbnRlbnQgZm9yIGNvbnRhaW5lclxuICAgIHNlbGYuc2hvd0hpZGVSYWRpb1RvZ2dsZWRDb250ZW50ID0gZnVuY3Rpb24gKCRjb250YWluZXIpIHtcbiAgICAgIGluaXQoJGNvbnRhaW5lciwgc2VsZWN0b3JzLnJhZGlvLCBnZXRFdmVudFNlbGVjdG9yc0ZvclJhZGlvR3JvdXBzKCksIGhhbmRsZVJhZGlvQ29udGVudClcbiAgICB9XG5cbiAgICAvLyBTZXQgdXAgY2hlY2tib3ggc2hvdy9oaWRlIGNvbnRlbnQgZm9yIGNvbnRhaW5lclxuICAgIHNlbGYuc2hvd0hpZGVDaGVja2JveFRvZ2dsZWRDb250ZW50ID0gZnVuY3Rpb24gKCRjb250YWluZXIpIHtcbiAgICAgIGluaXQoJGNvbnRhaW5lciwgc2VsZWN0b3JzLmNoZWNrYm94LCBbc2VsZWN0b3JzLmNoZWNrYm94XSwgaGFuZGxlQ2hlY2tib3hDb250ZW50KVxuICAgIH1cblxuICAgIC8vIFNldCB1cCBsaW5rcyBzaG93L2hpZGUgY29udGVudCBmb3IgY29udGFpbmVyXG4gICAgc2VsZi5zaG93SGlkZUxpbmtUb2dnbGVkQ29udGVudCA9IGZ1bmN0aW9uICgkY29udGFpbmVyKSB7XG4gICAgICBpbml0KCRjb250YWluZXIsIHNlbGVjdG9ycy5saW5rLCBbc2VsZWN0b3JzLmxpbmtdLCBoYW5kbGVMaW5rQ29udGVudClcbiAgICB9XG5cbiAgICAvLyBSZW1vdmUgZXZlbnQgaGFuZGxlcnNcbiAgICBzZWxmLmRlc3Ryb3kgPSBmdW5jdGlvbiAoJGNvbnRhaW5lcikge1xuICAgICAgJGNvbnRhaW5lciA9ICRjb250YWluZXIgfHwgJChkb2N1bWVudC5ib2R5KVxuICAgICAgJGNvbnRhaW5lci5vZmYoJy4nICsgc2VsZWN0b3JzLm5hbWVzcGFjZSlcbiAgICB9XG4gIH1cblxuICBTaG93SGlkZUNvbnRlbnQucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAoJGNvbnRhaW5lcikge1xuICAgIHRoaXMuc2hvd0hpZGVSYWRpb1RvZ2dsZWRDb250ZW50KCRjb250YWluZXIpXG4gICAgdGhpcy5zaG93SGlkZUNoZWNrYm94VG9nZ2xlZENvbnRlbnQoJGNvbnRhaW5lcilcbiAgICB0aGlzLnNob3dIaWRlTGlua1RvZ2dsZWRDb250ZW50KCRjb250YWluZXIpXG4gIH1cblxuICBHT1ZVSy5TaG93SGlkZUNvbnRlbnQgPSBTaG93SGlkZUNvbnRlbnRcbiAgZ2xvYmFsLkdPVlVLID0gR09WVUtcbn0pKHdpbmRvdylcbiIsInZhciB0b2dnbGVUaXBzID0gJCgnLnRvZ2dsZS1oZWxwJyk7XG5cbnRvZ2dsZVRpcHMuZWFjaChmdW5jdGlvbiAoKSB7XG5cbiAgdmFyICR0aGF0LFxuICAgIGxpdmVSZWdpb24sXG4gICAgY29udGFpbmVyLFxuICAgIHRvZ2dsZVRpcDtcblxuICAkdGhhdCA9ICQodGhpcyk7XG5cbiAgY29udGFpbmVyID0gJCgnPHNwYW4gLz4nKS5hdHRyKCdjbGFzcycsICd0b2dnbGV0aXAnKTtcblxuICB0b2dnbGVUaXAgPSAkKCc8YnV0dG9uIC8+JylcbiAgICAuYXR0cigndHlwZScsICdidXR0b24nKVxuICAgIC5hdHRyKCdhcmlhLWxhYmVsJywgJ0hlbHAnKVxuICAgIC5hdHRyKCdkYXRhLXRvZ2dsZXRpcC1jb250ZW50JywgJHRoYXQuaHRtbCgpKVxuICAgIC50ZXh0KCc/JylcbiAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIG1lc3NhZ2UgPSAkKHRoaXMpLmRhdGEoJ3RvZ2dsZXRpcC1jb250ZW50Jyk7XG4gICAgICB2YXIgbGl2ZVJlZ2lvbiA9ICQodGhpcykubmV4dCgpO1xuICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBsaXZlUmVnaW9uLmh0bWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiAkKCc8c3BhbiAvPicpXG4gICAgICAgICAgICAuYXR0cignY2xhc3MnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHJldHVybiAkdGhhdC5odG1sKCkubGVuZ3RoID4gNTAgPyAnYnViYmxlIGxvbmcnIDogJ2J1YmJsZSdcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGV4dChtZXNzYWdlKVxuICAgICAgICB9KVxuICAgICAgfSwgMTAwKTtcbiAgICB9KVxuICAgIC5vbigna2V5ZG93bicsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBpZiAoKGUua2V5Q29kZSB8fCBlLndoaWNoKSA9PT0gMjcpXG4gICAgICAgIGxpdmVSZWdpb24uaHRtbCgnJyk7XG4gICAgfSk7XG5cbiAgbGl2ZVJlZ2lvbiA9ICQoJzxzcGFuIC8+JylcbiAgICAuYXR0cigncm9sZScsICdzdGF0dXMnKTtcblxuICBjb250YWluZXIuYXBwZW5kKHRvZ2dsZVRpcCwgbGl2ZVJlZ2lvbik7XG5cbiAgJHRoYXQuYmVmb3JlKGNvbnRhaW5lcikucmVtb3ZlKCk7XG5cbiAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICBpZiAoJHRoYXRbMF0gIT09ICQoZS50YXJnZXQpKSB7XG4gICAgICBsaXZlUmVnaW9uLmh0bWwoJycpO1xuICAgIH1cbiAgfSk7XG5cbn0pO1xuIiwidmFyIGZvcm1zID0gJCgnI2NvbnRlbnQgZm9ybScpO1xuLy92YXIgaW5wdXRzID0gZm9ybXMuZmluZCgnLmZvcm0tZ3JvdXAgaW5wdXQnKTtcblxuZm9ybXMuYXR0cignbm92YWxpZGF0ZScsICdub3ZhbGlkYXRlJyk7XG5cbi8qXG5mb3Jtcy5vbignc3VibWl0JywgZnVuY3Rpb24gKCkge1xuICBpbnB1dHMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHJlc3VsdCA9IHRoaXMuY2hlY2tWYWxpZGl0eSgpO1xuICAgIGlmICghcmVzdWx0KSB7XG4gICAgICBzaG93VmFsaWRhdGlvbk1lc3NhZ2UodGhpcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhpZGVWYWxpZGF0aW9uTWVzc2FnZSh0aGlzKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gdGhpcy5jaGVja1ZhbGlkaXR5KCk7XG59KTtcblxuaW5wdXRzLm9uKCdibHVyJywgZnVuY3Rpb24gKCkge1xuICB2YXIgcmVzdWx0ID0gdGhpcy5jaGVja1ZhbGlkaXR5KCk7XG4gIGlmICghcmVzdWx0KSB7XG4gICAgc2hvd1ZhbGlkYXRpb25NZXNzYWdlKHRoaXMpO1xuICB9IGVsc2Uge1xuICAgIGhpZGVWYWxpZGF0aW9uTWVzc2FnZSh0aGlzKTtcbiAgfVxufSk7XG5cbnZhciBzaG93VmFsaWRhdGlvbk1lc3NhZ2UgPSBmdW5jdGlvbiAoZmllbGQpIHtcblxuICB2YXIgZmllbGQgPSBmaWVsZCxcbiAgICAkZmllbGQgPSAkKGZpZWxkKSxcbiAgICAkcGFyZW50ID0gJGZpZWxkLnBhcmVudCgpO1xuXG4gIGlmICgkcGFyZW50Lmhhc0NsYXNzKCdzaG93LXBhc3N3b3JkJykpIHtcbiAgICAkcGFyZW50ID0gJHBhcmVudC5wYXJlbnQoKTtcbiAgfVxuXG4gIGlmICghJHBhcmVudC5oYXNDbGFzcygnZm9ybS1ncm91cC1lcnJvcicpKSB7XG5cbiAgICB2YXIgbGFiZWxUZXh0ID0gJGZpZWxkLmRhdGEoJ2xhYmVsJykgfHwgJChcImxhYmVsW2Zvcj0nXCIgKyAkZmllbGQuYXR0cignaWQnKSArIFwiJ11cIikudGV4dCgpLFxuICAgICAgZXJyb3JNZXNzYWdlVGV4dCA9ICdFbnRlciBhIHZhbGlkICcgKyBsYWJlbFRleHQudG9Mb3dlckNhc2UoKSxcbiAgICAgIGVycm9yTWVzc2FnZSA9ICQoJzxwPicpXG4gICAgICAgIC5odG1sKGVycm9yTWVzc2FnZVRleHQpXG4gICAgICAgIC5wcm9wKCdjbGFzcycsICdlcnJvci1tZXNzYWdlJylcbiAgICAgICAgLnByb3AoJ2lkJywgJ3ZhbGlkYXRpb24tJyArIHNsdWdpZnkobGFiZWxUZXh0KSk7XG5cbiAgICAkZmllbGQuYmVmb3JlKGVycm9yTWVzc2FnZSk7XG4gICAgJHBhcmVudC5hZGRDbGFzcygnZm9ybS1ncm91cC1lcnJvcicpO1xuICAgICRmaWVsZC5hdHRyKHtcbiAgICAgICdhcmlhLWRlc2NyaWJlZGJ5JyA6ICd2YWxpZGF0aW9uLScgKyBzbHVnaWZ5KGxhYmVsVGV4dCksXG4gICAgICAnYXJpYS1pbnZhbGlkJzogJ3RydWUnXG4gICAgfSk7XG4gIH1cbn1cblxudmFyIGhpZGVWYWxpZGF0aW9uTWVzc2FnZSA9IGZ1bmN0aW9uIChmaWVsZCkge1xuICB2YXIgZmllbGQgPSBmaWVsZCxcbiAgICAkZmllbGQgPSAkKGZpZWxkKSxcbiAgICAkcGFyZW50ID0gJGZpZWxkLnBhcmVudCgpO1xuXG4gIGlmICgkcGFyZW50Lmhhc0NsYXNzKCdzaG93LXBhc3N3b3JkJykpIHtcbiAgICAkcGFyZW50ID0gJHBhcmVudC5wYXJlbnQoKTtcbiAgfVxuXG4gICRwYXJlbnQucmVtb3ZlQ2xhc3MoJ2Zvcm0tZ3JvdXAtZXJyb3InKTtcbiAgJHBhcmVudC5maW5kKCdwLmVycm9yLW1lc3NhZ2UnKS5yZW1vdmUoKTtcbiAgJGZpZWxkLnJlbW92ZUF0dHIoJ2FyaWEtZGVzY3JpYmVkYnknKTtcbiAgJGZpZWxkLnJlbW92ZUF0dHIoJ2FyaWEtaW52YWxpZCcpO1xufVxuXG52YXIgc2x1Z2lmeSA9IGZ1bmN0aW9uICh0ZXh0KSB7XG4gIHJldHVybiB0ZXh0LnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKVxuICAgIC5yZXBsYWNlKC9cXHMrL2csICctJylcbiAgICAucmVwbGFjZSgvW15cXHdcXC1dKy9nLCAnJylcbiAgICAucmVwbGFjZSgvXFwtXFwtKy9nLCAnLScpXG4gICAgLnJlcGxhY2UoL14tKy8sICcnKVxuICAgIC5yZXBsYWNlKC8tKyQvLCAnJyk7XG59XG5cbiovXG4iLCJ2YXIgTlNBID0gTlNBIHx8IHt9O1xuXG5OU0EgPSB7XG4gIHNob3dQYXNzd29yZCA6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgJHNob3dQYXNzd29yZCA9ICQoJy5zaG93LXBhc3N3b3JkJyk7XG4gICAgJHNob3dQYXNzd29yZC5lYWNoKGZ1bmN0aW9uIChpKSB7XG4gICAgICB2YXIgJHRoYXQgPSAkKHRoaXMpO1xuICAgICAgdmFyICRwd2RGbGQgPSAkdGhhdC5maW5kKCdpbnB1dDpwYXNzd29yZCcpO1xuICAgICAgdmFyICRjaGVja0xibCA9ICQoJzxsYWJlbCAvPicpLnByb3AoeyBmb3I6ICdzaG93LXBhc3N3b3JkLScgKyBpIH0pLmh0bWwoJ1Nob3cnKTtcbiAgICAgIHZhciAkY2hlY2tCb3ggPSAkKCc8aW5wdXQgLz4nKS5wcm9wKHsgdHlwZTogJ2NoZWNrYm94JywgaWQ6ICdzaG93LXBhc3N3b3JkLScgKyBpIH0pLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciAkdGhhdCA9ICQodGhpcyk7XG4gICAgICAgICRwd2RGbGQucHJvcCgndHlwZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gJHRoYXQucHJvcCgnY2hlY2tlZCcpID8gJ3RleHQnIDogJ3Bhc3N3b3JkJztcbiAgICAgICAgfSk7XG4gICAgICAgICRjaGVja0xibC5odG1sKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gJHRoYXQucHJvcCgnY2hlY2tlZCcpID8gJ0hpZGUnIDogJ1Nob3cnO1xuICAgICAgICB9KTtcbiAgICAgICAgJHRoYXQucGFyZW50KCkucmVtb3ZlQ2xhc3MoJ3R5cGUtcGFzc3dvcmQnKTtcbiAgICAgICAgaWYgKCR0aGF0LnByb3AoJ2NoZWNrZWQnKSkge1xuICAgICAgICAgICR0aGF0LnBhcmVudCgpLmFkZENsYXNzKCd0eXBlLXBhc3N3b3JkJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdmFyICRjYldyYXAgPSAkKCc8ZGl2IC8+JykucHJvcCgnY2xhc3MnLCAnc2hvdy1wYXNzd29yZC1jb250cm9sJykuYXBwZW5kKCRjaGVja0JveCwgJGNoZWNrTGJsKTtcbiAgICAgICRwd2RGbGQuYWZ0ZXIoJGNiV3JhcCk7XG4gICAgfSk7XG4gIH0sXG4gIGJhY2tMaW5rOiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGJhY2tMaW5rID0gJCgnPGE+JylcbiAgICAgIC5hdHRyKHsgJ2hyZWYnOiAnIycsICdjbGFzcyc6ICdsaW5rLWJhY2snIH0pXG4gICAgICAudGV4dCgnQmFjaycpXG4gICAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHsgd2luZG93Lmhpc3RvcnkuYmFjaygpOyBlLnByZXZlbnREZWZhdWx0KCk7IH0pO1xuICAgICQoJy5qcy1iYWNrLWxpbmsnKS5odG1sKGJhY2tMaW5rKTtcbiAgfSxcbn07XG5cblxuaWYgKCQoJ3NlbGVjdC5zZWxlY3QyJykubGVuZ3RoID4gMCkge1xuICAkKCdzZWxlY3Quc2VsZWN0MicpLnNlbGVjdDIoe21hdGNoZXI6IHNlbGVjdDJNb2RlbE1hdGNoZXJ9KTtcbn1cblxuZnVuY3Rpb24gc2VsZWN0Mk1vZGVsTWF0Y2hlciAocGFyYW1zLCBkYXRhKSB7XG4gIGRhdGEucGFyZW50VGV4dCA9IGRhdGEucGFyZW50VGV4dCB8fCBcIlwiO1xuICBpZiAodHlwZW9mKHBhcmFtcy50ZXJtKSA9PT0gJ3VuZGVmaW5lZCcgfHwgIXBhcmFtcy50ZXJtIHx8IHBhcmFtcy50ZXJtLnRyaW0oKSA9PT0gJycpIHtcbiAgICByZXR1cm4gZGF0YTtcbiAgfVxuICBpZiAoZGF0YS5jaGlsZHJlbiAmJiBkYXRhLmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICB2YXIgbWF0Y2ggPSAkLmV4dGVuZCh0cnVlLCB7fSwgZGF0YSk7XG4gICAgZm9yICh2YXIgYyA9IGRhdGEuY2hpbGRyZW4ubGVuZ3RoIC0gMTsgYyA+PSAwOyBjLS0pIHtcbiAgICAgIHZhciBjaGlsZCA9IGRhdGEuY2hpbGRyZW5bY107XG4gICAgICBjaGlsZC5wYXJlbnRUZXh0ICs9IGRhdGEucGFyZW50VGV4dCArIFwiIFwiICsgZGF0YS50ZXh0O1xuICAgICAgdmFyIG1hdGNoZXMgPSBzZWxlY3QyTW9kZWxNYXRjaGVyKHBhcmFtcywgY2hpbGQpO1xuICAgICAgaWYgKG1hdGNoZXMgPT0gbnVsbCkge1xuICAgICAgICBtYXRjaC5jaGlsZHJlbi5zcGxpY2UoYywgMSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChtYXRjaC5jaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm4gbWF0Y2g7XG4gICAgfVxuICAgIHJldHVybiBzZWxlY3QyTW9kZWxNYXRjaGVyKHBhcmFtcywgbWF0Y2gpO1xuICB9XG4gIHZhciBvcmlnaW5hbCA9IChkYXRhLnBhcmVudFRleHQgKyAnICcgKyBkYXRhLnRleHQpLnRvVXBwZXJDYXNlKCk7XG4gIHZhciB0ZXJtID0gcGFyYW1zLnRlcm0udG9VcHBlckNhc2UoKTtcbiAgaWYgKG9yaWdpbmFsLmluZGV4T2YodGVybSkgPiAtMSkge1xuICAgIHJldHVybiBkYXRhO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5pZiAoJCgnLnNob3ctcGFzc3dvcmQnKS5sZW5ndGggPiAwKSB7XG4gIE5TQS5zaG93UGFzc3dvcmQoKTtcbn1cblxuaWYgKCQoJy5qcy1iYWNrLWxpbmsnKSkge1xuICBOU0EuYmFja0xpbmsoKTtcbn1cblxuJCgnLnVuZGVyLWNvbnN0cnVjdGlvbicpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gIGFsZXJ0KCdUaGlzIGZ1bmN0aW9uYWxpdHkgaXMgbm90IGF2YWlsYWJsZSB5ZXQnKTtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xufSk7XG5cbmlmICgkKCcubm90aWZpY2F0aW9uIHNwYW4uaWNvbicpLmxlbmd0aCA+IDApIHtcbiAgJCgnLm5vdGlmaWNhdGlvbiBzcGFuLmljb24nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgJCh0aGlzKS5wYXJlbnQoKS5oaWRlKCk7XG4gIH0pO1xufVxuXG5pZiAoJCgnYXJ0aWNsZS5vcmdhbmlzYXRpb24tc2VydmljZXMnKS5sZW5ndGggPiAwKSB7XG5cbiAgJCgnLmluZm9ybWF0aW9uJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgaW5mbyA9ICQodGhpcykucGFyZW50KCkucGFyZW50KCkuZmluZCgnLnNlcnZpY2UtZGVzY3JpcHRpb24nKTtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgaW5mby50b2dnbGUoKTtcbiAgfSk7XG5cbiAgJCgnLmluZm8tbGluaycpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIG1ldGEgPSAkKHRoaXMpLnBhcmVudCgpLm5leHQoKTtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgbWV0YS50b2dnbGUoKTtcbiAgfSk7XG59XG5cbnZhciBzZWFyY2hGaWVsZHMgPSAkKCdmb3JtIC5zZWFyY2gtZmllbGQnKTtcblxuaWYgKHNlYXJjaEZpZWxkcy5sZW5ndGggPiAwKSB7XG5cbiAgdmFyIGxvYWRlciA9ICQoJzxzcGFuIC8+JykuYWRkQ2xhc3MoJ2xvYWRlciBzcGlubmVyLWlubGluZScpO1xuICB2YXIgYjEgPSAkKCc8c3BhbiAvPicpLmFkZENsYXNzKCdiYWxsIGItMScpO1xuICB2YXIgYjIgPSAkKCc8c3BhbiAvPicpLmFkZENsYXNzKCdiYWxsIGItMicpO1xuICBsb2FkZXIuYXBwZW5kKGIxKS5hcHBlbmQoYjIpO1xuXG4gIHNlYXJjaEZpZWxkcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZm9ybSA9ICQodGhpcykucGFyZW50KCk7XG4gICAgdmFyIGJ1dHRvbiA9IGZvcm0uZmluZCgnYnV0dG9uJyk7XG4gICAgZm9ybS5vbignc3VibWl0JywgZnVuY3Rpb24gKCkge1xuICAgICAgYnV0dG9uLmFmdGVyKGxvYWRlcikuaGlkZSgpO1xuICAgIH0pO1xuICB9KTtcbn1cblxudmFyIHJlZGlyZWN0ID0gJCgnI3JlZGlyZWN0LXVybCcpO1xuXG4kKCcjYWRkLXJlZGlyZWN0Jykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICQoJzxwPjxsYWJlbCBmb3I9XCJyZWRpcmVjdC11cmxcIj48aW5wdXQgY2xhc3M9XCJmb3JtLWNvbnRyb2wgaW5wdXRDb25maWdcIiBuYW1lPVwicmVkaXJlY3RfdXJpc1wiPjwvbGFiZWw+PC9wPicpLmFwcGVuZFRvKHJlZGlyZWN0KTtcbiAgcmV0dXJuIGZhbHNlO1xufSk7XG5cbnZhciBsb2dvdXQgPSAkKCcjbG9nb3V0LXVybCcpO1xuXG4kKCcjYWRkLWxvZ291dCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAkKCc8cD48bGFiZWwgZm9yPVwibG9nb3V0LXVybFwiPjxpbnB1dCBjbGFzcz1cImZvcm0tY29udHJvbCBpbnB1dENvbmZpZ1wiIG5hbWU9XCJwb3N0X2xvZ291dF9yZWRpcmVjdF91cmlzXCI+PC9sYWJlbD48L3A+JykuYXBwZW5kVG8obG9nb3V0KTtcbiAgcmV0dXJuIGZhbHNlO1xufSk7XG5cblxuJCgnI2dlbmVyYXRlLWNsaWVudC1zZWNyZXQnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgdmFyIHNlY3JldEFycmF5ID0gd2luZG93Lm5pY2V3YXJlLmdlbmVyYXRlUGFzc3BocmFzZSg4KTtcbiAgdmFyIHNlY3JldCA9IHNlY3JldEFycmF5LmpvaW4oJy0nKTtcbiAgdmFyIGlzQ29uZmlybSA9IGNvbmZpcm0oJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byByZWdlbmVyYXRlIHRoZSBjbGllbnQgc2VjcmV0PycpO1xuICBpZiAoaXNDb25maXJtKSB7XG4gICAgJCgnaW5wdXQjY2xpZW50U2VjcmV0JykuYXR0cigndmFsdWUnLCBzZWNyZXQpO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn0pO1xuXG4kKCcjZ2VuZXJhdGUtYXBpLXNlY3JldCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICB2YXIgc2VjcmV0QXJyYXkgPSB3aW5kb3cubmljZXdhcmUuZ2VuZXJhdGVQYXNzcGhyYXNlKDgpO1xuICB2YXIgc2VjcmV0ID0gc2VjcmV0QXJyYXkuam9pbignLScpO1xuICB2YXIgaXNDb25maXJtID0gY29uZmlybSgnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIHJlZ2VuZXJhdGUgdGhlIGFwaSBzZWNyZXQ/Jyk7XG4gIGlmIChpc0NvbmZpcm0pIHtcbiAgICAkKCdpbnB1dCNhcGlTZWNyZXQnKS5hdHRyKCd2YWx1ZScsIHNlY3JldCk7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufSk7XG5cbnZhciBmb3JtUmVnaXN0ZXIgPSAkKCcucHJldmVudC1mb3JtLWRvdWJsZS1zdWJtaXNzaW9uJyk7XG5cbmlmIChmb3JtUmVnaXN0ZXIubGVuZ3RoID4gMCkge1xuICBmb3JtUmVnaXN0ZXIuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgdmFyICRzdWJtaXRCdXR0b25zID0gJChmb3JtUmVnaXN0ZXIpLmZpbmQoJ2J1dHRvbjpzdWJtaXQnKSwgJHN1Ym1pdEJ1dHRvbiA9ICRzdWJtaXRCdXR0b25zLmVxKDApO1xuICAgIGZvcm1SZWdpc3Rlci5vbignc3VibWl0JywgZnVuY3Rpb24gKCkge1xuICAgICAgJHN1Ym1pdEJ1dHRvbnMuYXR0cignZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcblxuICAgICAgJHN1Ym1pdEJ1dHRvbi5jc3MoJ21pbi13aWR0aCcsICRzdWJtaXRCdXR0b24ub3V0ZXJXaWR0aCgpICsgJ3B4Jyk7XG5cbiAgICAgICRzdWJtaXRCdXR0b24uYXBwZW5kKFwiPHNwYW4gY2xhc3M9J2xvYWRlciBzcGlubmVyLWlubGluZSc+IDxzcGFuIGNsYXNzPSdiYWxsIGItMSc+PC9zcGFuPiA8c3BhbiBjbGFzcz0nYmFsbCBiLTInPjwvc3Bhbj4gPHNwYW4gY2xhc3M9J2JhbGwgYi0zJz48L3NwYW4+IDwvc3Bhbj5cIik7XG5cbiAgICB9KTtcbiAgfSk7XG59XG5cbnZhciBzaG93SGlkZUNvbnRlbnQgPSBuZXcgR09WVUsuU2hvd0hpZGVDb250ZW50KClcbnNob3dIaWRlQ29udGVudC5pbml0KClcblxuR09WVUsuZGV0YWlscy5pbml0KClcblxuIl19
