"use strict";(NSA=NSA||{}).modal={elems:{links:$(".modal-link"),modals:$(".modal")},init:function(){this.modalBg(),this.setUpEvents()},modalBg:function(){var t=this,e=$("<div>").addClass("modal-bg").hide().on("click",function(){t.hideModals()});$("body").append(e)},setUpEvents:function(){var t=this;this.elems.links.on("click",function(e){var a=$(this).attr("href");t.showModal($(a)),e.preventDefault()}),t.elems.modals.find(".close").on("click",function(e){t.hideModals(),e.preventDefault()}),$("body").on("keydown",function(e){27===(e.keyCode||e.which)&&t.hideModals()})},showModal:function(t){$("html").addClass("modal-open"),$(".modal-bg").show(),t.show()},hideModals:function(){$("html").removeClass("modal-open"),$(".modal-bg").hide(),this.elems.modals.hide()}},NSA.modal.init(),function(t){function e(){function t(){var t=a(this),o=e(t);o.length&&(t.attr("aria-controls",o.attr("id")),t.attr("aria-expanded","false"),o.attr("aria-hidden","true"))}function e(t){var e=t.attr("aria-controls");return e||(e=t.closest("[data-target]").data("target")),a("#"+e)}function o(t,e){e.hasClass("js-hidden")&&(e.removeClass("js-hidden"),e.attr("aria-hidden","false"),t.attr("aria-controls")&&t.attr("aria-expanded","true"))}function n(t,a){(a=a||e(t)).hasClass("js-hidden")||(a.addClass("js-hidden"),a.attr("aria-hidden","true"),t.attr("aria-controls")&&t.attr("aria-expanded","false"))}function i(t,e){var i=d.radio+"[name="+function(t){return t.replace("[","\\[").replace("]","\\]")}(t.attr("name"))+"][aria-controls]",r=t.closest("form");(r.length?r.find(i):a(i)).each(function(){n(a(this))}),t.is("[aria-controls]")&&o(t,e)}function r(t,e){t.is(":checked")?o(t,e):n(t,e)}function s(o,n,i,r){function s(){var t=a(this);r(t,e(t))}o=o||a(document.body);var c=a(n);c.each(t),a.each(i,function(t,e){o.on("click."+d.namespace,e,s)}),c.is(":checked")&&c.filter(":checked").each(s)}var d={namespace:"ShowHideContent",radio:'[data-target] > input[type="radio"]',checkbox:'[data-target] > input[type="checkbox"]'};this.showHideRadioToggledContent=function(t){s(t,d.radio,function(){var t=[];return a(d.radio).map(function(){var e=a(this).attr("name");return-1===a.inArray(e,t)?(t.push(e),'input[type="radio"][name="'+a(this).attr("name")+'"]'):null})}(),i)},this.showHideCheckboxToggledContent=function(t){s(t,d.checkbox,[d.checkbox],r)},this.destroy=function(t){(t=t||a(document.body)).off("."+d.namespace)}}var a=t.jQuery,o=t.GOVUK||{};e.prototype.init=function(t){this.showHideRadioToggledContent(t),this.showHideCheckboxToggledContent(t)},o.ShowHideContent=e,t.GOVUK=o}(window);var toggleTips=$(".toggle-help");toggleTips.each(function(){var t,e,a,o;t=$(this),a=$("<span />").attr("class","toggletip"),o=$("<button />").attr("type","button").attr("aria-label","Help").attr("data-toggletip-content",t.html()).text("?").on("click",function(){var t=$(this).data("toggletip-content"),e=$(this).next();window.setTimeout(function(){e.html(function(){return $("<span />").attr("class","bubble").text(t)})},100)}).on("keydown",function(t){27===(t.keyCode||t.which)&&e.html("")}),e=$("<span />").attr("role","status"),a.append(o,e),t.before(a).remove(),$(document).on("click",function(a){t[0]!==$(a.target)&&e.html("")})});var forms=$("#content form"),inputs=forms.find(".form-group input");forms.attr("novalidate","novalidate"),forms.on("submit",function(){return inputs.each(function(){this.checkValidity()?hideValidationMessage(this):showValidationMessage(this)}),this.checkValidity()}),inputs.on("blur",function(){this.checkValidity()?hideValidationMessage(this):showValidationMessage(this)});var showValidationMessage=function(t){var t=t,e=$(t);if(!e.parent().hasClass("form-group-error")){var a=$("label[for='"+e.attr("id")+"']").text(),o="Enter a valid "+a,n=$("<p>").html(o).prop("class","error-message").prop("id","validation-"+slugify(a));e.before(n),e.parent().addClass("form-group-error"),e.attr({"aria-describedby":"validation-"+slugify(a),"aria-invalid":"true"})}},hideValidationMessage=function(t){var t=t,e=$(t);e.parent().removeClass("form-group-error"),e.parent().find("p.error-message").remove(),e.removeAttr("aria-describedby"),e.removeAttr("aria-invalid")},slugify=function(t){return t.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},NSA=NSA||{};NSA={showPassword:function(){$(".show-password").each(function(t){var e=$(this).find("input:password"),a=$("<label />").prop({for:"show-password-"+t}).html("Show"),o=$("<input />").prop({type:"checkbox",id:"show-password-"+t}).on("change",function(){var t=$(this);e.prop("type",function(){return t.prop("checked")?"text":"password"}),a.html(function(){return t.prop("checked")?"Hide":"Show"})}),n=$("<div />").prop("class","show-password-control").append(o,a);e.after(n)})}},$(".show-password").length>0&&NSA.showPassword(),$(".under-construction").on("click",function(t){alert("This functionality is not available yet"),t.preventDefault()}),$(".notification span.icon").length>0&&$(".notification span.icon").on("click",function(){$(this).parent().hide()});var showHideContent=new GOVUK.ShowHideContent;showHideContent.init();