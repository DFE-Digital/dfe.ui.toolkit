!function(i){var r=i.$,n=i.Cookies;if(n&&r){var o="cookies_preferences_set",s="cookies_policy",l={essential:!0,settings:!1,usage:!1},e=function(e){var t=n.get(e);return t?JSON.parse(t):t},d=function(e,t){return n.set(e,t,{expires:365})};d(s,l);function a(e,t){var n,a=t||(n=r.extend(l,{}),void r.each(n,function(e){n[e]=!0}));d(s,a),d(o,!0),a.usage&&i.gtag&&i.gaTrackingId?(i.gtag("js",new Date),i.gtag("config",i.gaTrackingId,{cookie_flags:"secure"})):i["ga-disable-"+i.gaTrackingId]=!0,e.target===u[0]&&c.slideUp()}var c=r("#dsi-cookie-banner.global-cookie-message-dfe-sign-in"),u=c.find("button.cookie-accept");e(o)||c.slideDown(function(){u.click(a)});var h=r("#dsi-cookie-form.cookies-page-dfe-sign-in__preferences-form");h.on("submit",function(e){e.preventDefault();var t={settings:!!h.find("input[name='cookie.settings']:checked").val(),usage:!!h.find("input[name='cookie.usage']:checked").val()},n=r.extend(l,t);return a(e,n),i.history?i.history.back():i.location.pathname="/",!1})}}(window),function(e){"use strict";var s=e.GOVUK||{};s.details={NATIVE_DETAILS:"boolean"==typeof document.createElement("details").open,KEY_ENTER:13,KEY_SPACE:32,started:!1,addEvent:function(e,t,n){e.addEventListener?e.addEventListener(t,function(e){n(e,e.target)},!1):e.attachEvent&&e.attachEvent("on"+t,function(e){n(e,e.srcElement)})},removeEvent:function(e,t){e.removeEventListener?e.removeEventListener(t,function(e){},!1):e.detachEvent&&e.detachEvent("on"+t,function(e){})},charCode:function(e){return"number"==typeof e.which?e.which:e.keyCode},preventDefault:function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},addClickEvent:function(e,n){s.details.addEvent(e,"keypress",function(e,t){s.details.charCode(e)!==s.details.KEY_ENTER&&s.details.charCode(e)!==s.details.KEY_SPACE||"summary"===t.nodeName.toLowerCase()&&(s.details.preventDefault(e),t.click?t.click():n(e,t))}),s.details.addEvent(e,"keyup",function(e,t){s.details.charCode(e)===s.details.KEY_SPACE&&"SUMMARY"===t.nodeName&&s.details.preventDefault(e)}),s.details.addEvent(e,"click",function(e,t){n(e,t)})},getAncestor:function(e,t){do{if(!e||e.nodeName.toLowerCase()===t)break;e=e.parentNode}while(e);return e},addDetailsPolyfill:function(e,t){if(t=t||document.body,!s.details.started&&(s.details.started=!0,0!==(e=t.getElementsByTagName("details")).length)){for(var n=e.length,a=0;a<n;a++){var i=e[a];if(i.__summary=i.getElementsByTagName("summary").item(0),i.__content=i.getElementsByTagName("div").item(0),!i.__summary||!i.__content)return;i.__content.id||(i.__content.id="details-content-"+a),i.setAttribute("role","group"),i.__summary.setAttribute("role","button"),i.__summary.setAttribute("aria-controls",i.__content.id),s.details.NATIVE_DETAILS||(i.__summary.tabIndex=0);var r=null!==i.getAttribute("open");if(!0==r?(i.__summary.setAttribute("aria-expanded","true"),i.__content.setAttribute("aria-hidden","false")):(i.__summary.setAttribute("aria-expanded","false"),i.__content.setAttribute("aria-hidden","true"),s.details.NATIVE_DETAILS||(i.__content.style.display="none")),i.__summary.__details=i,!s.details.NATIVE_DETAILS){var o=document.createElement("i");!0==r?(o.className="arrow arrow-open",o.appendChild(document.createTextNode("▼"))):(o.className="arrow arrow-closed",o.appendChild(document.createTextNode("►"))),i.__summary.__twisty=i.__summary.insertBefore(o,i.__summary.firstChild),i.__summary.__twisty.setAttribute("aria-hidden","true")}}s.details.addClickEvent(t,function(e,t){return!(t=s.details.getAncestor(t,"summary"))||s.details.statechange(t)})}},statechange:function(e){var t="true"===e.__details.__summary.getAttribute("aria-expanded"),n="true"===e.__details.__content.getAttribute("aria-hidden");e.__details.__summary.setAttribute("aria-expanded",t?"false":"true"),e.__details.__content.setAttribute("aria-hidden",n?"false":"true"),s.details.NATIVE_DETAILS||(e.__details.__content.style.display=t?"none":"",null!==e.__details.getAttribute("open")?e.__details.removeAttribute("open"):e.__details.setAttribute("open","open"));return e.__twisty&&(e.__twisty.firstChild.nodeValue=t?"►":"▼",e.__twisty.setAttribute("class",t?"arrow arrow-closed":"arrow arrow-open")),!0},destroy:function(e){s.details.removeEvent(e,"click")},init:function(e){s.details.addEvent(document,"DOMContentLoaded",s.details.addDetailsPolyfill),s.details.addEvent(window,"load",s.details.addDetailsPolyfill)}},e.GOVUK=s}(window);var NSA=NSA||{},filterBoxes=$(".filter-box");NSA.filters={init:function(){filterBoxes.each(function(){var e=$(this),t=e.find(".container-head"),n=t.find(".option-select-label"),a=e.find("input:checkbox"),i=$("<button />").addClass("js-container-head"),r=$("<div />").addClass("js-selected-counter");i.on("click",function(e){var t=$(this).next();$(this).hasClass("closed")?(t.show(),$(this).removeClass("closed").attr("aria-expanded",!0)):(t.hide(),$(this).addClass("closed").attr("aria-expanded",!1)),e.preventDefault()}).append(n,r),t.replaceWith(i),a.on("change",function(){r.text(function(){return 0<a.filter(":checked").length?a.filter(":checked").length+" selected":""})})})}},0<filterBoxes.length&&NSA.filters.init();var gaEvent=$("#ga-event");if(0<gaEvent.length){var category=gaEvent.data("category"),label=gaEvent.data("label"),event=gaEvent.data("event");""!==event&&""!==label&&""!==category&&gtag("event",event,{event_category:category,event_label:label})}function getParameterByName(e,t){t=t||window.location.href,e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}function sortTable(e){var t,n,a,i,r,o,s,l,d=0;for(t=$("table.sortable"),a=!0,l="a";a;){for(a=!1,n=t.find("tr"),i=1;i<n.length-1;i++)if(s=!1,r=n[i].getElementsByTagName("TD")[e],o=n[i+1].getElementsByTagName("TD")[e],"a"===l){if(r.innerHTML.toLowerCase()>o.innerHTML.toLowerCase()){s=!0;break}}else if("d"===l&&r.innerHTML.toLowerCase()<o.innerHTML.toLowerCase()){s=!0;break}s?(n[i].parentNode.insertBefore(n[i+1],n[i]),a=!0,d++):0===d&&"a"===l&&(l="d",a=!0)}return l}$(".notification a").on("click",function(){$(this).data("clientid")&&gtag("event","download",{event_category:"migration-help-pdf",event_label:$(this).data("clientid")})}),(NSA=NSA||{}).modal={elems:{links:$(".modal-link"),modals:$(".modal")},init:function(){this.modalBg(),this.setUpEvents()},modalBg:function(){var e=this,t=$("<div>").addClass("modal-bg").hide().on("click",function(){e.hideModals()});$("body").append(t)},setUpEvents:function(){var n=this;this.elems.links.on("click",function(e){var t=$(this).attr("href");n.showModal($(t)),e.preventDefault()}),n.elems.modals.find(".close").on("click",function(e){n.hideModals(),e.preventDefault()}),$("body").on("keydown",function(e){27===(e.keyCode||e.which)&&n.hideModals()})},showModal:function(e){$("html").addClass("modal-open"),$(".modal-bg").show(),e.show()},hideModals:function(){$("html").removeClass("modal-open"),$(".modal-bg").hide(),this.elems.modals.hide()}},NSA.modal.init(),function(e){"use strict";var f=e.jQuery,t=e.GOVUK||{};function n(){var o="ShowHideContent",i='[data-target] > input[type="radio"]',t='[data-target] > input[type="checkbox"]',n="a.js-toggle-content";function s(){var e=f(this),t=l(e);t.length&&(e.attr("aria-controls",t.attr("id")),e.attr("aria-expanded","false"),t.attr("aria-hidden","true"))}function l(e){var t=e.attr("aria-controls");return t=t||e.closest("[data-target]").data("target"),f("#"+t)}function r(e,t){t.hasClass("js-hidden")&&(t.removeClass("js-hidden"),t.attr("aria-hidden","false"),e.attr("aria-controls")&&e.attr("aria-expanded","true"))}function d(e,t){(t=t||l(e)).hasClass("js-hidden")||(t.addClass("js-hidden"),t.attr("aria-hidden","true"),e.attr("aria-controls")&&e.attr("aria-expanded","false"))}function a(e,t){var n=i+"[name="+e.attr("name").replace("[","\\[").replace("]","\\]")+"][aria-controls]",a=e.closest("form");(a.length?a.find(n):f(n)).each(function(){d(f(this))}),e.is("[aria-controls]")&&r(e,t)}function c(e,t){e.is(":checked")?r(e,t):d(e,t)}function u(e,t,n){t.hasClass("js-hidden")?r(e,t):d(e,t),n.preventDefault()}function h(n,e,t,a){function i(e){var t=f(this);a(t,l(t),e)}n=n||f(document.body);var r=f(e);r.each(s),f.each(t,function(e,t){n.on("click."+o,t,i)}),r.is(":checked")&&r.filter(":checked").each(i)}this.showHideRadioToggledContent=function(e){var t;h(e,i,(t=[],f(i).map(function(){var e=f(this).attr("name");return-1===f.inArray(e,t)?(t.push(e),'input[type="radio"][name="'+f(this).attr("name")+'"]'):null})),a)},this.showHideCheckboxToggledContent=function(e){h(e,t,[t],c)},this.showHideLinkToggledContent=function(e){h(e,n,[n],u)},this.destroy=function(e){(e=e||f(document.body)).off("."+o)}}n.prototype.init=function(e){this.showHideRadioToggledContent(e),this.showHideCheckboxToggledContent(e),this.showHideLinkToggledContent(e)},t.ShowHideContent=n,e.GOVUK=t}(window),(NSA=NSA||{}).signin={form:$(".form-signin"),init:function(){this.setupEvents()},setupEvents:function(){this.form.on("submit",this,this.handleSubmit)},handleSubmit:function(e){var t=$(this),n=t.find("input").not(":checkbox"),a={},i=$(this).find("button:submit"),r=i.eq(0);i.attr("disabled","disabled"),r.css("min-width",r.outerWidth()+"px"),r.find(".loader").removeClass("vh"),n.each(function(){a[this.name]=$(this).val()}),$("#password").prop("type","password").next().removeClass("type-password"),$.ajax({type:"POST",data:a,url:t.attr("action"),context:e.data,dataType:"json",success:function(e){e.redirect?window.location.href=e.uri:e.isFailedLogin?(this.resetValidation(t),this.showValidationMessage(e.validationMessages),this.showInlineValidation(e.validationMessages),i.removeAttr("disabled"),r.find(".loader").addClass("vh")):(gtag("event","Successful login",{event_category:"Login",event_label:getParameterByName("clientid")}),this.buildFormAndSubmit(e))},error:function(){this.resetValidation(t),this.showValidationMessage(),i.removeAttr("disabled"),r.find(".loader").addClass("vh")}}),e.preventDefault()},resetValidation:function(e){var t=e.find(".form-group");$(".error-summary").remove(),t.each(function(){var e=$(this).find("input").eq(0);$(this).hasClass("form-group-error")&&($(this).removeClass("form-group-error"),$(this).find("p.error-message").remove(),e.removeAttr("aria-describedby").removeAttr("aria-invalid"))})},showValidationMessage:function(e){var t=$("<div />").attr("class","error-summary").attr("role","alert").attr("tabindex","-1"),n=$("<h2 />").attr("class","heading-medium error-summary-heading").attr("id","error-summary"),i=$("<ul />").attr("class","error-summary-list");if(e)n.text("Information missing or incorrect"),$.each(e,function(e,t){"loginError"===e&&(e="username",gtag("event","Failed login",{event_category:"Login",event_label:"Users login credentials were wrong"}));var n=$("<a />").attr("href","#"+e).text(t),a=$("<li />").append(n);i.append(a)});else{n.text("There has been an error");var a=$("<li />").html('Please try again later. If the problem continues, follow the link to <a href="https://help.signin.education.gov.uk/contact/form">submit a support request</a>');i.append(a),gtag("event","Error occurred",{event_category:"Login",event_label:"A server error occurred during login"})}t.append(n).append(i),$("main").prepend(t),$("html, body").animate({scrollTop:t.offset().top-15},300)},showInlineValidation:function(e){$.each(e,function(e,t){var n=$("input[name="+e+"]"),a=n.parent();a.hasClass("show-password")&&(a=a.parent());var i=a.find("label").first();if(!a.hasClass("form-group-error"))var r=$("<p>").html(t).prop("class","error-message").prop("id","validation-"+e);i.after(r),a.addClass("form-group-error"),n.attr({"aria-describedby":"validation-"+e,"aria-invalid":"true"})})},buildFormAndSubmit:function(e){var a=$("<form />").attr({method:"post",action:e.destination,id:"dfesigninform"});$.each(e.postbackData,function(e,t){var n=$("<input />").attr({type:"hidden",name:e,value:t});a.append(n)}),$("#dfesigninform").remove(),$("body").append(a),a.submit()}},0<$(".form-signin").length&&NSA.signin.init(),$(function(){$("table.sortable thead th").on("click",function(){var e=$("table.sortable thead tr th");e.removeClass("sorted").removeClass("dir-a").removeClass("dir-d");var t=sortTable(e.index($(this)));$(this).addClass("sorted dir-"+t)})});var toggleTips=$(".toggle-help");toggleTips.each(function(){var n,t,e,a;n=$(this),e=$("<span />").attr("class","toggletip"),a=$("<button />").attr("type","button").attr("aria-label","Help").attr("data-toggletip-content",n.html()).text("?").on("click",function(){var e=$(this).data("toggletip-content"),t=$(this).next();window.setTimeout(function(){t.html(function(){return $("<span />").attr("class",function(){return 50<n.html().length?"bubble long":"bubble"}).text(e)})},100)}).on("keydown",function(e){27===(e.keyCode||e.which)&&t.html("")}),t=$("<span />").attr("role","status"),e.append(a,t),n.before(e).remove(),$(document).on("click",function(e){n[0]!==$(e.target)&&t.html("")})});var forms=$("#content form");forms.attr("novalidate","novalidate");NSA=NSA||{};function select2ModelMatcher(e,t){if(t.parentText=t.parentText||"",""===$.trim(e.term))return t;if(t.children&&0<t.children.length){for(var n=$.extend(!0,{},t),a=t.children.length-1;0<=a;a--){var i=t.children[a];i.parentText+=t.parentText+" "+t.text,null==select2ModelMatcher(e,i)&&n.children.splice(a,1)}return 0<n.children.length?n:select2ModelMatcher(e,n)}var r=(t.parentText+" "+t.text).toUpperCase(),o=e.term.toUpperCase();return-1<r.indexOf(o)?t:null}NSA={showPassword:function(){$(".show-password").each(function(e){var t=$(this).find("input:password"),n=$("<label />").prop({for:"show-password-"+e}).html("Show"),a=$("<input />").prop({type:"checkbox",id:"show-password-"+e}).on("change",function(){var e=$(this);t.prop("type",function(){return e.prop("checked")?"text":"password"}),n.html(function(){return e.prop("checked")?"Hide":"Show"}),e.parent().removeClass("type-password"),e.prop("checked")&&e.parent().addClass("type-password")}),i=$("<div />").prop("class","show-password-control").append(a,n);t.after(i)})},backLink:function(){var e=$("<a>").attr({href:"#",class:"link-back"}).text("Back").on("click",function(e){window.history.back(),e.preventDefault()});$(".js-back-link").html(e)}},0<$("select.select2").length&&$("select.select2").select2({matcher:select2ModelMatcher}),0<$(".show-password").length&&NSA.showPassword(),$(".js-back-link")&&NSA.backLink(),$(".under-construction").on("click",function(e){alert("This functionality is not available yet"),e.preventDefault()}),0<$(".notification span.icon").length&&$(".notification span.icon").on("click",function(){$(this).parent().hide()}),0<$("article.organisation-services").length&&($(".information").on("click",function(e){var t=$(this).parent().parent().find(".service-description");e.preventDefault(),t.toggle()}),$(".info-link").on("click",function(e){var t=$(this).parent().next();e.preventDefault(),t.toggle()}));var searchFields=$("form .search-field");if(0<searchFields.length){var loader=$("<span />").addClass("loader spinner-inline"),b1=$("<span />").addClass("ball b-1"),b2=$("<span />").addClass("ball b-2");loader.append(b1).append(b2),searchFields.each(function(){var e=$(this).parent(),t=e.find("button");e.on("submit",function(){t.after(loader).hide()})})}var redirect=$("#redirect-url");$("#add-redirect").on("click",function(){return $('<p><label for="redirect-url"><input class="form-control inputConfig" name="redirect_uris"></label></p>').appendTo(redirect),!1});var logout=$("#logout-url");$("#add-logout").on("click",function(){return $('<p><label for="logout-url"><input class="form-control inputConfig" name="post_logout_redirect_uris"></label></p>').appendTo(logout),!1}),$("#generate-client-secret").on("click",function(){var e=window.niceware.generatePassphrase(8).join("-");return confirm("Are you sure you want to regenerate the client secret?")&&$("input#clientSecret").attr("value",e),!1}),$("#generate-api-secret").on("click",function(){var e=window.niceware.generatePassphrase(8).join("-");return confirm("Are you sure you want to regenerate the api secret?")&&$("input#apiSecret").attr("value",e),!1});var formRegister=$(".prevent-form-double-submission");0<formRegister.length&&formRegister.each(function(){var e=$(formRegister).find("button:submit"),t=e.eq(0);formRegister.on("submit",function(){e.attr("disabled","disabled"),t.css("min-width",t.outerWidth()+"px"),t.append("<span class='loader spinner-inline'> <span class='ball b-1'></span> <span class='ball b-2'></span> <span class='ball b-3'></span> </span>")})});var showHideContent=new GOVUK.ShowHideContent;showHideContent.init(),GOVUK.details.init();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl9jb29raWVzLmpzIiwiX2RldGFpbHMucG9seWZpbGwuanMiLCJfZmlsdGVyLWJveGVzLmpzIiwiX2dhLWV2ZW50cy5qcyIsIl9zaWduaW4uanMiLCJfdGFibGVzb3J0LmpzIiwiX21vZGFsLmpzIiwiX3Nob3ctaGlkZS1jb250ZW50LmpzIiwiX3Rvb2x0aXAuanMiLCJfdmFsaWRhdGlvbi5qcyIsImFwcC5qcyJdLCJuYW1lcyI6WyJ3aW5kb3ciLCIkIiwiQ29va2llcyIsIkNPT0tJRV9OQU1FUyIsIkRFRkFVTFRfUE9MSUNZIiwiZXNzZW50aWFsIiwic2V0dGluZ3MiLCJ1c2FnZSIsIkdvdlVLQ29va2llIiwibmFtZSIsInZhbHVlIiwiZ2V0IiwiSlNPTiIsInBhcnNlIiwic2V0IiwiZXhwaXJlcyIsIm9uQ29va2llQWNjZXB0IiwiZXZlbnQiLCJuZXdQb2xpY3kiLCJhY2NlcHRlZFBvbGljeSIsImV4dGVuZCIsImVhY2giLCJrZXkiLCJndGFnIiwiZ2FUcmFja2luZ0lkIiwiRGF0ZSIsImNvb2tpZV9mbGFncyIsInRhcmdldCIsIiRjb29raWVBY2NlcHRCdXR0b24iLCIkY29va2llQmFubmVyIiwic2xpZGVVcCIsImZpbmQiLCJzbGlkZURvd24iLCJjbGljayIsIiRwcmVmZXJlbmNlc0Zvcm0iLCJvbiIsInByZXZlbnREZWZhdWx0IiwidmFsIiwiaGlzdG9yeSIsImJhY2siLCJsb2NhdGlvbiIsInBhdGhuYW1lIiwiZ2xvYmFsIiwiR09WVUsiLCJkZXRhaWxzIiwiTkFUSVZFX0RFVEFJTFMiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJvcGVuIiwiS0VZX0VOVEVSIiwiS0VZX1NQQUNFIiwic3RhcnRlZCIsImFkZEV2ZW50Iiwibm9kZSIsInR5cGUiLCJjYWxsYmFjayIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwiYXR0YWNoRXZlbnQiLCJzcmNFbGVtZW50IiwicmVtb3ZlRXZlbnQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZGV0YWNoRXZlbnQiLCJjaGFyQ29kZSIsIndoaWNoIiwia2V5Q29kZSIsInJldHVyblZhbHVlIiwiYWRkQ2xpY2tFdmVudCIsIm5vZGVOYW1lIiwidG9Mb3dlckNhc2UiLCJnZXRBbmNlc3RvciIsIm1hdGNoIiwicGFyZW50Tm9kZSIsImFkZERldGFpbHNQb2x5ZmlsbCIsImxpc3QiLCJjb250YWluZXIiLCJib2R5IiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJsZW5ndGgiLCJuIiwiaSIsIl9fc3VtbWFyeSIsIml0ZW0iLCJfX2NvbnRlbnQiLCJpZCIsInNldEF0dHJpYnV0ZSIsInRhYkluZGV4Iiwib3BlbkF0dHIiLCJnZXRBdHRyaWJ1dGUiLCJzdHlsZSIsImRpc3BsYXkiLCJfX2RldGFpbHMiLCJ0d2lzdHkiLCJjbGFzc05hbWUiLCJhcHBlbmRDaGlsZCIsImNyZWF0ZVRleHROb2RlIiwiX190d2lzdHkiLCJpbnNlcnRCZWZvcmUiLCJmaXJzdENoaWxkIiwic3VtbWFyeSIsInN0YXRlY2hhbmdlIiwiZXhwYW5kZWQiLCJoaWRkZW4iLCJyZW1vdmVBdHRyaWJ1dGUiLCJub2RlVmFsdWUiLCJkZXN0cm95IiwiaW5pdCIsIiRjb250YWluZXIiLCJOU0EiLCJmaWx0ZXJCb3hlcyIsImZpbHRlcnMiLCIkdGhhdCIsInRoaXMiLCJoZWFkZXIiLCJ0aXRsZSIsImNoZWNrYm94ZXMiLCJidXR0b24iLCJhZGRDbGFzcyIsImNoZWNrQ291bnQiLCJvcHRpb25zIiwibmV4dCIsImhhc0NsYXNzIiwic2hvdyIsInJlbW92ZUNsYXNzIiwiYXR0ciIsImhpZGUiLCJhcHBlbmQiLCJyZXBsYWNlV2l0aCIsInRleHQiLCJmaWx0ZXIiLCJnYUV2ZW50IiwiY2F0ZWdvcnkiLCJkYXRhIiwibGFiZWwiLCJldmVudF9jYXRlZ29yeSIsImV2ZW50X2xhYmVsIiwiZ2V0UGFyYW1ldGVyQnlOYW1lIiwidXJsIiwiaHJlZiIsInJlcGxhY2UiLCJyZXN1bHRzIiwiUmVnRXhwIiwiZXhlYyIsImRlY29kZVVSSUNvbXBvbmVudCIsInNvcnRUYWJsZSIsInRhYmxlIiwicm93cyIsInN3aXRjaGluZyIsIngiLCJ5Iiwic2hvdWxkU3dpdGNoIiwiZGlyZWN0aW9uIiwic3dpdGNoY291bnQiLCJpbm5lckhUTUwiLCJtb2RhbCIsImVsZW1zIiwibGlua3MiLCJtb2RhbHMiLCJtb2RhbEJnIiwic2V0VXBFdmVudHMiLCJ0aGF0IiwiYmciLCJoaWRlTW9kYWxzIiwic2hvd01vZGFsIiwialF1ZXJ5IiwiU2hvd0hpZGVDb250ZW50Iiwic2VsZWN0b3JzIiwiaW5pdFRvZ2dsZWRDb250ZW50IiwiJGNvbnRyb2wiLCIkY29udGVudCIsImdldFRvZ2dsZWRDb250ZW50IiwiY2xvc2VzdCIsInNob3dUb2dnbGVkQ29udGVudCIsImhpZGVUb2dnbGVkQ29udGVudCIsImhhbmRsZVJhZGlvQ29udGVudCIsInNlbGVjdG9yIiwiJGZvcm0iLCJpcyIsImhhbmRsZUNoZWNrYm94Q29udGVudCIsImhhbmRsZUxpbmtDb250ZW50IiwiJGV2ZW50IiwiZWxlbWVudFNlbGVjdG9yIiwiZXZlbnRTZWxlY3RvcnMiLCJoYW5kbGVyIiwiZGVmZXJyZWQiLCIkY29udHJvbHMiLCJpZHgiLCJldmVudFNlbGVjdG9yIiwic2hvd0hpZGVSYWRpb1RvZ2dsZWRDb250ZW50IiwicmFkaW9Hcm91cHMiLCJtYXAiLCJncm91cE5hbWUiLCJpbkFycmF5IiwicHVzaCIsInNob3dIaWRlQ2hlY2tib3hUb2dnbGVkQ29udGVudCIsInNob3dIaWRlTGlua1RvZ2dsZWRDb250ZW50Iiwib2ZmIiwicHJvdG90eXBlIiwic2lnbmluIiwiZm9ybSIsInNldHVwRXZlbnRzIiwiaGFuZGxlU3VibWl0IiwiJGlucHV0cyIsIm5vdCIsInBvc3REYXRhIiwiJHN1Ym1pdEJ1dHRvbnMiLCIkc3VibWl0QnV0dG9uIiwiZXEiLCJjc3MiLCJvdXRlcldpZHRoIiwicHJvcCIsImFqYXgiLCJjb250ZXh0IiwiZGF0YVR5cGUiLCJzdWNjZXNzIiwicmVkaXJlY3QiLCJ1cmkiLCJpc0ZhaWxlZExvZ2luIiwicmVzZXRWYWxpZGF0aW9uIiwic2hvd1ZhbGlkYXRpb25NZXNzYWdlIiwidmFsaWRhdGlvbk1lc3NhZ2VzIiwic2hvd0lubGluZVZhbGlkYXRpb24iLCJyZW1vdmVBdHRyIiwiYnVpbGRGb3JtQW5kU3VibWl0IiwiZXJyb3IiLCIkZm9ybUdyb3VwcyIsInJlbW92ZSIsIiRmaWVsZCIsIm1lc3NhZ2VzIiwiJGRpdiIsIiRoMiIsIiR1bCIsImluZGV4IiwiJGEiLCIkbGkiLCJodG1sIiwicHJlcGVuZCIsImFuaW1hdGUiLCJzY3JvbGxUb3AiLCJvZmZzZXQiLCJ0b3AiLCIkcGFyZW50IiwicGFyZW50IiwiJGxhYmVsIiwiZmlyc3QiLCJlcnJvck1lc3NhZ2UiLCJhZnRlciIsImFyaWEtZGVzY3JpYmVkYnkiLCJhcmlhLWludmFsaWQiLCJtZXRob2QiLCJhY3Rpb24iLCJkZXN0aW5hdGlvbiIsInBvc3RiYWNrRGF0YSIsInN1Ym1pdCIsImhlYWRpbmdDZWxscyIsInRvZ2dsZVRpcHMiLCJsaXZlUmVnaW9uIiwidG9nZ2xlVGlwIiwibWVzc2FnZSIsInNldFRpbWVvdXQiLCJiZWZvcmUiLCJmb3JtcyIsInNlbGVjdDJNb2RlbE1hdGNoZXIiLCJwYXJhbXMiLCJwYXJlbnRUZXh0IiwidHJpbSIsInRlcm0iLCJjaGlsZHJlbiIsImMiLCJjaGlsZCIsInNwbGljZSIsIm9yaWdpbmFsIiwidG9VcHBlckNhc2UiLCJpbmRleE9mIiwic2hvd1Bhc3N3b3JkIiwiJHB3ZEZsZCIsIiRjaGVja0xibCIsImZvciIsIiRjaGVja0JveCIsIiRjYldyYXAiLCJiYWNrTGluayIsImNsYXNzIiwic2VsZWN0MiIsIm1hdGNoZXIiLCJhbGVydCIsImluZm8iLCJ0b2dnbGUiLCJtZXRhIiwic2VhcmNoRmllbGRzIiwibG9hZGVyIiwiYjEiLCJiMiIsImFwcGVuZFRvIiwibG9nb3V0Iiwic2VjcmV0IiwibmljZXdhcmUiLCJnZW5lcmF0ZVBhc3NwaHJhc2UiLCJqb2luIiwiY29uZmlybSIsImZvcm1SZWdpc3RlciIsInNob3dIaWRlQ29udGVudCJd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QSxRQUFBLFdBRUEsT0FEQWxDLEVBQUEsb0hBQUFtUyxTQUFBQyxTQUNBLElBSUFwUyxFQUFBLDJCQUFBa0MsR0FBQSxRQUFBLFdBQ0EsSUFDQW1RLEVBREF0UyxPQUFBdVMsU0FBQUMsbUJBQUEsR0FDQUMsS0FBQSxLQUtBLE9BSkFDLFFBQUEsMkRBRUF6UyxFQUFBLHNCQUFBMkgsS0FBQSxRQUFBMEssSUFFQSxJQUdBclMsRUFBQSx3QkFBQWtDLEdBQUEsUUFBQSxXQUNBLElBQ0FtUSxFQURBdFMsT0FBQXVTLFNBQUFDLG1CQUFBLEdBQ0FDLEtBQUEsS0FLQSxPQUpBQyxRQUFBLHdEQUVBelMsRUFBQSxtQkFBQTJILEtBQUEsUUFBQTBLLElBRUEsSUFHQSxJQUFBSyxhQUFBMVMsRUFBQSxtQ0FFQSxFQUFBMFMsYUFBQTdOLFFBQ0E2TixhQUFBdFIsS0FBQSxXQUNBLElBQUF3TCxFQUFBNU0sRUFBQTBTLGNBQUE1USxLQUFBLGlCQUFBK0ssRUFBQUQsRUFBQUUsR0FBQSxHQUNBNEYsYUFBQXhRLEdBQUEsU0FBQSxXQUNBMEssRUFBQWpGLEtBQUEsV0FBQSxZQUVBa0YsRUFBQUUsSUFBQSxZQUFBRixFQUFBRyxhQUFBLE1BRUFILEVBQUFoRixPQUFBLGlKQU1BLElBQUE4SyxnQkFBQSxJQUFBalEsTUFBQTBILGdCQUNBdUksZ0JBQUFsTSxPQUVBL0QsTUFBQUMsUUFBQThEIiwiZmlsZSI6ImFwcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gKHdpbmRvdykge1xuICB2YXIgJCA9IHdpbmRvdy4kO1xuICB2YXIgQ29va2llcyA9IHdpbmRvdy5Db29raWVzO1xuICBpZiAoIUNvb2tpZXMgfHwgISQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgQ09PS0lFX05BTUVTID0ge1xuICAgIFBSRUZFUkVOQ0VTX1NFVDogJ2Nvb2tpZXNfcHJlZmVyZW5jZXNfc2V0JyxcbiAgICBQT0xJQ1k6ICdjb29raWVzX3BvbGljeSdcbiAgfTtcbiAgXG4gIHZhciBERUZBVUxUX1BPTElDWSA9IHtcbiAgICBlc3NlbnRpYWw6IHRydWUsXG4gICAgc2V0dGluZ3M6IGZhbHNlLFxuICAgIHVzYWdlOiBmYWxzZVxuICB9O1xuXG4gIHZhciBHb3ZVS0Nvb2tpZSA9IHtcbiAgICBnZXQ6IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICB2YXIgdmFsdWUgPSBDb29raWVzLmdldChuYW1lKTtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZSh2YWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xuICAgICAgdmFyIEdPVlVLX0NPT0tJRV9PUFRJT05TID0ge1xuICAgICAgICBleHBpcmVzOiAzNjUgLy8gZGF5c1xuICAgICAgfTtcbiAgICBcbiAgICAgIHJldHVybiBDb29raWVzLnNldChcbiAgICAgICAgbmFtZSxcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIEdPVlVLX0NPT0tJRV9PUFRJT05TXG4gICAgICApO1xuICAgIH1cbiAgfTtcblxuICBHb3ZVS0Nvb2tpZS5zZXQoXG4gICAgQ09PS0lFX05BTUVTLlBPTElDWSxcbiAgICBERUZBVUxUX1BPTElDWVxuICApO1xuXG4gIHZhciAkY29va2llQmFubmVyID0gJCgnI2RzaS1jb29raWUtYmFubmVyLmdsb2JhbC1jb29raWUtbWVzc2FnZS1kZmUtc2lnbi1pbicpO1xuICB2YXIgJGNvb2tpZUFjY2VwdEJ1dHRvbiA9ICRjb29raWVCYW5uZXIuZmluZCgnYnV0dG9uLmNvb2tpZS1hY2NlcHQnKTtcblxuICB2YXIgZ2V0QWNjZXB0ZWRBbGxQb2xpY3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGFjY2VwdGVkUG9saWN5ID0gJC5leHRlbmQoREVGQVVMVF9QT0xJQ1ksIHt9KTsgLy8gZGVlcCBjb3B5XG5cbiAgICAkLmVhY2goYWNjZXB0ZWRQb2xpY3ksIGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIGFjY2VwdGVkUG9saWN5W2tleV0gPSB0cnVlO1xuICAgIH0pO1xuICB9O1xuXG4gIHZhciBzZXRHb29nbGVBbmFseXRpY3NTdGF0dXMgPSBmdW5jdGlvbiAoY3VycmVudFBvbGljeSkge1xuICAgIGlmIChjdXJyZW50UG9saWN5LnVzYWdlICYmIHdpbmRvdy5ndGFnICYmIHdpbmRvdy5nYVRyYWNraW5nSWQpIHtcbiAgICAgIHdpbmRvdy5ndGFnKCdqcycsIG5ldyBEYXRlKCkpO1xuICAgICAgd2luZG93Lmd0YWcoJ2NvbmZpZycsIHdpbmRvdy5nYVRyYWNraW5nSWQsIHsgY29va2llX2ZsYWdzOiAnc2VjdXJlJ30pO1xuICAgIH0gZWxzZSB7XG4gICAgICB3aW5kb3dbJ2dhLWRpc2FibGUtJyArIHdpbmRvdy5nYVRyYWNraW5nSWRdID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICB2YXIgb25Db29raWVBY2NlcHQgPSBmdW5jdGlvbiAoZXZlbnQsIG5ld1BvbGljeSkge1xuICAgIHZhciBhY2NlcHRlZFBvbGljeSA9IG5ld1BvbGljeSB8fCBnZXRBY2NlcHRlZEFsbFBvbGljeSgpO1xuXG4gICAgR292VUtDb29raWUuc2V0KFxuICAgICAgQ09PS0lFX05BTUVTLlBPTElDWSxcbiAgICAgIGFjY2VwdGVkUG9saWN5XG4gICAgKTtcblxuICAgIEdvdlVLQ29va2llLnNldChcbiAgICAgIENPT0tJRV9OQU1FUy5QUkVGRVJFTkNFU19TRVQsXG4gICAgICB0cnVlXG4gICAgKTtcblxuICAgIHNldEdvb2dsZUFuYWx5dGljc1N0YXR1cyhhY2NlcHRlZFBvbGljeSk7XG5cbiAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSAkY29va2llQWNjZXB0QnV0dG9uWzBdKSB7XG4gICAgICAkY29va2llQmFubmVyLnNsaWRlVXAoKTtcbiAgICB9XG4gIH07XG5cbiAgaWYgKCFHb3ZVS0Nvb2tpZS5nZXQoQ09PS0lFX05BTUVTLlBSRUZFUkVOQ0VTX1NFVCkpIHtcbiAgICAkY29va2llQmFubmVyLnNsaWRlRG93bihmdW5jdGlvbiAoKSB7XG4gICAgICAkY29va2llQWNjZXB0QnV0dG9uLmNsaWNrKG9uQ29va2llQWNjZXB0KTtcbiAgICB9KTtcbiAgfVxuICBcbiAgdmFyICRwcmVmZXJlbmNlc0Zvcm0gPSAkKCcjZHNpLWNvb2tpZS1mb3JtLmNvb2tpZXMtcGFnZS1kZmUtc2lnbi1pbl9fcHJlZmVyZW5jZXMtZm9ybScpO1xuXG4gICRwcmVmZXJlbmNlc0Zvcm0ub24oJ3N1Ym1pdCcsIGZ1bmN0aW9uIChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgdmFyIG5ld1BvbGljeSA9IHtcbiAgICAgIHNldHRpbmdzOiAhISRwcmVmZXJlbmNlc0Zvcm0uZmluZChcImlucHV0W25hbWU9J2Nvb2tpZS5zZXR0aW5ncyddOmNoZWNrZWRcIikudmFsKCksXG4gICAgICB1c2FnZTogISEkcHJlZmVyZW5jZXNGb3JtLmZpbmQoXCJpbnB1dFtuYW1lPSdjb29raWUudXNhZ2UnXTpjaGVja2VkXCIpLnZhbCgpXG4gICAgfVxuXG4gICAgdmFyIGFjY2VwdGVkUG9saWN5ID0gJC5leHRlbmQoREVGQVVMVF9QT0xJQ1ksIG5ld1BvbGljeSk7XG4gICAgb25Db29raWVBY2NlcHQoZXZlbnQsIGFjY2VwdGVkUG9saWN5KTtcblxuICAgIGlmICh3aW5kb3cuaGlzdG9yeSkge1xuICAgICAgd2luZG93Lmhpc3RvcnkuYmFjaygpO1xuICAgIH0gZWxzZSB7XG4gICAgICB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgPSAnLyc7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSk7XG5cbn0pKHdpbmRvdyk7IiwiLy8gPGRldGFpbHM+IHBvbHlmaWxsXG4vLyBodHRwOi8vY2FuaXVzZS5jb20vI2ZlYXQ9ZGV0YWlsc1xuXG4vLyBGRiBTdXBwb3J0IGZvciBIVE1MNSdzIDxkZXRhaWxzPiBhbmQgPHN1bW1hcnk+XG4vLyBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD01OTE3MzdcblxuLy8gaHR0cDovL3d3dy5zaXRlcG9pbnQuY29tL2ZpeGluZy10aGUtZGV0YWlscy1lbGVtZW50L1xuXG47KGZ1bmN0aW9uIChnbG9iYWwpIHtcbiAgJ3VzZSBzdHJpY3QnXG5cbiAgdmFyIEdPVlVLID0gZ2xvYmFsLkdPVlVLIHx8IHt9XG5cbiAgR09WVUsuZGV0YWlscyA9IHtcbiAgICBOQVRJVkVfREVUQUlMUzogdHlwZW9mIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RldGFpbHMnKS5vcGVuID09PSAnYm9vbGVhbicsXG4gICAgS0VZX0VOVEVSOiAxMyxcbiAgICBLRVlfU1BBQ0U6IDMyLFxuXG4gICAgLy8gQ3JlYXRlIGEgc3RhcnRlZCBmbGFnIHNvIHdlIGNhbiBwcmV2ZW50IHRoZSBpbml0aWFsaXNhdGlvblxuICAgIC8vIGZ1bmN0aW9uIGZpcmluZyBmcm9tIGJvdGggRE9NQ29udGVudExvYWRlZCBhbmQgd2luZG93Lm9ubG9hZFxuICAgIHN0YXJ0ZWQ6IGZhbHNlLFxuXG4gICAgLy8gQWRkIGV2ZW50IGNvbnN0cnVjdCBmb3IgbW9kZXJuIGJyb3dzZXJzIG9yIElFXG4gICAgLy8gd2hpY2ggZmlyZXMgdGhlIGNhbGxiYWNrIHdpdGggYSBwcmUtY29udmVydGVkIHRhcmdldCByZWZlcmVuY2VcbiAgICBhZGRFdmVudDogZnVuY3Rpb24gKG5vZGUsIHR5cGUsIGNhbGxiYWNrKSB7XG4gICAgICBpZiAobm9kZS5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgIGNhbGxiYWNrKGUsIGUudGFyZ2V0KVxuICAgICAgICB9LCBmYWxzZSlcbiAgICAgIH0gZWxzZSBpZiAobm9kZS5hdHRhY2hFdmVudCkge1xuICAgICAgICBub2RlLmF0dGFjaEV2ZW50KCdvbicgKyB0eXBlLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgIGNhbGxiYWNrKGUsIGUuc3JjRWxlbWVudClcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgcmVtb3ZlRXZlbnQ6IGZ1bmN0aW9uIChub2RlLCB0eXBlKSB7XG4gICAgICBpZiAobm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKSB7XG4gICAgICAgIG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICB9LCBmYWxzZSlcbiAgICAgIH0gZWxzZSBpZiAobm9kZS5kZXRhY2hFdmVudCkge1xuICAgICAgICBub2RlLmRldGFjaEV2ZW50KCdvbicgKyB0eXBlLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0sXG5cbiAgICAvLyBDcm9zcy1icm93c2VyIGNoYXJhY3RlciBjb2RlIC8ga2V5IHByZXNzZWRcbiAgICBjaGFyQ29kZTogZnVuY3Rpb24gKGUpIHtcbiAgICAgIHJldHVybiAodHlwZW9mIGUud2hpY2ggPT09ICdudW1iZXInKSA/IGUud2hpY2ggOiBlLmtleUNvZGVcbiAgICB9LFxuXG4gICAgLy8gQ3Jvc3MtYnJvd3NlciBwcmV2ZW50aW5nIGRlZmF1bHQgYWN0aW9uXG4gICAgcHJldmVudERlZmF1bHQ6IGZ1bmN0aW9uIChlKSB7XG4gICAgICBpZiAoZS5wcmV2ZW50RGVmYXVsdCkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGUucmV0dXJuVmFsdWUgPSBmYWxzZVxuICAgICAgfVxuICAgIH0sXG5cbiAgICAvLyBIYW5kbGUgY3Jvc3MtbW9kYWwgY2xpY2sgZXZlbnRzXG4gICAgYWRkQ2xpY2tFdmVudDogZnVuY3Rpb24gKG5vZGUsIGNhbGxiYWNrKSB7XG4gICAgICBHT1ZVSy5kZXRhaWxzLmFkZEV2ZW50KG5vZGUsICdrZXlwcmVzcycsIGZ1bmN0aW9uIChlLCB0YXJnZXQpIHtcbiAgICAgICAgLy8gV2hlbiB0aGUga2V5IGdldHMgcHJlc3NlZCAtIGNoZWNrIGlmIGl0IGlzIGVudGVyIG9yIHNwYWNlXG4gICAgICAgIGlmIChHT1ZVSy5kZXRhaWxzLmNoYXJDb2RlKGUpID09PSBHT1ZVSy5kZXRhaWxzLktFWV9FTlRFUiB8fCBHT1ZVSy5kZXRhaWxzLmNoYXJDb2RlKGUpID09PSBHT1ZVSy5kZXRhaWxzLktFWV9TUEFDRSkge1xuICAgICAgICAgIGlmICh0YXJnZXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ3N1bW1hcnknKSB7XG4gICAgICAgICAgICAvLyBQcmV2ZW50IHNwYWNlIGZyb20gc2Nyb2xsaW5nIHRoZSBwYWdlXG4gICAgICAgICAgICAvLyBhbmQgZW50ZXIgZnJvbSBzdWJtaXR0aW5nIGEgZm9ybVxuICAgICAgICAgICAgR09WVUsuZGV0YWlscy5wcmV2ZW50RGVmYXVsdChlKVxuICAgICAgICAgICAgLy8gQ2xpY2sgdG8gbGV0IHRoZSBjbGljayBldmVudCBkbyBhbGwgdGhlIG5lY2Vzc2FyeSBhY3Rpb25cbiAgICAgICAgICAgIGlmICh0YXJnZXQuY2xpY2spIHtcbiAgICAgICAgICAgICAgdGFyZ2V0LmNsaWNrKClcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIGV4Y2VwdCBTYWZhcmkgNS4xIGFuZCB1bmRlciBkb24ndCBzdXBwb3J0IC5jbGljaygpIGhlcmVcbiAgICAgICAgICAgICAgY2FsbGJhY2soZSwgdGFyZ2V0KVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSlcblxuICAgICAgLy8gUHJldmVudCBrZXl1cCB0byBwcmV2ZW50IGNsaWNraW5nIHR3aWNlIGluIEZpcmVmb3ggd2hlbiB1c2luZyBzcGFjZSBrZXlcbiAgICAgIEdPVlVLLmRldGFpbHMuYWRkRXZlbnQobm9kZSwgJ2tleXVwJywgZnVuY3Rpb24gKGUsIHRhcmdldCkge1xuICAgICAgICBpZiAoR09WVUsuZGV0YWlscy5jaGFyQ29kZShlKSA9PT0gR09WVUsuZGV0YWlscy5LRVlfU1BBQ0UpIHtcbiAgICAgICAgICBpZiAodGFyZ2V0Lm5vZGVOYW1lID09PSAnU1VNTUFSWScpIHtcbiAgICAgICAgICAgIEdPVlVLLmRldGFpbHMucHJldmVudERlZmF1bHQoZSlcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pXG5cbiAgICAgIEdPVlVLLmRldGFpbHMuYWRkRXZlbnQobm9kZSwgJ2NsaWNrJywgZnVuY3Rpb24gKGUsIHRhcmdldCkge1xuICAgICAgICBjYWxsYmFjayhlLCB0YXJnZXQpXG4gICAgICB9KVxuICAgIH0sXG5cbiAgICAvLyBHZXQgdGhlIG5lYXJlc3QgYW5jZXN0b3IgZWxlbWVudCBvZiBhIG5vZGUgdGhhdCBtYXRjaGVzIGEgZ2l2ZW4gdGFnIG5hbWVcbiAgICBnZXRBbmNlc3RvcjogZnVuY3Rpb24gKG5vZGUsIG1hdGNoKSB7XG4gICAgICBkbyB7XG4gICAgICAgIGlmICghbm9kZSB8fCBub2RlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IG1hdGNoKSB7XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlXG4gICAgICB9IHdoaWxlIChub2RlKVxuXG4gICAgICByZXR1cm4gbm9kZVxuICAgIH0sXG5cbiAgICAvLyBJbml0aWFsaXNhdGlvbiBmdW5jdGlvblxuICAgIGFkZERldGFpbHNQb2x5ZmlsbDogZnVuY3Rpb24gKGxpc3QsIGNvbnRhaW5lcikge1xuICAgICAgY29udGFpbmVyID0gY29udGFpbmVyIHx8IGRvY3VtZW50LmJvZHlcbiAgICAgIC8vIElmIHRoaXMgaGFzIGFscmVhZHkgaGFwcGVuZWQsIGp1c3QgcmV0dXJuXG4gICAgICAvLyBlbHNlIHNldCB0aGUgZmxhZyBzbyBpdCBkb2Vzbid0IGhhcHBlbiBhZ2FpblxuICAgICAgaWYgKEdPVlVLLmRldGFpbHMuc3RhcnRlZCkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIEdPVlVLLmRldGFpbHMuc3RhcnRlZCA9IHRydWVcbiAgICAgIC8vIEdldCB0aGUgY29sbGVjdGlvbiBvZiBkZXRhaWxzIGVsZW1lbnRzLCBidXQgaWYgdGhhdCdzIGVtcHR5XG4gICAgICAvLyB0aGVuIHdlIGRvbid0IG5lZWQgdG8gYm90aGVyIHdpdGggdGhlIHJlc3Qgb2YgdGhlIHNjcmlwdGluZ1xuICAgICAgaWYgKChsaXN0ID0gY29udGFpbmVyLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdkZXRhaWxzJykpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIC8vIGVsc2UgaXRlcmF0ZSB0aHJvdWdoIHRoZW0gdG8gYXBwbHkgdGhlaXIgaW5pdGlhbCBzdGF0ZVxuICAgICAgdmFyIG4gPSBsaXN0Lmxlbmd0aFxuICAgICAgdmFyIGkgPSAwXG4gICAgICBmb3IgKGk7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgdmFyIGRldGFpbHMgPSBsaXN0W2ldXG5cbiAgICAgICAgLy8gU2F2ZSBzaG9ydGN1dHMgdG8gdGhlIGlubmVyIHN1bW1hcnkgYW5kIGNvbnRlbnQgZWxlbWVudHNcbiAgICAgICAgZGV0YWlscy5fX3N1bW1hcnkgPSBkZXRhaWxzLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzdW1tYXJ5JykuaXRlbSgwKVxuICAgICAgICBkZXRhaWxzLl9fY29udGVudCA9IGRldGFpbHMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2RpdicpLml0ZW0oMClcblxuICAgICAgICBpZiAoIWRldGFpbHMuX19zdW1tYXJ5IHx8ICFkZXRhaWxzLl9fY29udGVudCkge1xuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIC8vIElmIHRoZSBjb250ZW50IGRvZXNuJ3QgaGF2ZSBhbiBJRCwgYXNzaWduIGl0IG9uZSBub3dcbiAgICAgICAgLy8gd2hpY2ggd2UnbGwgbmVlZCBmb3IgdGhlIHN1bW1hcnkncyBhcmlhLWNvbnRyb2xzIGFzc2lnbm1lbnRcbiAgICAgICAgaWYgKCFkZXRhaWxzLl9fY29udGVudC5pZCkge1xuICAgICAgICAgIGRldGFpbHMuX19jb250ZW50LmlkID0gJ2RldGFpbHMtY29udGVudC0nICsgaVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWRkIEFSSUEgcm9sZT1cImdyb3VwXCIgdG8gZGV0YWlsc1xuICAgICAgICBkZXRhaWxzLnNldEF0dHJpYnV0ZSgncm9sZScsICdncm91cCcpXG5cbiAgICAgICAgLy8gQWRkIHJvbGU9YnV0dG9uIHRvIHN1bW1hcnlcbiAgICAgICAgZGV0YWlscy5fX3N1bW1hcnkuc2V0QXR0cmlidXRlKCdyb2xlJywgJ2J1dHRvbicpXG5cbiAgICAgICAgLy8gQWRkIGFyaWEtY29udHJvbHNcbiAgICAgICAgZGV0YWlscy5fX3N1bW1hcnkuc2V0QXR0cmlidXRlKCdhcmlhLWNvbnRyb2xzJywgZGV0YWlscy5fX2NvbnRlbnQuaWQpXG5cbiAgICAgICAgLy8gU2V0IHRhYkluZGV4IHNvIHRoZSBzdW1tYXJ5IGlzIGtleWJvYXJkIGFjY2Vzc2libGUgZm9yIG5vbi1uYXRpdmUgZWxlbWVudHNcbiAgICAgICAgLy8gaHR0cDovL3d3dy5zYWxpZW5jZXMuY29tL2Jyb3dzZXJCdWdzL3RhYkluZGV4Lmh0bWxcbiAgICAgICAgaWYgKCFHT1ZVSy5kZXRhaWxzLk5BVElWRV9ERVRBSUxTKSB7XG4gICAgICAgICAgZGV0YWlscy5fX3N1bW1hcnkudGFiSW5kZXggPSAwXG4gICAgICAgIH1cblxuICAgICAgICAvLyBEZXRlY3QgaW5pdGlhbCBvcGVuIHN0YXRlXG4gICAgICAgIHZhciBvcGVuQXR0ciA9IGRldGFpbHMuZ2V0QXR0cmlidXRlKCdvcGVuJykgIT09IG51bGxcbiAgICAgICAgaWYgKG9wZW5BdHRyID09PSB0cnVlKSB7XG4gICAgICAgICAgZGV0YWlscy5fX3N1bW1hcnkuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ3RydWUnKVxuICAgICAgICAgIGRldGFpbHMuX19jb250ZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAnZmFsc2UnKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRldGFpbHMuX19zdW1tYXJ5LnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsICdmYWxzZScpXG4gICAgICAgICAgZGV0YWlscy5fX2NvbnRlbnQuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJylcbiAgICAgICAgICBpZiAoIUdPVlVLLmRldGFpbHMuTkFUSVZFX0RFVEFJTFMpIHtcbiAgICAgICAgICAgIGRldGFpbHMuX19jb250ZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDcmVhdGUgYSBjaXJjdWxhciByZWZlcmVuY2UgZnJvbSB0aGUgc3VtbWFyeSBiYWNrIHRvIGl0c1xuICAgICAgICAvLyBwYXJlbnQgZGV0YWlscyBlbGVtZW50LCBmb3IgY29udmVuaWVuY2UgaW4gdGhlIGNsaWNrIGhhbmRsZXJcbiAgICAgICAgZGV0YWlscy5fX3N1bW1hcnkuX19kZXRhaWxzID0gZGV0YWlsc1xuXG4gICAgICAgIC8vIElmIHRoaXMgaXMgbm90IGEgbmF0aXZlIGltcGxlbWVudGF0aW9uLCBjcmVhdGUgYW4gYXJyb3dcbiAgICAgICAgLy8gaW5zaWRlIHRoZSBzdW1tYXJ5XG4gICAgICAgIGlmICghR09WVUsuZGV0YWlscy5OQVRJVkVfREVUQUlMUykge1xuICAgICAgICAgIHZhciB0d2lzdHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpJylcblxuICAgICAgICAgIGlmIChvcGVuQXR0ciA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgdHdpc3R5LmNsYXNzTmFtZSA9ICdhcnJvdyBhcnJvdy1vcGVuJ1xuICAgICAgICAgICAgdHdpc3R5LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCdcXHUyNWJjJykpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHR3aXN0eS5jbGFzc05hbWUgPSAnYXJyb3cgYXJyb3ctY2xvc2VkJ1xuICAgICAgICAgICAgdHdpc3R5LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCdcXHUyNWJhJykpXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZGV0YWlscy5fX3N1bW1hcnkuX190d2lzdHkgPSBkZXRhaWxzLl9fc3VtbWFyeS5pbnNlcnRCZWZvcmUodHdpc3R5LCBkZXRhaWxzLl9fc3VtbWFyeS5maXJzdENoaWxkKVxuICAgICAgICAgIGRldGFpbHMuX19zdW1tYXJ5Ll9fdHdpc3R5LnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gQmluZCBhIGNsaWNrIGV2ZW50IHRvIGhhbmRsZSBzdW1tYXJ5IGVsZW1lbnRzXG4gICAgICBHT1ZVSy5kZXRhaWxzLmFkZENsaWNrRXZlbnQoY29udGFpbmVyLCBmdW5jdGlvbiAoZSwgc3VtbWFyeSkge1xuICAgICAgICBpZiAoIShzdW1tYXJ5ID0gR09WVUsuZGV0YWlscy5nZXRBbmNlc3RvcihzdW1tYXJ5LCAnc3VtbWFyeScpKSkge1xuICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEdPVlVLLmRldGFpbHMuc3RhdGVjaGFuZ2Uoc3VtbWFyeSlcbiAgICAgIH0pXG4gICAgfSxcblxuICAgIC8vIERlZmluZSBhIHN0YXRlY2hhbmdlIGZ1bmN0aW9uIHRoYXQgdXBkYXRlcyBhcmlhLWV4cGFuZGVkIGFuZCBzdHlsZS5kaXNwbGF5XG4gICAgLy8gQWxzbyB1cGRhdGUgdGhlIGFycm93IHBvc2l0aW9uXG4gICAgc3RhdGVjaGFuZ2U6IGZ1bmN0aW9uIChzdW1tYXJ5KSB7XG4gICAgICB2YXIgZXhwYW5kZWQgPSBzdW1tYXJ5Ll9fZGV0YWlscy5fX3N1bW1hcnkuZ2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJykgPT09ICd0cnVlJ1xuICAgICAgdmFyIGhpZGRlbiA9IHN1bW1hcnkuX19kZXRhaWxzLl9fY29udGVudC5nZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJykgPT09ICd0cnVlJ1xuXG4gICAgICBzdW1tYXJ5Ll9fZGV0YWlscy5fX3N1bW1hcnkuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgKGV4cGFuZGVkID8gJ2ZhbHNlJyA6ICd0cnVlJykpXG4gICAgICBzdW1tYXJ5Ll9fZGV0YWlscy5fX2NvbnRlbnQuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsIChoaWRkZW4gPyAnZmFsc2UnIDogJ3RydWUnKSlcblxuICAgICAgaWYgKCFHT1ZVSy5kZXRhaWxzLk5BVElWRV9ERVRBSUxTKSB7XG4gICAgICAgIHN1bW1hcnkuX19kZXRhaWxzLl9fY29udGVudC5zdHlsZS5kaXNwbGF5ID0gKGV4cGFuZGVkID8gJ25vbmUnIDogJycpXG5cbiAgICAgICAgdmFyIGhhc09wZW5BdHRyID0gc3VtbWFyeS5fX2RldGFpbHMuZ2V0QXR0cmlidXRlKCdvcGVuJykgIT09IG51bGxcbiAgICAgICAgaWYgKCFoYXNPcGVuQXR0cikge1xuICAgICAgICAgIHN1bW1hcnkuX19kZXRhaWxzLnNldEF0dHJpYnV0ZSgnb3BlbicsICdvcGVuJylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdW1tYXJ5Ll9fZGV0YWlscy5yZW1vdmVBdHRyaWJ1dGUoJ29wZW4nKVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChzdW1tYXJ5Ll9fdHdpc3R5KSB7XG4gICAgICAgIHN1bW1hcnkuX190d2lzdHkuZmlyc3RDaGlsZC5ub2RlVmFsdWUgPSAoZXhwYW5kZWQgPyAnXFx1MjViYScgOiAnXFx1MjViYycpXG4gICAgICAgIHN1bW1hcnkuX190d2lzdHkuc2V0QXR0cmlidXRlKCdjbGFzcycsIChleHBhbmRlZCA/ICdhcnJvdyBhcnJvdy1jbG9zZWQnIDogJ2Fycm93IGFycm93LW9wZW4nKSlcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRydWVcbiAgICB9LFxuXG4gICAgZGVzdHJveTogZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgIEdPVlVLLmRldGFpbHMucmVtb3ZlRXZlbnQobm9kZSwgJ2NsaWNrJylcbiAgICB9LFxuXG4gICAgLy8gQmluZCB0d28gbG9hZCBldmVudHMgZm9yIG1vZGVybiBhbmQgb2xkZXIgYnJvd3NlcnNcbiAgICAvLyBJZiB0aGUgZmlyc3Qgb25lIGZpcmVzIGl0IHdpbGwgc2V0IGEgZmxhZyB0byBibG9jayB0aGUgc2Vjb25kIG9uZVxuICAgIC8vIGJ1dCBpZiBpdCdzIG5vdCBzdXBwb3J0ZWQgdGhlbiB0aGUgc2Vjb25kIG9uZSB3aWxsIGZpcmVcbiAgICBpbml0OiBmdW5jdGlvbiAoJGNvbnRhaW5lcikge1xuICAgICAgR09WVUsuZGV0YWlscy5hZGRFdmVudChkb2N1bWVudCwgJ0RPTUNvbnRlbnRMb2FkZWQnLCBHT1ZVSy5kZXRhaWxzLmFkZERldGFpbHNQb2x5ZmlsbClcbiAgICAgIEdPVlVLLmRldGFpbHMuYWRkRXZlbnQod2luZG93LCAnbG9hZCcsIEdPVlVLLmRldGFpbHMuYWRkRGV0YWlsc1BvbHlmaWxsKVxuICAgIH1cbiAgfVxuICBnbG9iYWwuR09WVUsgPSBHT1ZVS1xufSkod2luZG93KVxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBOU0EgPSBOU0EgfHwge307XG52YXIgZmlsdGVyQm94ZXMgPSAkKCcuZmlsdGVyLWJveCcpO1xuXG5OU0EuZmlsdGVycyA9IHtcbiAgaW5pdDogZnVuY3Rpb24gKCkge1xuICAgIGZpbHRlckJveGVzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGF0ID0gJCh0aGlzKSxcbiAgICAgICAgICBoZWFkZXIgPSAkdGhhdC5maW5kKCcuY29udGFpbmVyLWhlYWQnKSxcbiAgICAgICAgICB0aXRsZSA9IGhlYWRlci5maW5kKCcub3B0aW9uLXNlbGVjdC1sYWJlbCcpLFxuICAgICAgICAgIGNoZWNrYm94ZXMgPSAkdGhhdC5maW5kKCdpbnB1dDpjaGVja2JveCcpLFxuICAgICAgICAgIGJ1dHRvbiA9ICQoJzxidXR0b24gLz4nKS5hZGRDbGFzcygnanMtY29udGFpbmVyLWhlYWQnKSxcbiAgICAgICAgICBjaGVja0NvdW50ID0gJCgnPGRpdiAvPicpLmFkZENsYXNzKCdqcy1zZWxlY3RlZC1jb3VudGVyJyk7XG5cbiAgICAgIGJ1dHRvbi5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgb3B0aW9ucyA9ICQodGhpcykubmV4dCgpO1xuICAgICAgICBpZiAoJCh0aGlzKS5oYXNDbGFzcygnY2xvc2VkJykpIHtcbiAgICAgICAgICBvcHRpb25zLnNob3coKTtcbiAgICAgICAgICAkKHRoaXMpXG4gICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ2Nsb3NlZCcpXG4gICAgICAgICAgICAuYXR0cignYXJpYS1leHBhbmRlZCcsIHRydWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9wdGlvbnMuaGlkZSgpO1xuICAgICAgICAgICQodGhpcylcbiAgICAgICAgICAgIC5hZGRDbGFzcygnY2xvc2VkJylcbiAgICAgICAgICAgIC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH0pLmFwcGVuZCh0aXRsZSwgY2hlY2tDb3VudCk7XG5cbiAgICAgIGhlYWRlci5yZXBsYWNlV2l0aChidXR0b24pO1xuXG4gICAgICBjaGVja2JveGVzLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNoZWNrQ291bnQudGV4dChmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gY2hlY2tib3hlcy5maWx0ZXIoJzpjaGVja2VkJykubGVuZ3RoID4gMCA/IGNoZWNrYm94ZXMuZmlsdGVyKCc6Y2hlY2tlZCcpLmxlbmd0aCArICcgc2VsZWN0ZWQnIDogJyc7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cblxuaWYgKGZpbHRlckJveGVzLmxlbmd0aCA+IDApIHtcbiAgTlNBLmZpbHRlcnMuaW5pdCgpO1xufVxuIiwidmFyIGdhRXZlbnQgPSAkKCcjZ2EtZXZlbnQnKTtcblxuaWYgKGdhRXZlbnQubGVuZ3RoID4gMCkge1xuICB2YXIgY2F0ZWdvcnkgPSBnYUV2ZW50LmRhdGEoJ2NhdGVnb3J5JyksXG4gICAgbGFiZWwgPSBnYUV2ZW50LmRhdGEoJ2xhYmVsJyksXG4gICAgZXZlbnQgPSBnYUV2ZW50LmRhdGEoJ2V2ZW50Jyk7XG5cbiAgaWYgKGV2ZW50ICE9PSAnJyAmJiBsYWJlbCAhPT0gJycgJiYgY2F0ZWdvcnkgIT09ICcnKSB7XG4gICAgZ3RhZygnZXZlbnQnLCBldmVudCwge1xuICAgICAgZXZlbnRfY2F0ZWdvcnk6IGNhdGVnb3J5LFxuICAgICAgZXZlbnRfbGFiZWw6IGxhYmVsLFxuICAgIH0pO1xuICB9XG59XG5cbiQoJy5ub3RpZmljYXRpb24gYScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgaWYgKCQodGhpcykuZGF0YSgnY2xpZW50aWQnKSkge1xuICAgIGd0YWcoJ2V2ZW50JywgJ2Rvd25sb2FkJywge1xuICAgICAgZXZlbnRfY2F0ZWdvcnk6ICdtaWdyYXRpb24taGVscC1wZGYnLFxuICAgICAgZXZlbnRfbGFiZWw6ICQodGhpcykuZGF0YSgnY2xpZW50aWQnKSxcbiAgICB9KTtcbiAgfVxufSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIE5TQSA9IE5TQSB8fCB7fTtcblxuTlNBLnNpZ25pbiA9IHtcbiAgZm9ybTogJCgnLmZvcm0tc2lnbmluJyksXG4gIGluaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLnNldHVwRXZlbnRzKCk7XG4gIH0sXG4gIHNldHVwRXZlbnRzOiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mb3JtLm9uKCdzdWJtaXQnLCB0aGlzLCB0aGlzLmhhbmRsZVN1Ym1pdCk7XG4gIH0sXG4gIGhhbmRsZVN1Ym1pdDogZnVuY3Rpb24gKGUpIHtcblxuICAgIHZhciAkZm9ybSA9ICQodGhpcyk7XG4gICAgdmFyICRpbnB1dHMgPSAkZm9ybS5maW5kKCdpbnB1dCcpLm5vdCgnOmNoZWNrYm94JyksIHBvc3REYXRhID0ge30sICRzdWJtaXRCdXR0b25zID0gJCh0aGlzKS5maW5kKCdidXR0b246c3VibWl0JyksICRzdWJtaXRCdXR0b24gPSAkc3VibWl0QnV0dG9ucy5lcSgwKTtcblxuICAgICRzdWJtaXRCdXR0b25zLmF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG5cbiAgICAkc3VibWl0QnV0dG9uLmNzcygnbWluLXdpZHRoJywgJHN1Ym1pdEJ1dHRvbi5vdXRlcldpZHRoKCkgKyAncHgnKVxuXG4gICAgJHN1Ym1pdEJ1dHRvbi5maW5kKCcubG9hZGVyJykucmVtb3ZlQ2xhc3MoJ3ZoJyk7XG5cbiAgICAkaW5wdXRzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICBwb3N0RGF0YVt0aGlzLm5hbWVdID0gJCh0aGlzKS52YWwoKTtcbiAgICB9KTtcblxuICAgICQoJyNwYXNzd29yZCcpLnByb3AoJ3R5cGUnLCAncGFzc3dvcmQnKS5uZXh0KCkucmVtb3ZlQ2xhc3MoJ3R5cGUtcGFzc3dvcmQnKTtcblxuICAgICQuYWpheCh7XG4gICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICBkYXRhOiBwb3N0RGF0YSxcbiAgICAgIHVybDogJGZvcm0uYXR0cignYWN0aW9uJyksXG4gICAgICBjb250ZXh0OiBlLmRhdGEsXG4gICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgaWYgKGRhdGEucmVkaXJlY3QpIHtcbiAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGRhdGEudXJpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChkYXRhLmlzRmFpbGVkTG9naW4pIHtcbiAgICAgICAgICAgIHRoaXMucmVzZXRWYWxpZGF0aW9uKCRmb3JtKTtcbiAgICAgICAgICAgIHRoaXMuc2hvd1ZhbGlkYXRpb25NZXNzYWdlKGRhdGEudmFsaWRhdGlvbk1lc3NhZ2VzKTtcbiAgICAgICAgICAgIHRoaXMuc2hvd0lubGluZVZhbGlkYXRpb24oZGF0YS52YWxpZGF0aW9uTWVzc2FnZXMpO1xuICAgICAgICAgICAgJHN1Ym1pdEJ1dHRvbnMucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICRzdWJtaXRCdXR0b24uZmluZCgnLmxvYWRlcicpLmFkZENsYXNzKCd2aCcpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBndGFnKCdldmVudCcsICdTdWNjZXNzZnVsIGxvZ2luJywge1xuICAgICAgICAgICAgICBldmVudF9jYXRlZ29yeTogJ0xvZ2luJyxcbiAgICAgICAgICAgICAgZXZlbnRfbGFiZWw6IGdldFBhcmFtZXRlckJ5TmFtZSgnY2xpZW50aWQnKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5idWlsZEZvcm1BbmRTdWJtaXQoZGF0YSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgZXJyb3I6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnJlc2V0VmFsaWRhdGlvbigkZm9ybSk7XG4gICAgICAgIHRoaXMuc2hvd1ZhbGlkYXRpb25NZXNzYWdlKCk7XG4gICAgICAgICRzdWJtaXRCdXR0b25zLnJlbW92ZUF0dHIoJ2Rpc2FibGVkJyk7XG4gICAgICAgICRzdWJtaXRCdXR0b24uZmluZCgnLmxvYWRlcicpLmFkZENsYXNzKCd2aCcpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgfSxcbiAgcmVzZXRWYWxpZGF0aW9uOiBmdW5jdGlvbiAoJGZvcm0pIHtcblxuICAgIHZhciAkZm9ybUdyb3VwcyA9ICRmb3JtLmZpbmQoJy5mb3JtLWdyb3VwJyk7XG5cbiAgICAkKCcuZXJyb3Itc3VtbWFyeScpLnJlbW92ZSgpO1xuXG4gICAgJGZvcm1Hcm91cHMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJGZpZWxkID0gJCh0aGlzKS5maW5kKCdpbnB1dCcpLmVxKDApO1xuICAgICAgaWYgKCQodGhpcykuaGFzQ2xhc3MoJ2Zvcm0tZ3JvdXAtZXJyb3InKSkge1xuICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdmb3JtLWdyb3VwLWVycm9yJyk7XG4gICAgICAgICQodGhpcykuZmluZCgncC5lcnJvci1tZXNzYWdlJykucmVtb3ZlKCk7XG4gICAgICAgICRmaWVsZC5yZW1vdmVBdHRyKCdhcmlhLWRlc2NyaWJlZGJ5JykucmVtb3ZlQXR0cignYXJpYS1pbnZhbGlkJyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG5cbiAgc2hvd1ZhbGlkYXRpb25NZXNzYWdlOiBmdW5jdGlvbiAobWVzc2FnZXMpIHtcblxuICAgIHZhciAkZGl2ID0gJCgnPGRpdiAvPicpLmF0dHIoJ2NsYXNzJywgJ2Vycm9yLXN1bW1hcnknKS5hdHRyKCdyb2xlJywgJ2FsZXJ0JykuYXR0cigndGFiaW5kZXgnLCAnLTEnKTtcbiAgICB2YXIgJGgyID0gJCgnPGgyIC8+JykuYXR0cignY2xhc3MnLCAnaGVhZGluZy1tZWRpdW0gZXJyb3Itc3VtbWFyeS1oZWFkaW5nJykuYXR0cignaWQnLCAnZXJyb3Itc3VtbWFyeScpO1xuICAgIHZhciAkdWwgPSAkKCc8dWwgLz4nKS5hdHRyKCdjbGFzcycsICdlcnJvci1zdW1tYXJ5LWxpc3QnKTtcblxuICAgIGlmIChtZXNzYWdlcykge1xuICAgICAgJGgyLnRleHQoJ0luZm9ybWF0aW9uIG1pc3Npbmcgb3IgaW5jb3JyZWN0Jyk7XG4gICAgICAkLmVhY2gobWVzc2FnZXMsIGZ1bmN0aW9uIChpbmRleCwgdmFsdWUpIHtcbiAgICAgICAgaWYgKGluZGV4ID09PSAnbG9naW5FcnJvcicpIHtcbiAgICAgICAgICBpbmRleCA9ICd1c2VybmFtZSc7XG4gICAgICAgICAgZ3RhZygnZXZlbnQnLCAnRmFpbGVkIGxvZ2luJywge1xuICAgICAgICAgICAgZXZlbnRfY2F0ZWdvcnk6ICdMb2dpbicsXG4gICAgICAgICAgICBldmVudF9sYWJlbDogJ1VzZXJzIGxvZ2luIGNyZWRlbnRpYWxzIHdlcmUgd3JvbmcnLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHZhciAkYSA9ICQoJzxhIC8+JykuYXR0cignaHJlZicsICcjJyArIGluZGV4KS50ZXh0KHZhbHVlKTtcbiAgICAgICAgdmFyICRsaSA9ICQoJzxsaSAvPicpLmFwcGVuZCgkYSk7XG4gICAgICAgICR1bC5hcHBlbmQoJGxpKTtcbiAgICAgIH0pO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgICRoMi50ZXh0KCdUaGVyZSBoYXMgYmVlbiBhbiBlcnJvcicpO1xuICAgICAgdmFyICRsaSA9ICQoJzxsaSAvPicpLmh0bWwoJ1BsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuIElmIHRoZSBwcm9ibGVtIGNvbnRpbnVlcywgZm9sbG93IHRoZSBsaW5rIHRvIDxhIGhyZWY9XCJodHRwczovL2hlbHAuc2lnbmluLmVkdWNhdGlvbi5nb3YudWsvY29udGFjdC9mb3JtXCI+c3VibWl0IGEgc3VwcG9ydCByZXF1ZXN0PC9hPicpO1xuICAgICAgJHVsLmFwcGVuZCgkbGkpO1xuICAgICAgZ3RhZygnZXZlbnQnLCAnRXJyb3Igb2NjdXJyZWQnLCB7XG4gICAgICAgIGV2ZW50X2NhdGVnb3J5OiAnTG9naW4nLFxuICAgICAgICBldmVudF9sYWJlbDogJ0Egc2VydmVyIGVycm9yIG9jY3VycmVkIGR1cmluZyBsb2dpbicsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAkZGl2LmFwcGVuZCgkaDIpLmFwcGVuZCgkdWwpO1xuICAgICQoJ21haW4nKS5wcmVwZW5kKCRkaXYpO1xuXG4gICAgJCgnaHRtbCwgYm9keScpLmFuaW1hdGUoe1xuICAgICAgc2Nyb2xsVG9wOiAkZGl2Lm9mZnNldCgpLnRvcCAtIDE1XG4gICAgfSwgMzAwKTtcblxuICB9LFxuICBzaG93SW5saW5lVmFsaWRhdGlvbjogZnVuY3Rpb24obWVzc2FnZXMpIHtcblxuICAgICQuZWFjaChtZXNzYWdlcywgZnVuY3Rpb24oIGluZGV4LCB2YWx1ZSApIHtcbiAgICAgIHZhciAkZmllbGQgPSAkKCdpbnB1dFtuYW1lPScgKyBpbmRleCArICddJyksXG4gICAgICAgICRwYXJlbnQgPSAkZmllbGQucGFyZW50KCk7XG5cbiAgICAgIGlmICgkcGFyZW50Lmhhc0NsYXNzKCdzaG93LXBhc3N3b3JkJykpIHtcbiAgICAgICAgJHBhcmVudCA9ICRwYXJlbnQucGFyZW50KCk7XG4gICAgICB9XG5cbiAgICAgIHZhciAkbGFiZWwgPSAkcGFyZW50LmZpbmQoJ2xhYmVsJykuZmlyc3QoKTtcblxuICAgICAgaWYgKCEkcGFyZW50Lmhhc0NsYXNzKCdmb3JtLWdyb3VwLWVycm9yJykpIHtcblxuICAgICAgICB2YXIgZXJyb3JNZXNzYWdlID0gJCgnPHA+JylcbiAgICAgICAgICAuaHRtbCh2YWx1ZSlcbiAgICAgICAgICAucHJvcCgnY2xhc3MnLCAnZXJyb3ItbWVzc2FnZScpXG4gICAgICAgICAgLnByb3AoJ2lkJywgJ3ZhbGlkYXRpb24tJyArIGluZGV4KTtcbiAgICAgIH1cblxuICAgICAgJGxhYmVsLmFmdGVyKGVycm9yTWVzc2FnZSk7XG4gICAgICAkcGFyZW50LmFkZENsYXNzKCdmb3JtLWdyb3VwLWVycm9yJyk7XG4gICAgICAkZmllbGQuYXR0cih7XG4gICAgICAgICdhcmlhLWRlc2NyaWJlZGJ5JyA6ICd2YWxpZGF0aW9uLScgKyBpbmRleCxcbiAgICAgICAgJ2FyaWEtaW52YWxpZCc6ICd0cnVlJ1xuICAgICAgfSk7XG5cbiAgICB9KTtcblxuICB9LFxuICBidWlsZEZvcm1BbmRTdWJtaXQ6IGZ1bmN0aW9uIChkYXRhKSB7XG5cbiAgICB2YXIgJGZvcm0gPSAkKCc8Zm9ybSAvPicpLmF0dHIoe1xuICAgICAgbWV0aG9kOiAncG9zdCcsXG4gICAgICBhY3Rpb246IGRhdGEuZGVzdGluYXRpb24sXG4gICAgICBpZDogJ2RmZXNpZ25pbmZvcm0nXG4gICAgfSk7XG5cbiAgICAkLmVhY2goZGF0YS5wb3N0YmFja0RhdGEsIGZ1bmN0aW9uKCBpbmRleCwgdmFsdWUgKSB7XG4gICAgICB2YXIgJGZpZWxkID0gJCgnPGlucHV0IC8+JykuYXR0cih7XG4gICAgICAgIHR5cGU6ICdoaWRkZW4nLFxuICAgICAgICBuYW1lOiBpbmRleCxcbiAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICB9KTtcbiAgICAgICRmb3JtLmFwcGVuZCgkZmllbGQpO1xuICAgIH0pO1xuXG4gICAgJCgnI2RmZXNpZ25pbmZvcm0nKS5yZW1vdmUoKTtcbiAgICAkKCdib2R5JykuYXBwZW5kKCRmb3JtKTtcbiAgICAkZm9ybS5zdWJtaXQoKTtcbiAgfSxcbn07XG5cbmlmICgkKCcuZm9ybS1zaWduaW4nKS5sZW5ndGggPiAwKSB7XG4gIE5TQS5zaWduaW4uaW5pdCgpO1xufVxuXG5mdW5jdGlvbiBnZXRQYXJhbWV0ZXJCeU5hbWUobmFtZSwgdXJsKSB7XG4gIGlmICghdXJsKSB1cmwgPSB3aW5kb3cubG9jYXRpb24uaHJlZjtcbiAgbmFtZSA9IG5hbWUucmVwbGFjZSgvW1xcW1xcXV0vZywgXCJcXFxcJCZcIik7XG4gIHZhciByZWdleCA9IG5ldyBSZWdFeHAoXCJbPyZdXCIgKyBuYW1lICsgXCIoPShbXiYjXSopfCZ8I3wkKVwiKSxcbiAgICByZXN1bHRzID0gcmVnZXguZXhlYyh1cmwpO1xuICBpZiAoIXJlc3VsdHMpIHJldHVybiBudWxsO1xuICBpZiAoIXJlc3VsdHNbMl0pIHJldHVybiAnJztcbiAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChyZXN1bHRzWzJdLnJlcGxhY2UoL1xcKy9nLCBcIiBcIikpO1xufVxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmZ1bmN0aW9uIHNvcnRUYWJsZShuKSB7XG4gIHZhciB0YWJsZSwgcm93cywgc3dpdGNoaW5nLCBpLCB4LCB5LCBzaG91bGRTd2l0Y2gsIGRpcmVjdGlvbiwgc3dpdGNoY291bnQgPSAwO1xuICB0YWJsZSA9ICQoJ3RhYmxlLnNvcnRhYmxlJyk7XG4gIHN3aXRjaGluZyA9IHRydWU7XG4gIGRpcmVjdGlvbiA9ICdhJztcblxuICB3aGlsZSAoc3dpdGNoaW5nKSB7XG5cbiAgICBzd2l0Y2hpbmcgPSBmYWxzZTtcbiAgICByb3dzID0gdGFibGUuZmluZCgndHInKTtcblxuICAgIGZvciAoaSA9IDE7IGkgPCAocm93cy5sZW5ndGggLSAxKTsgaSsrKSB7XG5cbiAgICAgIHNob3VsZFN3aXRjaCA9IGZhbHNlO1xuXG4gICAgICB4ID0gcm93c1tpXS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnVEQnKVtuXTtcbiAgICAgIHkgPSByb3dzW2kgKyAxXS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnVEQnKVtuXTtcblxuICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gJ2EnKSB7XG4gICAgICAgIGlmICh4LmlubmVySFRNTC50b0xvd2VyQ2FzZSgpID4geS5pbm5lckhUTUwudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICAgIHNob3VsZFN3aXRjaCA9IHRydWU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSAnZCcpIHtcbiAgICAgICAgaWYgKHguaW5uZXJIVE1MLnRvTG93ZXJDYXNlKCkgPCB5LmlubmVySFRNTC50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgICAgc2hvdWxkU3dpdGNoID0gdHJ1ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzaG91bGRTd2l0Y2gpIHtcblxuICAgICAgcm93c1tpXS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShyb3dzW2kgKyAxXSwgcm93c1tpXSk7XG4gICAgICBzd2l0Y2hpbmcgPSB0cnVlO1xuXG4gICAgICBzd2l0Y2hjb3VudCArKztcblxuICAgIH0gZWxzZSB7XG5cbiAgICAgIGlmIChzd2l0Y2hjb3VudCA9PT0gMCAmJiBkaXJlY3Rpb24gPT09ICdhJykge1xuICAgICAgICBkaXJlY3Rpb24gPSAnZCc7XG4gICAgICAgIHN3aXRjaGluZyA9IHRydWU7XG4gICAgICB9XG5cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGRpcmVjdGlvbjtcbn1cblxuJChmdW5jdGlvbiAoKSB7XG5cbiAgJCgndGFibGUuc29ydGFibGUgdGhlYWQgdGgnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG5cbiAgICB2YXIgaGVhZGluZ0NlbGxzID0gJCgndGFibGUuc29ydGFibGUgdGhlYWQgdHIgdGgnKTtcblxuICAgIGhlYWRpbmdDZWxscy5yZW1vdmVDbGFzcygnc29ydGVkJykucmVtb3ZlQ2xhc3MoJ2Rpci1hJykucmVtb3ZlQ2xhc3MoJ2Rpci1kJyk7XG5cbiAgICB2YXIgaW5kZXggPSBoZWFkaW5nQ2VsbHMuaW5kZXgoJCh0aGlzKSk7XG5cbiAgICB2YXIgZGlyZWN0aW9uID0gc29ydFRhYmxlKGluZGV4KTtcblxuICAgICQodGhpcykuYWRkQ2xhc3MoJ3NvcnRlZCBkaXItJyArIGRpcmVjdGlvbik7XG5cbiAgfSk7XG5cbn0pO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBOU0EgPSBOU0EgfHwge307XG5cbk5TQS5tb2RhbCA9IHtcbiAgZWxlbXM6IHtcbiAgICBsaW5rczogJCgnLm1vZGFsLWxpbmsnKSxcbiAgICBtb2RhbHM6ICQoJy5tb2RhbCcpXG4gIH0sXG4gIGluaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLm1vZGFsQmcoKTtcbiAgICB0aGlzLnNldFVwRXZlbnRzKCk7XG4gIH0sXG4gIG1vZGFsQmc6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgdmFyIGJnID0gJCgnPGRpdj4nKS5hZGRDbGFzcygnbW9kYWwtYmcnKS5oaWRlKCkub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkgeyB0aGF0LmhpZGVNb2RhbHMoKTsgfSk7XG4gICAgJCgnYm9keScpLmFwcGVuZChiZyk7XG4gIH0sXG4gIHNldFVwRXZlbnRzOiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgIHRoaXMuZWxlbXMubGlua3Mub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciB0YXJnZXQgPSAkKHRoaXMpLmF0dHIoJ2hyZWYnKTtcbiAgICAgIHRoYXQuc2hvd01vZGFsKCQodGFyZ2V0KSk7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG5cbiAgICB0aGF0LmVsZW1zLm1vZGFscy5maW5kKCcuY2xvc2UnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgdGhhdC5oaWRlTW9kYWxzKCk7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG5cbiAgICAkKCdib2R5Jykub24oJ2tleWRvd24nLCBmdW5jdGlvbiAoZSkge1xuICAgICAgaWYgKChlLmtleUNvZGUgfHwgZS53aGljaCkgPT09IDI3KVxuICAgICAgICB0aGF0LmhpZGVNb2RhbHMoKTtcbiAgICB9KTtcbiAgfSxcbiAgc2hvd01vZGFsOiBmdW5jdGlvbiAobW9kYWwpIHtcbiAgICAkKCdodG1sJykuYWRkQ2xhc3MoJ21vZGFsLW9wZW4nKTtcbiAgICAkKCcubW9kYWwtYmcnKS5zaG93KCk7XG4gICAgbW9kYWwuc2hvdygpO1xuICB9LFxuICBoaWRlTW9kYWxzOiBmdW5jdGlvbiAoKSB7XG4gICAgJCgnaHRtbCcpLnJlbW92ZUNsYXNzKCdtb2RhbC1vcGVuJyk7XG4gICAgJCgnLm1vZGFsLWJnJykuaGlkZSgpO1xuICAgIHRoaXMuZWxlbXMubW9kYWxzLmhpZGUoKTtcbiAgfVxufVxuXG5OU0EubW9kYWwuaW5pdCgpO1xuIiwiOyhmdW5jdGlvbiAoZ2xvYmFsKSB7XG4gICd1c2Ugc3RyaWN0J1xuXG4gIHZhciAkID0gZ2xvYmFsLmpRdWVyeVxuICB2YXIgR09WVUsgPSBnbG9iYWwuR09WVUsgfHwge31cblxuICBmdW5jdGlvbiBTaG93SGlkZUNvbnRlbnQgKCkge1xuICAgIHZhciBzZWxmID0gdGhpc1xuXG4gICAgLy8gUmFkaW8gYW5kIENoZWNrYm94IHNlbGVjdG9yc1xuICAgIHZhciBzZWxlY3RvcnMgPSB7XG4gICAgICBuYW1lc3BhY2U6ICdTaG93SGlkZUNvbnRlbnQnLFxuICAgICAgcmFkaW86ICdbZGF0YS10YXJnZXRdID4gaW5wdXRbdHlwZT1cInJhZGlvXCJdJyxcbiAgICAgIGNoZWNrYm94OiAnW2RhdGEtdGFyZ2V0XSA+IGlucHV0W3R5cGU9XCJjaGVja2JveFwiXScsXG4gICAgICBsaW5rOiAnYS5qcy10b2dnbGUtY29udGVudCdcbiAgICB9XG5cbiAgICAvLyBFc2NhcGUgbmFtZSBhdHRyaWJ1dGUgZm9yIHVzZSBpbiBET00gc2VsZWN0b3JcbiAgICBmdW5jdGlvbiBlc2NhcGVFbGVtZW50TmFtZSAoc3RyKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gc3RyLnJlcGxhY2UoJ1snLCAnXFxcXFsnKS5yZXBsYWNlKCddJywgJ1xcXFxdJylcbiAgICAgIHJldHVybiByZXN1bHRcbiAgICB9XG5cbiAgICAvLyBBZGRzIEFSSUEgYXR0cmlidXRlcyB0byBjb250cm9sICsgYXNzb2NpYXRlZCBjb250ZW50XG4gICAgZnVuY3Rpb24gaW5pdFRvZ2dsZWRDb250ZW50ICgpIHtcbiAgICAgIHZhciAkY29udHJvbCA9ICQodGhpcylcbiAgICAgIHZhciAkY29udGVudCA9IGdldFRvZ2dsZWRDb250ZW50KCRjb250cm9sKVxuXG4gICAgICAvLyBTZXQgYXJpYS1jb250cm9scyBhbmQgZGVmYXVsdHNcbiAgICAgIGlmICgkY29udGVudC5sZW5ndGgpIHtcbiAgICAgICAgJGNvbnRyb2wuYXR0cignYXJpYS1jb250cm9scycsICRjb250ZW50LmF0dHIoJ2lkJykpXG4gICAgICAgICRjb250cm9sLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnKVxuICAgICAgICAkY29udGVudC5hdHRyKCdhcmlhLWhpZGRlbicsICd0cnVlJylcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSZXR1cm4gdG9nZ2xlZCBjb250ZW50IGZvciBjb250cm9sXG4gICAgZnVuY3Rpb24gZ2V0VG9nZ2xlZENvbnRlbnQgKCRjb250cm9sKSB7XG4gICAgICB2YXIgaWQgPSAkY29udHJvbC5hdHRyKCdhcmlhLWNvbnRyb2xzJylcblxuICAgICAgLy8gQVJJQSBhdHRyaWJ1dGVzIGFyZW4ndCBzZXQgYmVmb3JlIGluaXRcbiAgICAgIGlmICghaWQpIHtcbiAgICAgICAgaWQgPSAkY29udHJvbC5jbG9zZXN0KCdbZGF0YS10YXJnZXRdJykuZGF0YSgndGFyZ2V0JylcbiAgICAgIH1cblxuICAgICAgLy8gRmluZCBzaG93L2hpZGUgY29udGVudCBieSBpZFxuICAgICAgcmV0dXJuICQoJyMnICsgaWQpXG4gICAgfVxuXG4gICAgLy8gU2hvdyB0b2dnbGVkIGNvbnRlbnQgZm9yIGNvbnRyb2xcbiAgICBmdW5jdGlvbiBzaG93VG9nZ2xlZENvbnRlbnQgKCRjb250cm9sLCAkY29udGVudCkge1xuICAgICAgLy8gU2hvdyBjb250ZW50XG4gICAgICBpZiAoJGNvbnRlbnQuaGFzQ2xhc3MoJ2pzLWhpZGRlbicpKSB7XG4gICAgICAgICRjb250ZW50LnJlbW92ZUNsYXNzKCdqcy1oaWRkZW4nKVxuICAgICAgICAkY29udGVudC5hdHRyKCdhcmlhLWhpZGRlbicsICdmYWxzZScpXG5cbiAgICAgICAgLy8gSWYgdGhlIGNvbnRyb2xsaW5nIGlucHV0LCB1cGRhdGUgYXJpYS1leHBhbmRlZFxuICAgICAgICBpZiAoJGNvbnRyb2wuYXR0cignYXJpYS1jb250cm9scycpKSB7XG4gICAgICAgICAgJGNvbnRyb2wuYXR0cignYXJpYS1leHBhbmRlZCcsICd0cnVlJylcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEhpZGUgdG9nZ2xlZCBjb250ZW50IGZvciBjb250cm9sXG4gICAgZnVuY3Rpb24gaGlkZVRvZ2dsZWRDb250ZW50ICgkY29udHJvbCwgJGNvbnRlbnQpIHtcbiAgICAgICRjb250ZW50ID0gJGNvbnRlbnQgfHwgZ2V0VG9nZ2xlZENvbnRlbnQoJGNvbnRyb2wpXG5cbiAgICAgIC8vIEhpZGUgY29udGVudFxuICAgICAgaWYgKCEkY29udGVudC5oYXNDbGFzcygnanMtaGlkZGVuJykpIHtcbiAgICAgICAgJGNvbnRlbnQuYWRkQ2xhc3MoJ2pzLWhpZGRlbicpXG4gICAgICAgICRjb250ZW50LmF0dHIoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKVxuXG4gICAgICAgIC8vIElmIHRoZSBjb250cm9sbGluZyBpbnB1dCwgdXBkYXRlIGFyaWEtZXhwYW5kZWRcbiAgICAgICAgaWYgKCRjb250cm9sLmF0dHIoJ2FyaWEtY29udHJvbHMnKSkge1xuICAgICAgICAgICRjb250cm9sLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIHJhZGlvIHNob3cvaGlkZVxuICAgIGZ1bmN0aW9uIGhhbmRsZVJhZGlvQ29udGVudCAoJGNvbnRyb2wsICRjb250ZW50KSB7XG4gICAgICAvLyBBbGwgcmFkaW9zIGluIHRoaXMgZ3JvdXAgd2hpY2ggY29udHJvbCBjb250ZW50XG4gICAgICB2YXIgc2VsZWN0b3IgPSBzZWxlY3RvcnMucmFkaW8gKyAnW25hbWU9JyArIGVzY2FwZUVsZW1lbnROYW1lKCRjb250cm9sLmF0dHIoJ25hbWUnKSkgKyAnXVthcmlhLWNvbnRyb2xzXSdcbiAgICAgIHZhciAkZm9ybSA9ICRjb250cm9sLmNsb3Nlc3QoJ2Zvcm0nKVxuICAgICAgdmFyICRyYWRpb3MgPSAkZm9ybS5sZW5ndGggPyAkZm9ybS5maW5kKHNlbGVjdG9yKSA6ICQoc2VsZWN0b3IpXG5cbiAgICAgIC8vIEhpZGUgY29udGVudCBmb3IgcmFkaW9zIGluIGdyb3VwXG4gICAgICAkcmFkaW9zLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICBoaWRlVG9nZ2xlZENvbnRlbnQoJCh0aGlzKSlcbiAgICAgIH0pXG5cbiAgICAgIC8vIFNlbGVjdCBjb250ZW50IGZvciB0aGlzIGNvbnRyb2xcbiAgICAgIGlmICgkY29udHJvbC5pcygnW2FyaWEtY29udHJvbHNdJykpIHtcbiAgICAgICAgc2hvd1RvZ2dsZWRDb250ZW50KCRjb250cm9sLCAkY29udGVudClcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgY2hlY2tib3ggc2hvdy9oaWRlXG4gICAgZnVuY3Rpb24gaGFuZGxlQ2hlY2tib3hDb250ZW50ICgkY29udHJvbCwgJGNvbnRlbnQpIHtcbiAgICAgIC8vIFNob3cgY2hlY2tib3ggY29udGVudFxuICAgICAgaWYgKCRjb250cm9sLmlzKCc6Y2hlY2tlZCcpKSB7XG4gICAgICAgIHNob3dUb2dnbGVkQ29udGVudCgkY29udHJvbCwgJGNvbnRlbnQpXG4gICAgICB9IGVsc2UgeyAvLyBIaWRlIGNoZWNrYm94IGNvbnRlbnRcbiAgICAgICAgaGlkZVRvZ2dsZWRDb250ZW50KCRjb250cm9sLCAkY29udGVudClcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgY2hlY2tib3ggc2hvdy9oaWRlXG4gICAgZnVuY3Rpb24gaGFuZGxlTGlua0NvbnRlbnQgKCRjb250cm9sLCAkY29udGVudCwgJGV2ZW50KSB7XG4gICAgICBpZiAoJGNvbnRlbnQuaGFzQ2xhc3MoJ2pzLWhpZGRlbicpKSB7XG4gICAgICAgIHNob3dUb2dnbGVkQ29udGVudCgkY29udHJvbCwgJGNvbnRlbnQpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBoaWRlVG9nZ2xlZENvbnRlbnQoJGNvbnRyb2wsICRjb250ZW50KVxuICAgICAgfVxuICAgICAgJGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICB9XG5cbiAgICAvLyBTZXQgdXAgZXZlbnQgaGFuZGxlcnMgZXRjXG4gICAgZnVuY3Rpb24gaW5pdCAoJGNvbnRhaW5lciwgZWxlbWVudFNlbGVjdG9yLCBldmVudFNlbGVjdG9ycywgaGFuZGxlcikge1xuICAgICAgJGNvbnRhaW5lciA9ICRjb250YWluZXIgfHwgJChkb2N1bWVudC5ib2R5KVxuXG4gICAgICAvLyBIYW5kbGUgY29udHJvbCBjbGlja3NcbiAgICAgIGZ1bmN0aW9uIGRlZmVycmVkIChldmVudCkge1xuICAgICAgICB2YXIgJGNvbnRyb2wgPSAkKHRoaXMpXG4gICAgICAgIGhhbmRsZXIoJGNvbnRyb2wsIGdldFRvZ2dsZWRDb250ZW50KCRjb250cm9sKSwgZXZlbnQpXG4gICAgICB9XG5cbiAgICAgIC8vIFByZXBhcmUgQVJJQSBhdHRyaWJ1dGVzXG4gICAgICB2YXIgJGNvbnRyb2xzID0gJChlbGVtZW50U2VsZWN0b3IpXG4gICAgICAkY29udHJvbHMuZWFjaChpbml0VG9nZ2xlZENvbnRlbnQpXG5cbiAgICAgIC8vIEhhbmRsZSBldmVudHNcbiAgICAgICQuZWFjaChldmVudFNlbGVjdG9ycywgZnVuY3Rpb24gKGlkeCwgZXZlbnRTZWxlY3Rvcikge1xuICAgICAgICAkY29udGFpbmVyLm9uKCdjbGljay4nICsgc2VsZWN0b3JzLm5hbWVzcGFjZSwgZXZlbnRTZWxlY3RvciwgZGVmZXJyZWQpXG4gICAgICB9KVxuXG4gICAgICAvLyBBbnkgYWxyZWFkeSA6Y2hlY2tlZCBvbiBpbml0P1xuICAgICAgaWYgKCRjb250cm9scy5pcygnOmNoZWNrZWQnKSkge1xuICAgICAgICAkY29udHJvbHMuZmlsdGVyKCc6Y2hlY2tlZCcpLmVhY2goZGVmZXJyZWQpXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gR2V0IGV2ZW50IHNlbGVjdG9ycyBmb3IgYWxsIHJhZGlvIGdyb3Vwc1xuICAgIGZ1bmN0aW9uIGdldEV2ZW50U2VsZWN0b3JzRm9yUmFkaW9Hcm91cHMgKCkge1xuICAgICAgdmFyIHJhZGlvR3JvdXBzID0gW11cblxuICAgICAgLy8gQnVpbGQgYW4gYXJyYXkgb2YgcmFkaW8gZ3JvdXAgc2VsZWN0b3JzXG4gICAgICByZXR1cm4gJChzZWxlY3RvcnMucmFkaW8pLm1hcChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBncm91cE5hbWUgPSAkKHRoaXMpLmF0dHIoJ25hbWUnKVxuXG4gICAgICAgIGlmICgkLmluQXJyYXkoZ3JvdXBOYW1lLCByYWRpb0dyb3VwcykgPT09IC0xKSB7XG4gICAgICAgICAgcmFkaW9Hcm91cHMucHVzaChncm91cE5hbWUpXG4gICAgICAgICAgcmV0dXJuICdpbnB1dFt0eXBlPVwicmFkaW9cIl1bbmFtZT1cIicgKyAkKHRoaXMpLmF0dHIoJ25hbWUnKSArICdcIl0nXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgLy8gU2V0IHVwIHJhZGlvIHNob3cvaGlkZSBjb250ZW50IGZvciBjb250YWluZXJcbiAgICBzZWxmLnNob3dIaWRlUmFkaW9Ub2dnbGVkQ29udGVudCA9IGZ1bmN0aW9uICgkY29udGFpbmVyKSB7XG4gICAgICBpbml0KCRjb250YWluZXIsIHNlbGVjdG9ycy5yYWRpbywgZ2V0RXZlbnRTZWxlY3RvcnNGb3JSYWRpb0dyb3VwcygpLCBoYW5kbGVSYWRpb0NvbnRlbnQpXG4gICAgfVxuXG4gICAgLy8gU2V0IHVwIGNoZWNrYm94IHNob3cvaGlkZSBjb250ZW50IGZvciBjb250YWluZXJcbiAgICBzZWxmLnNob3dIaWRlQ2hlY2tib3hUb2dnbGVkQ29udGVudCA9IGZ1bmN0aW9uICgkY29udGFpbmVyKSB7XG4gICAgICBpbml0KCRjb250YWluZXIsIHNlbGVjdG9ycy5jaGVja2JveCwgW3NlbGVjdG9ycy5jaGVja2JveF0sIGhhbmRsZUNoZWNrYm94Q29udGVudClcbiAgICB9XG5cbiAgICAvLyBTZXQgdXAgbGlua3Mgc2hvdy9oaWRlIGNvbnRlbnQgZm9yIGNvbnRhaW5lclxuICAgIHNlbGYuc2hvd0hpZGVMaW5rVG9nZ2xlZENvbnRlbnQgPSBmdW5jdGlvbiAoJGNvbnRhaW5lcikge1xuICAgICAgaW5pdCgkY29udGFpbmVyLCBzZWxlY3RvcnMubGluaywgW3NlbGVjdG9ycy5saW5rXSwgaGFuZGxlTGlua0NvbnRlbnQpXG4gICAgfVxuXG4gICAgLy8gUmVtb3ZlIGV2ZW50IGhhbmRsZXJzXG4gICAgc2VsZi5kZXN0cm95ID0gZnVuY3Rpb24gKCRjb250YWluZXIpIHtcbiAgICAgICRjb250YWluZXIgPSAkY29udGFpbmVyIHx8ICQoZG9jdW1lbnQuYm9keSlcbiAgICAgICRjb250YWluZXIub2ZmKCcuJyArIHNlbGVjdG9ycy5uYW1lc3BhY2UpXG4gICAgfVxuICB9XG5cbiAgU2hvd0hpZGVDb250ZW50LnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKCRjb250YWluZXIpIHtcbiAgICB0aGlzLnNob3dIaWRlUmFkaW9Ub2dnbGVkQ29udGVudCgkY29udGFpbmVyKVxuICAgIHRoaXMuc2hvd0hpZGVDaGVja2JveFRvZ2dsZWRDb250ZW50KCRjb250YWluZXIpXG4gICAgdGhpcy5zaG93SGlkZUxpbmtUb2dnbGVkQ29udGVudCgkY29udGFpbmVyKVxuICB9XG5cbiAgR09WVUsuU2hvd0hpZGVDb250ZW50ID0gU2hvd0hpZGVDb250ZW50XG4gIGdsb2JhbC5HT1ZVSyA9IEdPVlVLXG59KSh3aW5kb3cpXG4iLCJ2YXIgdG9nZ2xlVGlwcyA9ICQoJy50b2dnbGUtaGVscCcpO1xuXG50b2dnbGVUaXBzLmVhY2goZnVuY3Rpb24gKCkge1xuXG4gIHZhciAkdGhhdCxcbiAgICBsaXZlUmVnaW9uLFxuICAgIGNvbnRhaW5lcixcbiAgICB0b2dnbGVUaXA7XG5cbiAgJHRoYXQgPSAkKHRoaXMpO1xuXG4gIGNvbnRhaW5lciA9ICQoJzxzcGFuIC8+JykuYXR0cignY2xhc3MnLCAndG9nZ2xldGlwJyk7XG5cbiAgdG9nZ2xlVGlwID0gJCgnPGJ1dHRvbiAvPicpXG4gICAgLmF0dHIoJ3R5cGUnLCAnYnV0dG9uJylcbiAgICAuYXR0cignYXJpYS1sYWJlbCcsICdIZWxwJylcbiAgICAuYXR0cignZGF0YS10b2dnbGV0aXAtY29udGVudCcsICR0aGF0Lmh0bWwoKSlcbiAgICAudGV4dCgnPycpXG4gICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBtZXNzYWdlID0gJCh0aGlzKS5kYXRhKCd0b2dnbGV0aXAtY29udGVudCcpO1xuICAgICAgdmFyIGxpdmVSZWdpb24gPSAkKHRoaXMpLm5leHQoKTtcbiAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbGl2ZVJlZ2lvbi5odG1sKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gJCgnPHNwYW4gLz4nKVxuICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICByZXR1cm4gJHRoYXQuaHRtbCgpLmxlbmd0aCA+IDUwID8gJ2J1YmJsZSBsb25nJyA6ICdidWJibGUnXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnRleHQobWVzc2FnZSlcbiAgICAgICAgfSlcbiAgICAgIH0sIDEwMCk7XG4gICAgfSlcbiAgICAub24oJ2tleWRvd24nLCBmdW5jdGlvbiAoZSkge1xuICAgICAgaWYgKChlLmtleUNvZGUgfHwgZS53aGljaCkgPT09IDI3KVxuICAgICAgICBsaXZlUmVnaW9uLmh0bWwoJycpO1xuICAgIH0pO1xuXG4gIGxpdmVSZWdpb24gPSAkKCc8c3BhbiAvPicpXG4gICAgLmF0dHIoJ3JvbGUnLCAnc3RhdHVzJyk7XG5cbiAgY29udGFpbmVyLmFwcGVuZCh0b2dnbGVUaXAsIGxpdmVSZWdpb24pO1xuXG4gICR0aGF0LmJlZm9yZShjb250YWluZXIpLnJlbW92ZSgpO1xuXG4gICQoZG9jdW1lbnQpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgaWYgKCR0aGF0WzBdICE9PSAkKGUudGFyZ2V0KSkge1xuICAgICAgbGl2ZVJlZ2lvbi5odG1sKCcnKTtcbiAgICB9XG4gIH0pO1xuXG59KTtcbiIsInZhciBmb3JtcyA9ICQoJyNjb250ZW50IGZvcm0nKTtcbi8vdmFyIGlucHV0cyA9IGZvcm1zLmZpbmQoJy5mb3JtLWdyb3VwIGlucHV0Jyk7XG5cbmZvcm1zLmF0dHIoJ25vdmFsaWRhdGUnLCAnbm92YWxpZGF0ZScpO1xuXG4vKlxuZm9ybXMub24oJ3N1Ym1pdCcsIGZ1bmN0aW9uICgpIHtcbiAgaW5wdXRzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgIHZhciByZXN1bHQgPSB0aGlzLmNoZWNrVmFsaWRpdHkoKTtcbiAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgc2hvd1ZhbGlkYXRpb25NZXNzYWdlKHRoaXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBoaWRlVmFsaWRhdGlvbk1lc3NhZ2UodGhpcyk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHRoaXMuY2hlY2tWYWxpZGl0eSgpO1xufSk7XG5cbmlucHV0cy5vbignYmx1cicsIGZ1bmN0aW9uICgpIHtcbiAgdmFyIHJlc3VsdCA9IHRoaXMuY2hlY2tWYWxpZGl0eSgpO1xuICBpZiAoIXJlc3VsdCkge1xuICAgIHNob3dWYWxpZGF0aW9uTWVzc2FnZSh0aGlzKTtcbiAgfSBlbHNlIHtcbiAgICBoaWRlVmFsaWRhdGlvbk1lc3NhZ2UodGhpcyk7XG4gIH1cbn0pO1xuXG52YXIgc2hvd1ZhbGlkYXRpb25NZXNzYWdlID0gZnVuY3Rpb24gKGZpZWxkKSB7XG5cbiAgdmFyIGZpZWxkID0gZmllbGQsXG4gICAgJGZpZWxkID0gJChmaWVsZCksXG4gICAgJHBhcmVudCA9ICRmaWVsZC5wYXJlbnQoKTtcblxuICBpZiAoJHBhcmVudC5oYXNDbGFzcygnc2hvdy1wYXNzd29yZCcpKSB7XG4gICAgJHBhcmVudCA9ICRwYXJlbnQucGFyZW50KCk7XG4gIH1cblxuICBpZiAoISRwYXJlbnQuaGFzQ2xhc3MoJ2Zvcm0tZ3JvdXAtZXJyb3InKSkge1xuXG4gICAgdmFyIGxhYmVsVGV4dCA9ICRmaWVsZC5kYXRhKCdsYWJlbCcpIHx8ICQoXCJsYWJlbFtmb3I9J1wiICsgJGZpZWxkLmF0dHIoJ2lkJykgKyBcIiddXCIpLnRleHQoKSxcbiAgICAgIGVycm9yTWVzc2FnZVRleHQgPSAnRW50ZXIgYSB2YWxpZCAnICsgbGFiZWxUZXh0LnRvTG93ZXJDYXNlKCksXG4gICAgICBlcnJvck1lc3NhZ2UgPSAkKCc8cD4nKVxuICAgICAgICAuaHRtbChlcnJvck1lc3NhZ2VUZXh0KVxuICAgICAgICAucHJvcCgnY2xhc3MnLCAnZXJyb3ItbWVzc2FnZScpXG4gICAgICAgIC5wcm9wKCdpZCcsICd2YWxpZGF0aW9uLScgKyBzbHVnaWZ5KGxhYmVsVGV4dCkpO1xuXG4gICAgJGZpZWxkLmJlZm9yZShlcnJvck1lc3NhZ2UpO1xuICAgICRwYXJlbnQuYWRkQ2xhc3MoJ2Zvcm0tZ3JvdXAtZXJyb3InKTtcbiAgICAkZmllbGQuYXR0cih7XG4gICAgICAnYXJpYS1kZXNjcmliZWRieScgOiAndmFsaWRhdGlvbi0nICsgc2x1Z2lmeShsYWJlbFRleHQpLFxuICAgICAgJ2FyaWEtaW52YWxpZCc6ICd0cnVlJ1xuICAgIH0pO1xuICB9XG59XG5cbnZhciBoaWRlVmFsaWRhdGlvbk1lc3NhZ2UgPSBmdW5jdGlvbiAoZmllbGQpIHtcbiAgdmFyIGZpZWxkID0gZmllbGQsXG4gICAgJGZpZWxkID0gJChmaWVsZCksXG4gICAgJHBhcmVudCA9ICRmaWVsZC5wYXJlbnQoKTtcblxuICBpZiAoJHBhcmVudC5oYXNDbGFzcygnc2hvdy1wYXNzd29yZCcpKSB7XG4gICAgJHBhcmVudCA9ICRwYXJlbnQucGFyZW50KCk7XG4gIH1cblxuICAkcGFyZW50LnJlbW92ZUNsYXNzKCdmb3JtLWdyb3VwLWVycm9yJyk7XG4gICRwYXJlbnQuZmluZCgncC5lcnJvci1tZXNzYWdlJykucmVtb3ZlKCk7XG4gICRmaWVsZC5yZW1vdmVBdHRyKCdhcmlhLWRlc2NyaWJlZGJ5Jyk7XG4gICRmaWVsZC5yZW1vdmVBdHRyKCdhcmlhLWludmFsaWQnKTtcbn1cblxudmFyIHNsdWdpZnkgPSBmdW5jdGlvbiAodGV4dCkge1xuICByZXR1cm4gdGV4dC50b1N0cmluZygpLnRvTG93ZXJDYXNlKClcbiAgICAucmVwbGFjZSgvXFxzKy9nLCAnLScpXG4gICAgLnJlcGxhY2UoL1teXFx3XFwtXSsvZywgJycpXG4gICAgLnJlcGxhY2UoL1xcLVxcLSsvZywgJy0nKVxuICAgIC5yZXBsYWNlKC9eLSsvLCAnJylcbiAgICAucmVwbGFjZSgvLSskLywgJycpO1xufVxuXG4qL1xuIiwidmFyIE5TQSA9IE5TQSB8fCB7fTtcblxuTlNBID0ge1xuICBzaG93UGFzc3dvcmQgOiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyICRzaG93UGFzc3dvcmQgPSAkKCcuc2hvdy1wYXNzd29yZCcpO1xuICAgICRzaG93UGFzc3dvcmQuZWFjaChmdW5jdGlvbiAoaSkge1xuICAgICAgdmFyICR0aGF0ID0gJCh0aGlzKTtcbiAgICAgIHZhciAkcHdkRmxkID0gJHRoYXQuZmluZCgnaW5wdXQ6cGFzc3dvcmQnKTtcbiAgICAgIHZhciAkY2hlY2tMYmwgPSAkKCc8bGFiZWwgLz4nKS5wcm9wKHsgZm9yOiAnc2hvdy1wYXNzd29yZC0nICsgaSB9KS5odG1sKCdTaG93Jyk7XG4gICAgICB2YXIgJGNoZWNrQm94ID0gJCgnPGlucHV0IC8+JykucHJvcCh7IHR5cGU6ICdjaGVja2JveCcsIGlkOiAnc2hvdy1wYXNzd29yZC0nICsgaSB9KS5vbignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgJHRoYXQgPSAkKHRoaXMpO1xuICAgICAgICAkcHdkRmxkLnByb3AoJ3R5cGUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuICR0aGF0LnByb3AoJ2NoZWNrZWQnKSA/ICd0ZXh0JyA6ICdwYXNzd29yZCc7XG4gICAgICAgIH0pO1xuICAgICAgICAkY2hlY2tMYmwuaHRtbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuICR0aGF0LnByb3AoJ2NoZWNrZWQnKSA/ICdIaWRlJyA6ICdTaG93JztcbiAgICAgICAgfSk7XG4gICAgICAgICR0aGF0LnBhcmVudCgpLnJlbW92ZUNsYXNzKCd0eXBlLXBhc3N3b3JkJyk7XG4gICAgICAgIGlmICgkdGhhdC5wcm9wKCdjaGVja2VkJykpIHtcbiAgICAgICAgICAkdGhhdC5wYXJlbnQoKS5hZGRDbGFzcygndHlwZS1wYXNzd29yZCcpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHZhciAkY2JXcmFwID0gJCgnPGRpdiAvPicpLnByb3AoJ2NsYXNzJywgJ3Nob3ctcGFzc3dvcmQtY29udHJvbCcpLmFwcGVuZCgkY2hlY2tCb3gsICRjaGVja0xibCk7XG4gICAgICAkcHdkRmxkLmFmdGVyKCRjYldyYXApO1xuICAgIH0pO1xuICB9LFxuICBiYWNrTGluazogZnVuY3Rpb24gKCkge1xuICAgIHZhciBiYWNrTGluayA9ICQoJzxhPicpXG4gICAgICAuYXR0cih7ICdocmVmJzogJyMnLCAnY2xhc3MnOiAnbGluay1iYWNrJyB9KVxuICAgICAgLnRleHQoJ0JhY2snKVxuICAgICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7IHdpbmRvdy5oaXN0b3J5LmJhY2soKTsgZS5wcmV2ZW50RGVmYXVsdCgpOyB9KTtcbiAgICAkKCcuanMtYmFjay1saW5rJykuaHRtbChiYWNrTGluayk7XG4gIH0sXG59O1xuXG5cbmlmICgkKCdzZWxlY3Quc2VsZWN0MicpLmxlbmd0aCA+IDApIHtcbiAgJCgnc2VsZWN0LnNlbGVjdDInKS5zZWxlY3QyKHttYXRjaGVyOiBzZWxlY3QyTW9kZWxNYXRjaGVyfSk7XG59XG5cbmZ1bmN0aW9uIHNlbGVjdDJNb2RlbE1hdGNoZXIgKHBhcmFtcywgZGF0YSkge1xuICBkYXRhLnBhcmVudFRleHQgPSBkYXRhLnBhcmVudFRleHQgfHwgXCJcIjtcbiAgaWYgKCQudHJpbShwYXJhbXMudGVybSkgPT09ICcnKSB7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cbiAgaWYgKGRhdGEuY2hpbGRyZW4gJiYgZGF0YS5jaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgdmFyIG1hdGNoID0gJC5leHRlbmQodHJ1ZSwge30sIGRhdGEpO1xuICAgIGZvciAodmFyIGMgPSBkYXRhLmNoaWxkcmVuLmxlbmd0aCAtIDE7IGMgPj0gMDsgYy0tKSB7XG4gICAgICB2YXIgY2hpbGQgPSBkYXRhLmNoaWxkcmVuW2NdO1xuICAgICAgY2hpbGQucGFyZW50VGV4dCArPSBkYXRhLnBhcmVudFRleHQgKyBcIiBcIiArIGRhdGEudGV4dDtcbiAgICAgIHZhciBtYXRjaGVzID0gc2VsZWN0Mk1vZGVsTWF0Y2hlcihwYXJhbXMsIGNoaWxkKTtcbiAgICAgIGlmIChtYXRjaGVzID09IG51bGwpIHtcbiAgICAgICAgbWF0Y2guY2hpbGRyZW4uc3BsaWNlKGMsIDEpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAobWF0Y2guY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIG1hdGNoO1xuICAgIH1cbiAgICByZXR1cm4gc2VsZWN0Mk1vZGVsTWF0Y2hlcihwYXJhbXMsIG1hdGNoKTtcbiAgfVxuICB2YXIgb3JpZ2luYWwgPSAoZGF0YS5wYXJlbnRUZXh0ICsgJyAnICsgZGF0YS50ZXh0KS50b1VwcGVyQ2FzZSgpO1xuICB2YXIgdGVybSA9IHBhcmFtcy50ZXJtLnRvVXBwZXJDYXNlKCk7XG4gIGlmIChvcmlnaW5hbC5pbmRleE9mKHRlcm0pID4gLTEpIHtcbiAgICByZXR1cm4gZGF0YTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuaWYgKCQoJy5zaG93LXBhc3N3b3JkJykubGVuZ3RoID4gMCkge1xuICBOU0Euc2hvd1Bhc3N3b3JkKCk7XG59XG5cbmlmICgkKCcuanMtYmFjay1saW5rJykpIHtcbiAgTlNBLmJhY2tMaW5rKCk7XG59XG5cbiQoJy51bmRlci1jb25zdHJ1Y3Rpb24nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICBhbGVydCgnVGhpcyBmdW5jdGlvbmFsaXR5IGlzIG5vdCBhdmFpbGFibGUgeWV0Jyk7XG4gIGUucHJldmVudERlZmF1bHQoKTtcbn0pO1xuXG5pZiAoJCgnLm5vdGlmaWNhdGlvbiBzcGFuLmljb24nKS5sZW5ndGggPiAwKSB7XG4gICQoJy5ub3RpZmljYXRpb24gc3Bhbi5pY29uJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICQodGhpcykucGFyZW50KCkuaGlkZSgpO1xuICB9KTtcbn1cblxuaWYgKCQoJ2FydGljbGUub3JnYW5pc2F0aW9uLXNlcnZpY2VzJykubGVuZ3RoID4gMCkge1xuXG4gICQoJy5pbmZvcm1hdGlvbicpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIGluZm8gPSAkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLmZpbmQoJy5zZXJ2aWNlLWRlc2NyaXB0aW9uJyk7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGluZm8udG9nZ2xlKCk7XG4gIH0pO1xuXG4gICQoJy5pbmZvLWxpbmsnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgIHZhciBtZXRhID0gJCh0aGlzKS5wYXJlbnQoKS5uZXh0KCk7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIG1ldGEudG9nZ2xlKCk7XG4gIH0pO1xufVxuXG52YXIgc2VhcmNoRmllbGRzID0gJCgnZm9ybSAuc2VhcmNoLWZpZWxkJyk7XG5cbmlmIChzZWFyY2hGaWVsZHMubGVuZ3RoID4gMCkge1xuXG4gIHZhciBsb2FkZXIgPSAkKCc8c3BhbiAvPicpLmFkZENsYXNzKCdsb2FkZXIgc3Bpbm5lci1pbmxpbmUnKTtcbiAgdmFyIGIxID0gJCgnPHNwYW4gLz4nKS5hZGRDbGFzcygnYmFsbCBiLTEnKTtcbiAgdmFyIGIyID0gJCgnPHNwYW4gLz4nKS5hZGRDbGFzcygnYmFsbCBiLTInKTtcbiAgbG9hZGVyLmFwcGVuZChiMSkuYXBwZW5kKGIyKTtcblxuICBzZWFyY2hGaWVsZHMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGZvcm0gPSAkKHRoaXMpLnBhcmVudCgpO1xuICAgIHZhciBidXR0b24gPSBmb3JtLmZpbmQoJ2J1dHRvbicpO1xuICAgIGZvcm0ub24oJ3N1Ym1pdCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGJ1dHRvbi5hZnRlcihsb2FkZXIpLmhpZGUoKTtcbiAgICB9KTtcbiAgfSk7XG59XG5cbnZhciByZWRpcmVjdCA9ICQoJyNyZWRpcmVjdC11cmwnKTtcblxuJCgnI2FkZC1yZWRpcmVjdCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAkKCc8cD48bGFiZWwgZm9yPVwicmVkaXJlY3QtdXJsXCI+PGlucHV0IGNsYXNzPVwiZm9ybS1jb250cm9sIGlucHV0Q29uZmlnXCIgbmFtZT1cInJlZGlyZWN0X3VyaXNcIj48L2xhYmVsPjwvcD4nKS5hcHBlbmRUbyhyZWRpcmVjdCk7XG4gIHJldHVybiBmYWxzZTtcbn0pO1xuXG52YXIgbG9nb3V0ID0gJCgnI2xvZ291dC11cmwnKTtcblxuJCgnI2FkZC1sb2dvdXQnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgJCgnPHA+PGxhYmVsIGZvcj1cImxvZ291dC11cmxcIj48aW5wdXQgY2xhc3M9XCJmb3JtLWNvbnRyb2wgaW5wdXRDb25maWdcIiBuYW1lPVwicG9zdF9sb2dvdXRfcmVkaXJlY3RfdXJpc1wiPjwvbGFiZWw+PC9wPicpLmFwcGVuZFRvKGxvZ291dCk7XG4gIHJldHVybiBmYWxzZTtcbn0pO1xuXG5cbiQoJyNnZW5lcmF0ZS1jbGllbnQtc2VjcmV0Jykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gIHZhciBzZWNyZXRBcnJheSA9IHdpbmRvdy5uaWNld2FyZS5nZW5lcmF0ZVBhc3NwaHJhc2UoOCk7XG4gIHZhciBzZWNyZXQgPSBzZWNyZXRBcnJheS5qb2luKCctJyk7XG4gIHZhciBpc0NvbmZpcm0gPSBjb25maXJtKCdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gcmVnZW5lcmF0ZSB0aGUgY2xpZW50IHNlY3JldD8nKTtcbiAgaWYgKGlzQ29uZmlybSkge1xuICAgICQoJ2lucHV0I2NsaWVudFNlY3JldCcpLmF0dHIoJ3ZhbHVlJywgc2VjcmV0KTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59KTtcblxuJCgnI2dlbmVyYXRlLWFwaS1zZWNyZXQnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgdmFyIHNlY3JldEFycmF5ID0gd2luZG93Lm5pY2V3YXJlLmdlbmVyYXRlUGFzc3BocmFzZSg4KTtcbiAgdmFyIHNlY3JldCA9IHNlY3JldEFycmF5LmpvaW4oJy0nKTtcbiAgdmFyIGlzQ29uZmlybSA9IGNvbmZpcm0oJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byByZWdlbmVyYXRlIHRoZSBhcGkgc2VjcmV0PycpO1xuICBpZiAoaXNDb25maXJtKSB7XG4gICAgJCgnaW5wdXQjYXBpU2VjcmV0JykuYXR0cigndmFsdWUnLCBzZWNyZXQpO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn0pO1xuXG52YXIgZm9ybVJlZ2lzdGVyID0gJCgnLnByZXZlbnQtZm9ybS1kb3VibGUtc3VibWlzc2lvbicpO1xuXG5pZiAoZm9ybVJlZ2lzdGVyLmxlbmd0aCA+IDApIHtcbiAgZm9ybVJlZ2lzdGVyLmVhY2goZnVuY3Rpb24gKCkge1xuICAgIHZhciAkc3VibWl0QnV0dG9ucyA9ICQoZm9ybVJlZ2lzdGVyKS5maW5kKCdidXR0b246c3VibWl0JyksICRzdWJtaXRCdXR0b24gPSAkc3VibWl0QnV0dG9ucy5lcSgwKTtcbiAgICBmb3JtUmVnaXN0ZXIub24oJ3N1Ym1pdCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICRzdWJtaXRCdXR0b25zLmF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG5cbiAgICAgICRzdWJtaXRCdXR0b24uY3NzKCdtaW4td2lkdGgnLCAkc3VibWl0QnV0dG9uLm91dGVyV2lkdGgoKSArICdweCcpO1xuXG4gICAgICAkc3VibWl0QnV0dG9uLmFwcGVuZChcIjxzcGFuIGNsYXNzPSdsb2FkZXIgc3Bpbm5lci1pbmxpbmUnPiA8c3BhbiBjbGFzcz0nYmFsbCBiLTEnPjwvc3Bhbj4gPHNwYW4gY2xhc3M9J2JhbGwgYi0yJz48L3NwYW4+IDxzcGFuIGNsYXNzPSdiYWxsIGItMyc+PC9zcGFuPiA8L3NwYW4+XCIpO1xuXG4gICAgfSk7XG4gIH0pO1xufVxuXG52YXIgc2hvd0hpZGVDb250ZW50ID0gbmV3IEdPVlVLLlNob3dIaWRlQ29udGVudCgpXG5zaG93SGlkZUNvbnRlbnQuaW5pdCgpXG5cbkdPVlVLLmRldGFpbHMuaW5pdCgpXG5cbiJdfQ==
