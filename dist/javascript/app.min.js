!function(a){var i=a.$,n=a.Cookies;if(n&&i){var r="cookies_preferences_set",o="cookies_policy",s={essential:!0,settings:!1,usage:!0},l={expires:365,secure:!0},e=function(e){var t=n.get(e);return t?JSON.parse(t):t},d=function(e,t){return n.set(e,t,l)};a.gtag&&a.gaTrackingId?(a.gtag("set","dimension1","SESSION ACTIVE"),a.gtag("js",new Date),a.gtag("config",a.gaTrackingId,{cookie_flags:"secure"})):console.error("Google Analytics (GA) has not initialised. GA will not track this session.",a.gtag,a.gaTrackingId);function c(e,t){var n,a=t||(n=i.extend(s,{}),i.each(n,function(e){n[e]=!0}),n);d(o,a),d(r,!0),e.target===h[0]&&u.slideUp()}var u=i("#dsi-cookie-banner.global-cookie-message-dfe-sign-in"),h=u.find("button.cookie-accept");e(r)||(d(o,s),h.click(c),"/cookies"!==a.location.pathname?u.slideDown():u.show());var f=i("#dsi-cookie-form.cookies-page-dfe-sign-in__preferences-form");f.length&&f.on("submit",function(e){e.preventDefault();var t={settings:!!f.find("input[name='cookie.settings']:checked").val()},n=i.extend(s,t);return c(e,n),document.referrer?a.location=document.referrer:a.location.pathname="/",!1})}}(window),function(e){"use strict";var s=e.GOVUK||{};s.details={NATIVE_DETAILS:"boolean"==typeof document.createElement("details").open,KEY_ENTER:13,KEY_SPACE:32,started:!1,addEvent:function(e,t,n){e.addEventListener?e.addEventListener(t,function(e){n(e,e.target)},!1):e.attachEvent&&e.attachEvent("on"+t,function(e){n(e,e.srcElement)})},removeEvent:function(e,t){e.removeEventListener?e.removeEventListener(t,function(e){},!1):e.detachEvent&&e.detachEvent("on"+t,function(e){})},charCode:function(e){return"number"==typeof e.which?e.which:e.keyCode},preventDefault:function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},addClickEvent:function(e,n){s.details.addEvent(e,"keypress",function(e,t){s.details.charCode(e)!==s.details.KEY_ENTER&&s.details.charCode(e)!==s.details.KEY_SPACE||"summary"===t.nodeName.toLowerCase()&&(s.details.preventDefault(e),t.click?t.click():n(e,t))}),s.details.addEvent(e,"keyup",function(e,t){s.details.charCode(e)===s.details.KEY_SPACE&&"SUMMARY"===t.nodeName&&s.details.preventDefault(e)}),s.details.addEvent(e,"click",function(e,t){n(e,t)})},getAncestor:function(e,t){do{if(!e||e.nodeName.toLowerCase()===t)break;e=e.parentNode}while(e);return e},addDetailsPolyfill:function(e,t){if(t=t||document.body,!s.details.started&&(s.details.started=!0,0!==(e=t.getElementsByTagName("details")).length)){for(var n=e.length,a=0;a<n;a++){var i=e[a];if(i.__summary=i.getElementsByTagName("summary").item(0),i.__content=i.getElementsByTagName("div").item(0),!i.__summary||!i.__content)return;i.__content.id||(i.__content.id="details-content-"+a),i.setAttribute("role","group"),i.__summary.setAttribute("role","button"),i.__summary.setAttribute("aria-controls",i.__content.id),s.details.NATIVE_DETAILS||(i.__summary.tabIndex=0);var r=null!==i.getAttribute("open");if(!0==r?(i.__summary.setAttribute("aria-expanded","true"),i.__content.setAttribute("aria-hidden","false")):(i.__summary.setAttribute("aria-expanded","false"),i.__content.setAttribute("aria-hidden","true"),s.details.NATIVE_DETAILS||(i.__content.style.display="none")),i.__summary.__details=i,!s.details.NATIVE_DETAILS){var o=document.createElement("i");!0==r?(o.className="arrow arrow-open",o.appendChild(document.createTextNode("▼"))):(o.className="arrow arrow-closed",o.appendChild(document.createTextNode("►"))),i.__summary.__twisty=i.__summary.insertBefore(o,i.__summary.firstChild),i.__summary.__twisty.setAttribute("aria-hidden","true")}}s.details.addClickEvent(t,function(e,t){return!(t=s.details.getAncestor(t,"summary"))||s.details.statechange(t)})}},statechange:function(e){var t="true"===e.__details.__summary.getAttribute("aria-expanded"),n="true"===e.__details.__content.getAttribute("aria-hidden");e.__details.__summary.setAttribute("aria-expanded",t?"false":"true"),e.__details.__content.setAttribute("aria-hidden",n?"false":"true"),s.details.NATIVE_DETAILS||(e.__details.__content.style.display=t?"none":"",null!==e.__details.getAttribute("open")?e.__details.removeAttribute("open"):e.__details.setAttribute("open","open"));return e.__twisty&&(e.__twisty.firstChild.nodeValue=t?"►":"▼",e.__twisty.setAttribute("class",t?"arrow arrow-closed":"arrow arrow-open")),!0},destroy:function(e){s.details.removeEvent(e,"click")},init:function(e){s.details.addEvent(document,"DOMContentLoaded",s.details.addDetailsPolyfill),s.details.addEvent(window,"load",s.details.addDetailsPolyfill)}},e.GOVUK=s}(window);var NSA=NSA||{},filterBoxes=$(".filter-box");NSA.filters={init:function(){filterBoxes.each(function(){var e=$(this),t=e.find(".container-head"),n=t.find(".option-select-label"),a=e.find("input:checkbox"),i=$("<button />").addClass("js-container-head"),r=$("<div />").addClass("js-selected-counter");i.on("click",function(e){var t=$(this).next();$(this).hasClass("closed")?(t.show(),$(this).removeClass("closed").attr("aria-expanded",!0)):(t.hide(),$(this).addClass("closed").attr("aria-expanded",!1)),e.preventDefault()}).append(n,r),t.replaceWith(i),a.on("change",function(){r.text(function(){return 0<a.filter(":checked").length?a.filter(":checked").length+" selected":""})})})}},0<filterBoxes.length&&NSA.filters.init();var gaEvent=$("#ga-event");if(0<gaEvent.length){var category=gaEvent.data("category"),label=gaEvent.data("label"),event=gaEvent.data("event");""!==event&&""!==label&&""!==category&&gtag("event",event,{event_category:category,event_label:label})}function getParameterByName(e,t){t=t||window.location.href,e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}function sortTable(e){var t,n,a,i,r,o,s,l,d=0;for(t=$("table.sortable"),a=!0,l="a";a;){for(a=!1,n=t.find("tr"),i=1;i<n.length-1;i++)if(s=!1,r=n[i].getElementsByTagName("TD")[e],o=n[i+1].getElementsByTagName("TD")[e],"a"===l){if(r.innerHTML.toLowerCase()>o.innerHTML.toLowerCase()){s=!0;break}}else if("d"===l&&r.innerHTML.toLowerCase()<o.innerHTML.toLowerCase()){s=!0;break}s?(n[i].parentNode.insertBefore(n[i+1],n[i]),a=!0,d++):0===d&&"a"===l&&(l="d",a=!0)}return l}$(".notification a").on("click",function(){$(this).data("clientid")&&gtag("event","download",{event_category:"migration-help-pdf",event_label:$(this).data("clientid")})}),(NSA=NSA||{}).modal={elems:{links:$(".modal-link"),modals:$(".modal")},init:function(){this.modalBg(),this.setUpEvents()},modalBg:function(){var e=this,t=$("<div>").addClass("modal-bg").hide().on("click",function(){e.hideModals()});$("body").append(t)},setUpEvents:function(){var n=this;this.elems.links.on("click",function(e){var t=$(this).attr("href");n.showModal($(t)),e.preventDefault()}),n.elems.modals.find(".close").on("click",function(e){n.hideModals(),e.preventDefault()}),$("body").on("keydown",function(e){27===(e.keyCode||e.which)&&n.hideModals()})},showModal:function(e){$("html").addClass("modal-open"),$(".modal-bg").show(),e.show()},hideModals:function(){$("html").removeClass("modal-open"),$(".modal-bg").hide(),this.elems.modals.hide()}},NSA.modal.init(),function(e){"use strict";var f=e.jQuery,t=e.GOVUK||{};function n(){var o="ShowHideContent",i='[data-target] > input[type="radio"]',t='[data-target] > input[type="checkbox"]',n="a.js-toggle-content";function s(){var e=f(this),t=l(e);t.length&&(e.attr("aria-controls",t.attr("id")),e.attr("aria-expanded","false"),t.attr("aria-hidden","true"))}function l(e){var t=e.attr("aria-controls");return t=t||e.closest("[data-target]").data("target"),f("#"+t)}function r(e,t){t.hasClass("js-hidden")&&(t.removeClass("js-hidden"),t.attr("aria-hidden","false"),e.attr("aria-controls")&&e.attr("aria-expanded","true"))}function d(e,t){(t=t||l(e)).hasClass("js-hidden")||(t.addClass("js-hidden"),t.attr("aria-hidden","true"),e.attr("aria-controls")&&e.attr("aria-expanded","false"))}function a(e,t){var n=i+"[name="+e.attr("name").replace("[","\\[").replace("]","\\]")+"][aria-controls]",a=e.closest("form");(a.length?a.find(n):f(n)).each(function(){d(f(this))}),e.is("[aria-controls]")&&r(e,t)}function c(e,t){e.is(":checked")?r(e,t):d(e,t)}function u(e,t,n){t.hasClass("js-hidden")?r(e,t):d(e,t),n.preventDefault()}function h(n,e,t,a){function i(e){var t=f(this);a(t,l(t),e)}n=n||f(document.body);var r=f(e);r.each(s),f.each(t,function(e,t){n.on("click."+o,t,i)}),r.is(":checked")&&r.filter(":checked").each(i)}this.showHideRadioToggledContent=function(e){var t;h(e,i,(t=[],f(i).map(function(){var e=f(this).attr("name");return-1===f.inArray(e,t)?(t.push(e),'input[type="radio"][name="'+f(this).attr("name")+'"]'):null})),a)},this.showHideCheckboxToggledContent=function(e){h(e,t,[t],c)},this.showHideLinkToggledContent=function(e){h(e,n,[n],u)},this.destroy=function(e){(e=e||f(document.body)).off("."+o)}}n.prototype.init=function(e){this.showHideRadioToggledContent(e),this.showHideCheckboxToggledContent(e),this.showHideLinkToggledContent(e)},t.ShowHideContent=n,e.GOVUK=t}(window),(NSA=NSA||{}).signin={form:$(".form-signin"),init:function(){this.setupEvents()},setupEvents:function(){this.form.on("submit",this,this.handleSubmit)},handleSubmit:function(e){var t=$(this),n=t.find("input").not(":checkbox"),a={},i=$(this).find("button:submit"),r=i.eq(0);i.attr("disabled","disabled"),r.css("min-width",r.outerWidth()+"px"),r.find(".loader").removeClass("vh"),n.each(function(){a[this.name]=$(this).val()}),$("#password").prop("type","password").next().removeClass("type-password"),$.ajax({type:"POST",data:a,url:t.attr("action"),context:e.data,dataType:"json",success:function(e){e.redirect?window.location.href=e.uri:e.isFailedLogin?(this.resetValidation(t),this.showValidationMessage(e.validationMessages),this.showInlineValidation(e.validationMessages),i.removeAttr("disabled"),r.find(".loader").addClass("vh")):(gtag("event","Successful login",{event_category:"Login",event_label:getParameterByName("clientid")}),this.buildFormAndSubmit(e))},error:function(){this.resetValidation(t),this.showValidationMessage(),i.removeAttr("disabled"),r.find(".loader").addClass("vh")}}),e.preventDefault()},resetValidation:function(e){var t=e.find(".form-group");$(".error-summary").remove(),t.each(function(){var e=$(this).find("input").eq(0);$(this).hasClass("form-group-error")&&($(this).removeClass("form-group-error"),$(this).find("p.error-message").remove(),e.removeAttr("aria-describedby").removeAttr("aria-invalid"))})},showValidationMessage:function(e){var t=$("<div />").attr("class","error-summary").attr("role","alert").attr("tabindex","-1"),n=$("<h2 />").attr("class","heading-medium error-summary-heading").attr("id","error-summary"),i=$("<ul />").attr("class","error-summary-list");if(e)n.text("Information missing or incorrect"),$.each(e,function(e,t){"loginError"===e&&(e="username",gtag("event","Failed login",{event_category:"Login",event_label:"Users login credentials were wrong"}));var n=$("<a />").attr("href","#"+e).text(t),a=$("<li />").append(n);i.append(a)});else{n.text("There has been an error");var a=$("<li />").html('Please try again later. If the problem continues, follow the link to <a href="https://help.signin.education.gov.uk/contact/form">submit a support request</a>');i.append(a),gtag("event","Error occurred",{event_category:"Login",event_label:"A server error occurred during login"})}t.append(n).append(i),$("main").prepend(t),$("html, body").animate({scrollTop:t.offset().top-15},300)},showInlineValidation:function(e){$.each(e,function(e,t){var n=$("input[name="+e+"]"),a=n.parent();a.hasClass("show-password")&&(a=a.parent());var i=a.find("label").first();if(!a.hasClass("form-group-error"))var r=$("<p>").html(t).prop("class","error-message").prop("id","validation-"+e);i.after(r),a.addClass("form-group-error"),n.attr({"aria-describedby":"validation-"+e,"aria-invalid":"true"})})},buildFormAndSubmit:function(e){var a=$("<form />").attr({method:"post",action:e.destination,id:"dfesigninform"});$.each(e.postbackData,function(e,t){var n=$("<input />").attr({type:"hidden",name:e,value:t});a.append(n)}),$("#dfesigninform").remove(),$("body").append(a),a.submit()}},0<$(".form-signin").length&&NSA.signin.init(),$(function(){$("table.sortable thead th").on("click",function(){var e=$("table.sortable thead tr th");e.removeClass("sorted").removeClass("dir-a").removeClass("dir-d");var t=sortTable(e.index($(this)));$(this).addClass("sorted dir-"+t)})});var toggleTips=$(".toggle-help");toggleTips.each(function(){var n,t,e,a;n=$(this),e=$("<span />").attr("class","toggletip"),a=$("<button />").attr("type","button").attr("aria-label","Help").attr("data-toggletip-content",n.html()).text("?").on("click",function(){var e=$(this).data("toggletip-content"),t=$(this).next();window.setTimeout(function(){t.html(function(){return $("<span />").attr("class",function(){return 50<n.html().length?"bubble long":"bubble"}).text(e)})},100)}).on("keydown",function(e){27===(e.keyCode||e.which)&&t.html("")}),t=$("<span />").attr("role","status"),e.append(a,t),n.before(e).remove(),$(document).on("click",function(e){n[0]!==$(e.target)&&t.html("")})});var forms=$("#content form");forms.attr("novalidate","novalidate");NSA=NSA||{};function select2ModelMatcher(e,t){if(t.parentText=t.parentText||"",""===$.trim(e.term))return t;if(t.children&&0<t.children.length){for(var n=$.extend(!0,{},t),a=t.children.length-1;0<=a;a--){var i=t.children[a];i.parentText+=t.parentText+" "+t.text,null==select2ModelMatcher(e,i)&&n.children.splice(a,1)}return 0<n.children.length?n:select2ModelMatcher(e,n)}var r=(t.parentText+" "+t.text).toUpperCase(),o=e.term.toUpperCase();return-1<r.indexOf(o)?t:null}NSA={showPassword:function(){$(".show-password").each(function(e){var t=$(this).find("input:password"),n=$("<label />").prop({for:"show-password-"+e}).html("Show"),a=$("<input />").prop({type:"checkbox",id:"show-password-"+e}).on("change",function(){var e=$(this);t.prop("type",function(){return e.prop("checked")?"text":"password"}),n.html(function(){return e.prop("checked")?"Hide":"Show"}),e.parent().removeClass("type-password"),e.prop("checked")&&e.parent().addClass("type-password")}),i=$("<div />").prop("class","show-password-control").append(a,n);t.after(i)})},backLink:function(){var e=$("<a>").attr({href:"#",class:"link-back"}).text("Back").on("click",function(e){window.history.back(),e.preventDefault()});$(".js-back-link").html(e)}},0<$("select.select2").length&&$("select.select2").select2({matcher:select2ModelMatcher}),0<$(".show-password").length&&NSA.showPassword(),$(".js-back-link")&&NSA.backLink(),$(".under-construction").on("click",function(e){alert("This functionality is not available yet"),e.preventDefault()}),0<$(".notification span.icon").length&&$(".notification span.icon").on("click",function(){$(this).parent().hide()}),0<$("article.organisation-services").length&&($(".information").on("click",function(e){var t=$(this).parent().parent().find(".service-description");e.preventDefault(),t.toggle()}),$(".info-link").on("click",function(e){var t=$(this).parent().next();e.preventDefault(),t.toggle()}));var searchFields=$("form .search-field");if(0<searchFields.length){var loader=$("<span />").addClass("loader spinner-inline"),b1=$("<span />").addClass("ball b-1"),b2=$("<span />").addClass("ball b-2");loader.append(b1).append(b2),searchFields.each(function(){var e=$(this).parent(),t=e.find("button");e.on("submit",function(){t.after(loader).hide()})})}var redirect=$("#redirect-url");$("#add-redirect").on("click",function(){return $('<p><label for="redirect-url"><input class="form-control inputConfig" name="redirect_uris"></label></p>').appendTo(redirect),!1});var logout=$("#logout-url");$("#add-logout").on("click",function(){return $('<p><label for="logout-url"><input class="form-control inputConfig" name="post_logout_redirect_uris"></label></p>').appendTo(logout),!1}),$("#generate-client-secret").on("click",function(){var e=window.niceware.generatePassphrase(8).join("-");return confirm("Are you sure you want to regenerate the client secret?")&&$("input#clientSecret").attr("value",e),!1}),$("#generate-api-secret").on("click",function(){var e=window.niceware.generatePassphrase(8).join("-");return confirm("Are you sure you want to regenerate the api secret?")&&$("input#apiSecret").attr("value",e),!1});var formRegister=$(".prevent-form-double-submission");0<formRegister.length&&formRegister.each(function(){var e=$(formRegister).find("button:submit"),t=e.eq(0);formRegister.on("submit",function(){e.attr("disabled","disabled"),t.css("min-width",t.outerWidth()+"px"),t.append("<span class='loader spinner-inline'> <span class='ball b-1'></span> <span class='ball b-2'></span> <span class='ball b-3'></span> </span>")})});var showHideContent=new GOVUK.ShowHideContent;showHideContent.init(),GOVUK.details.init();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl9jb29raWVzLmpzIiwiX2RldGFpbHMucG9seWZpbGwuanMiLCJfZmlsdGVyLWJveGVzLmpzIiwiX2dhLWV2ZW50cy5qcyIsIl9zaWduaW4uanMiLCJfdGFibGVzb3J0LmpzIiwiX21vZGFsLmpzIiwiX3Nob3ctaGlkZS1jb250ZW50LmpzIiwiX3Rvb2x0aXAuanMiLCJfdmFsaWRhdGlvbi5qcyIsImFwcC5qcyJdLCJuYW1lcyI6WyJ3aW5kb3ciLCIkIiwiQ29va2llcyIsIkNPT0tJRV9OQU1FUyIsIkRFRkFVTFRfUE9MSUNZIiwiZXNzZW50aWFsIiwic2V0dGluZ3MiLCJ1c2FnZSIsIkdPVlVLX0NPT0tJRV9PUFRJT05TIiwiZXhwaXJlcyIsInNlY3VyZSIsIkdvdlVLQ29va2llIiwibmFtZSIsInZhbHVlIiwiZ2V0IiwiSlNPTiIsInBhcnNlIiwic2V0IiwiZ3RhZyIsImdhVHJhY2tpbmdJZCIsIkRhdGUiLCJjb29raWVfZmxhZ3MiLCJjb25zb2xlIiwiZXJyb3IiLCJvbkNvb2tpZUFjY2VwdCIsImV2ZW50IiwibmV3UG9saWN5IiwiYWNjZXB0ZWRQb2xpY3kiLCJleHRlbmQiLCJlYWNoIiwia2V5IiwidGFyZ2V0IiwiJGNvb2tpZUFjY2VwdEJ1dHRvbiIsIiRjb29raWVCYW5uZXIiLCJzbGlkZVVwIiwiZmluZCIsImNsaWNrIiwibG9jYXRpb24iLCJwYXRobmFtZSIsInNsaWRlRG93biIsInNob3ciLCIkcHJlZmVyZW5jZXNGb3JtIiwibGVuZ3RoIiwib24iLCJwcmV2ZW50RGVmYXVsdCIsInZhbCIsImRvY3VtZW50IiwicmVmZXJyZXIiLCJnbG9iYWwiLCJHT1ZVSyIsImRldGFpbHMiLCJOQVRJVkVfREVUQUlMUyIsImNyZWF0ZUVsZW1lbnQiLCJvcGVuIiwiS0VZX0VOVEVSIiwiS0VZX1NQQUNFIiwic3RhcnRlZCIsImFkZEV2ZW50Iiwibm9kZSIsInR5cGUiLCJjYWxsYmFjayIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwiYXR0YWNoRXZlbnQiLCJzcmNFbGVtZW50IiwicmVtb3ZlRXZlbnQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZGV0YWNoRXZlbnQiLCJjaGFyQ29kZSIsIndoaWNoIiwia2V5Q29kZSIsInJldHVyblZhbHVlIiwiYWRkQ2xpY2tFdmVudCIsIm5vZGVOYW1lIiwidG9Mb3dlckNhc2UiLCJnZXRBbmNlc3RvciIsIm1hdGNoIiwicGFyZW50Tm9kZSIsImFkZERldGFpbHNQb2x5ZmlsbCIsImxpc3QiLCJjb250YWluZXIiLCJib2R5IiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJuIiwiaSIsIl9fc3VtbWFyeSIsIml0ZW0iLCJfX2NvbnRlbnQiLCJpZCIsInNldEF0dHJpYnV0ZSIsInRhYkluZGV4Iiwib3BlbkF0dHIiLCJnZXRBdHRyaWJ1dGUiLCJzdHlsZSIsImRpc3BsYXkiLCJfX2RldGFpbHMiLCJ0d2lzdHkiLCJjbGFzc05hbWUiLCJhcHBlbmRDaGlsZCIsImNyZWF0ZVRleHROb2RlIiwiX190d2lzdHkiLCJpbnNlcnRCZWZvcmUiLCJmaXJzdENoaWxkIiwic3VtbWFyeSIsInN0YXRlY2hhbmdlIiwiZXhwYW5kZWQiLCJoaWRkZW4iLCJyZW1vdmVBdHRyaWJ1dGUiLCJub2RlVmFsdWUiLCJkZXN0cm95IiwiaW5pdCIsIiRjb250YWluZXIiLCJOU0EiLCJmaWx0ZXJCb3hlcyIsImZpbHRlcnMiLCIkdGhhdCIsInRoaXMiLCJoZWFkZXIiLCJ0aXRsZSIsImNoZWNrYm94ZXMiLCJidXR0b24iLCJhZGRDbGFzcyIsImNoZWNrQ291bnQiLCJvcHRpb25zIiwibmV4dCIsImhhc0NsYXNzIiwicmVtb3ZlQ2xhc3MiLCJhdHRyIiwiaGlkZSIsImFwcGVuZCIsInJlcGxhY2VXaXRoIiwidGV4dCIsImZpbHRlciIsImdhRXZlbnQiLCJjYXRlZ29yeSIsImRhdGEiLCJsYWJlbCIsImV2ZW50X2NhdGVnb3J5IiwiZXZlbnRfbGFiZWwiLCJnZXRQYXJhbWV0ZXJCeU5hbWUiLCJ1cmwiLCJocmVmIiwicmVwbGFjZSIsInJlc3VsdHMiLCJSZWdFeHAiLCJleGVjIiwiZGVjb2RlVVJJQ29tcG9uZW50Iiwic29ydFRhYmxlIiwidGFibGUiLCJyb3dzIiwic3dpdGNoaW5nIiwieCIsInkiLCJzaG91bGRTd2l0Y2giLCJkaXJlY3Rpb24iLCJzd2l0Y2hjb3VudCIsImlubmVySFRNTCIsIm1vZGFsIiwiZWxlbXMiLCJsaW5rcyIsIm1vZGFscyIsIm1vZGFsQmciLCJzZXRVcEV2ZW50cyIsInRoYXQiLCJiZyIsImhpZGVNb2RhbHMiLCJzaG93TW9kYWwiLCJqUXVlcnkiLCJTaG93SGlkZUNvbnRlbnQiLCJzZWxlY3RvcnMiLCJpbml0VG9nZ2xlZENvbnRlbnQiLCIkY29udHJvbCIsIiRjb250ZW50IiwiZ2V0VG9nZ2xlZENvbnRlbnQiLCJjbG9zZXN0Iiwic2hvd1RvZ2dsZWRDb250ZW50IiwiaGlkZVRvZ2dsZWRDb250ZW50IiwiaGFuZGxlUmFkaW9Db250ZW50Iiwic2VsZWN0b3IiLCIkZm9ybSIsImlzIiwiaGFuZGxlQ2hlY2tib3hDb250ZW50IiwiaGFuZGxlTGlua0NvbnRlbnQiLCIkZXZlbnQiLCJlbGVtZW50U2VsZWN0b3IiLCJldmVudFNlbGVjdG9ycyIsImhhbmRsZXIiLCJkZWZlcnJlZCIsIiRjb250cm9scyIsImlkeCIsImV2ZW50U2VsZWN0b3IiLCJzaG93SGlkZVJhZGlvVG9nZ2xlZENvbnRlbnQiLCJyYWRpb0dyb3VwcyIsIm1hcCIsImdyb3VwTmFtZSIsImluQXJyYXkiLCJwdXNoIiwic2hvd0hpZGVDaGVja2JveFRvZ2dsZWRDb250ZW50Iiwic2hvd0hpZGVMaW5rVG9nZ2xlZENvbnRlbnQiLCJvZmYiLCJwcm90b3R5cGUiLCJzaWduaW4iLCJmb3JtIiwic2V0dXBFdmVudHMiLCJoYW5kbGVTdWJtaXQiLCIkaW5wdXRzIiwibm90IiwicG9zdERhdGEiLCIkc3VibWl0QnV0dG9ucyIsIiRzdWJtaXRCdXR0b24iLCJlcSIsImNzcyIsIm91dGVyV2lkdGgiLCJwcm9wIiwiYWpheCIsImNvbnRleHQiLCJkYXRhVHlwZSIsInN1Y2Nlc3MiLCJyZWRpcmVjdCIsInVyaSIsImlzRmFpbGVkTG9naW4iLCJyZXNldFZhbGlkYXRpb24iLCJzaG93VmFsaWRhdGlvbk1lc3NhZ2UiLCJ2YWxpZGF0aW9uTWVzc2FnZXMiLCJzaG93SW5saW5lVmFsaWRhdGlvbiIsInJlbW92ZUF0dHIiLCJidWlsZEZvcm1BbmRTdWJtaXQiLCIkZm9ybUdyb3VwcyIsInJlbW92ZSIsIiRmaWVsZCIsIm1lc3NhZ2VzIiwiJGRpdiIsIiRoMiIsIiR1bCIsImluZGV4IiwiJGEiLCIkbGkiLCJodG1sIiwicHJlcGVuZCIsImFuaW1hdGUiLCJzY3JvbGxUb3AiLCJvZmZzZXQiLCJ0b3AiLCIkcGFyZW50IiwicGFyZW50IiwiJGxhYmVsIiwiZmlyc3QiLCJlcnJvck1lc3NhZ2UiLCJhZnRlciIsImFyaWEtZGVzY3JpYmVkYnkiLCJhcmlhLWludmFsaWQiLCJtZXRob2QiLCJhY3Rpb24iLCJkZXN0aW5hdGlvbiIsInBvc3RiYWNrRGF0YSIsInN1Ym1pdCIsImhlYWRpbmdDZWxscyIsInRvZ2dsZVRpcHMiLCJsaXZlUmVnaW9uIiwidG9nZ2xlVGlwIiwibWVzc2FnZSIsInNldFRpbWVvdXQiLCJiZWZvcmUiLCJmb3JtcyIsInNlbGVjdDJNb2RlbE1hdGNoZXIiLCJwYXJhbXMiLCJwYXJlbnRUZXh0IiwidHJpbSIsInRlcm0iLCJjaGlsZHJlbiIsImMiLCJjaGlsZCIsInNwbGljZSIsIm9yaWdpbmFsIiwidG9VcHBlckNhc2UiLCJpbmRleE9mIiwic2hvd1Bhc3N3b3JkIiwiJHB3ZEZsZCIsIiRjaGVja0xibCIsImZvciIsIiRjaGVja0JveCIsIiRjYldyYXAiLCJiYWNrTGluayIsImNsYXNzIiwiaGlzdG9yeSIsImJhY2siLCJzZWxlY3QyIiwibWF0Y2hlciIsImFsZXJ0IiwiaW5mbyIsInRvZ2dsZSIsIm1ldGEiLCJzZWFyY2hGaWVsZHMiLCJsb2FkZXIiLCJiMSIsImIyIiwiYXBwZW5kVG8iLCJsb2dvdXQiLCJzZWNyZXQiLCJuaWNld2FyZSIsImdlbmVyYXRlUGFzc3BocmFz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QUtBLElBQUEwRixTQUFBek4sRUFBQSxpQkFFQUEsRUFBQSxpQkFBQTBDLEdBQUEsUUFBQSxXQUVBLE9BREExQyxFQUFBLDBHQUFBdVMsU0FBQTlFLFdBQ0EsSUFHQSxJQUFBK0UsT0FBQXhTLEVBQUEsZUFFQUEsRUFBQSxlQUFBMEMsR0FBQSxRQUFBLFdBRUEsT0FEQTFDLEVBQUEsb0hBQUF1UyxTQUFBQyxTQUNBLElBSUF4UyxFQUFBLDJCQUFBMEMsR0FBQSxRQUFBLFdBQ0EsSUFDQStQLEVBREExUyxPQUFBMlMsU0FBQUMsbUJBQUEsR0FDQUMsS0FBQSxLQUtBLE9BSkFDLFFBQUEsMkRBRUE3UyxFQUFBLHNCQUFBOEgsS0FBQSxRQUFBMkssSUFFQSxJQUdBelMsRUFBQSx3QkFBQTBDLEdBQUEsUUFBQSxXQUNBLElBQ0ErUCxFQURBMVMsT0FBQTJTLFNBQUFDLG1CQUFBLEdBQ0FDLEtBQUEsS0FLQSxPQUpBQyxRQUFBLHdEQUVBN1MsRUFBQSxtQkFBQThILEtBQUEsUUFBQTJLLElBRUEsSUFHQSxJQUFBSyxhQUFBOVMsRUFBQSxtQ0FFQSxFQUFBOFMsYUFBQXJRLFFBQ0FxUSxhQUFBbFIsS0FBQSxXQUNBLElBQUFtTCxFQUFBL00sRUFBQThTLGNBQUE1USxLQUFBLGlCQUFBOEssRUFBQUQsRUFBQUUsR0FBQSxHQUNBNkYsYUFBQXBRLEdBQUEsU0FBQSxXQUNBcUssRUFBQWpGLEtBQUEsV0FBQSxZQUVBa0YsRUFBQUUsSUFBQSxZQUFBRixFQUFBRyxhQUFBLE1BRUFILEVBQUFoRixPQUFBLGlKQU1BLElBQUErSyxnQkFBQSxJQUFBL1AsTUFBQXVILGdCQUNBd0ksZ0JBQUFsTSxPQUVBN0QsTUFBQUMsUUFBQTREIiwiZmlsZSI6ImFwcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gKHdpbmRvdykge1xuICB2YXIgJCA9IHdpbmRvdy4kO1xuICB2YXIgQ29va2llcyA9IHdpbmRvdy5Db29raWVzO1xuICBpZiAoIUNvb2tpZXMgfHwgISQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgQ09PS0lFX05BTUVTID0ge1xuICAgIFBSRUZFUkVOQ0VTX1NFVDogJ2Nvb2tpZXNfcHJlZmVyZW5jZXNfc2V0JyxcbiAgICBQT0xJQ1k6ICdjb29raWVzX3BvbGljeSdcbiAgfTtcbiAgXG4gIHZhciBERUZBVUxUX1BPTElDWSA9IHtcbiAgICBlc3NlbnRpYWw6IHRydWUsXG4gICAgc2V0dGluZ3M6IGZhbHNlLFxuICAgIHVzYWdlOiB0cnVlXG4gIH07XG5cbiAgdmFyIEdPVlVLX0NPT0tJRV9PUFRJT05TID0ge1xuICAgIGV4cGlyZXM6IDM2NSwgLy8gZGF5c1xuICAgIHNlY3VyZTogdHJ1ZSxcbiAgICAvLyBkb21haW46ICcuZWR1Y2F0aW9uLmdvdi51aycgXG4gICAgLy90ZW1wIHJlbW92YWwgb2YgZG9tYWluIHRvIHRlc3QgR0EgZnVuY3Rpb25hbGl0eS4gV2lsbCBiZSB1bmNvbW1lbnRlZCwgcHJpb3IgdG8gZ29pbmcgaW50byB0ZXN0IGVudi5cbiAgfTtcblxuICB2YXIgR292VUtDb29raWUgPSB7XG4gICAgZ2V0OiBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgdmFyIHZhbHVlID0gQ29va2llcy5nZXQobmFtZSk7XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UodmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcbiAgICAgIHJldHVybiBDb29raWVzLnNldChcbiAgICAgICAgbmFtZSxcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIEdPVlVLX0NPT0tJRV9PUFRJT05TXG4gICAgICApO1xuICAgIH0sXG4gICAgcmVtb3ZlOiBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgcmV0dXJuIENvb2tpZXMucmVtb3ZlKFxuICAgICAgICBuYW1lLFxuICAgICAgICBHT1ZVS19DT09LSUVfT1BUSU9OU1xuICAgICAgKTtcbiAgICB9XG4gIH07XG5cbiAgKGZ1bmN0aW9uIGluaXRHQSAoKSB7XG4gICAgaWYgKCF3aW5kb3cuZ3RhZyB8fCAhd2luZG93LmdhVHJhY2tpbmdJZCkge1xuICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgJ0dvb2dsZSBBbmFseXRpY3MgKEdBKSBoYXMgbm90IGluaXRpYWxpc2VkLiBHQSB3aWxsIG5vdCB0cmFjayB0aGlzIHNlc3Npb24uJyxcbiAgICAgICAgd2luZG93Lmd0YWcsXG4gICAgICAgIHdpbmRvdy5nYVRyYWNraW5nSWQpO1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIHdpbmRvdy5ndGFnKCdzZXQnLCAnZGltZW5zaW9uMScsICdTRVNTSU9OIEFDVElWRScpO1xuICAgIHdpbmRvdy5ndGFnKCdqcycsIG5ldyBEYXRlKCkpO1xuICAgIHdpbmRvdy5ndGFnKCdjb25maWcnLCB3aW5kb3cuZ2FUcmFja2luZ0lkLCB7IGNvb2tpZV9mbGFnczogJ3NlY3VyZSd9KTtcbiAgfSkoKTtcblxuICB2YXIgJGNvb2tpZUJhbm5lciA9ICQoJyNkc2ktY29va2llLWJhbm5lci5nbG9iYWwtY29va2llLW1lc3NhZ2UtZGZlLXNpZ24taW4nKTtcbiAgdmFyICRjb29raWVBY2NlcHRCdXR0b24gPSAkY29va2llQmFubmVyLmZpbmQoJ2J1dHRvbi5jb29raWUtYWNjZXB0Jyk7XG5cbiAgdmFyIGdldEFjY2VwdGVkQWxsUG9saWN5ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBhY2NlcHRlZFBvbGljeSA9ICQuZXh0ZW5kKERFRkFVTFRfUE9MSUNZLCB7fSk7IC8vIGRlZXAgY29weVxuXG4gICAgJC5lYWNoKGFjY2VwdGVkUG9saWN5LCBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICBhY2NlcHRlZFBvbGljeVtrZXldID0gdHJ1ZTtcbiAgICB9KTtcblxuICAgIHJldHVybiBhY2NlcHRlZFBvbGljeTtcbiAgfTtcblxuICB2YXIgb25Db29raWVBY2NlcHQgPSBmdW5jdGlvbiAoZXZlbnQsIG5ld1BvbGljeSkge1xuICAgIHZhciBhY2NlcHRlZFBvbGljeSA9IG5ld1BvbGljeSB8fCBnZXRBY2NlcHRlZEFsbFBvbGljeSgpO1xuXG4gICAgR292VUtDb29raWUuc2V0KFxuICAgICAgQ09PS0lFX05BTUVTLlBPTElDWSxcbiAgICAgIGFjY2VwdGVkUG9saWN5XG4gICAgKTtcbiAgICBHb3ZVS0Nvb2tpZS5zZXQoXG4gICAgICBDT09LSUVfTkFNRVMuUFJFRkVSRU5DRVNfU0VULFxuICAgICAgdHJ1ZVxuICAgICk7XG5cbiAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSAkY29va2llQWNjZXB0QnV0dG9uWzBdKSB7XG4gICAgICAkY29va2llQmFubmVyLnNsaWRlVXAoKTtcbiAgICB9XG4gIH07XG5cbiAgaWYgKCFHb3ZVS0Nvb2tpZS5nZXQoQ09PS0lFX05BTUVTLlBSRUZFUkVOQ0VTX1NFVCkpIHtcbiAgICBHb3ZVS0Nvb2tpZS5zZXQoXG4gICAgICBDT09LSUVfTkFNRVMuUE9MSUNZLFxuICAgICAgREVGQVVMVF9QT0xJQ1lcbiAgICApO1xuICAgICRjb29raWVBY2NlcHRCdXR0b24uY2xpY2sob25Db29raWVBY2NlcHQpO1xuICAgIGlmICh3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgIT09ICcvY29va2llcycpIHtcbiAgICAgICRjb29raWVCYW5uZXIuc2xpZGVEb3duKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICRjb29raWVCYW5uZXIuc2hvdygpO1xuICAgIH1cbiAgfVxuICBcbiAgdmFyICRwcmVmZXJlbmNlc0Zvcm0gPSAkKCcjZHNpLWNvb2tpZS1mb3JtLmNvb2tpZXMtcGFnZS1kZmUtc2lnbi1pbl9fcHJlZmVyZW5jZXMtZm9ybScpO1xuXG4gICRwcmVmZXJlbmNlc0Zvcm0ubGVuZ3RoICYmICRwcmVmZXJlbmNlc0Zvcm0ub24oJ3N1Ym1pdCcsIGZ1bmN0aW9uIChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgdmFyIG5ld1BvbGljeSA9IHtcbiAgICAgIHNldHRpbmdzOiAhISRwcmVmZXJlbmNlc0Zvcm0uZmluZChcImlucHV0W25hbWU9J2Nvb2tpZS5zZXR0aW5ncyddOmNoZWNrZWRcIikudmFsKClcbiAgICB9O1xuXG4gICAgdmFyIGFjY2VwdGVkUG9saWN5ID0gJC5leHRlbmQoREVGQVVMVF9QT0xJQ1ksIG5ld1BvbGljeSk7XG4gICAgb25Db29raWVBY2NlcHQoZXZlbnQsIGFjY2VwdGVkUG9saWN5KTtcblxuICAgIGlmIChkb2N1bWVudC5yZWZlcnJlcikge1xuICAgICAgd2luZG93LmxvY2F0aW9uID0gZG9jdW1lbnQucmVmZXJyZXI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSA9ICcvJztcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9KTtcblxufSkod2luZG93KTsiLCIvLyA8ZGV0YWlscz4gcG9seWZpbGxcbi8vIGh0dHA6Ly9jYW5pdXNlLmNvbS8jZmVhdD1kZXRhaWxzXG5cbi8vIEZGIFN1cHBvcnQgZm9yIEhUTUw1J3MgPGRldGFpbHM+IGFuZCA8c3VtbWFyeT5cbi8vIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTU5MTczN1xuXG4vLyBodHRwOi8vd3d3LnNpdGVwb2ludC5jb20vZml4aW5nLXRoZS1kZXRhaWxzLWVsZW1lbnQvXG5cbjsoZnVuY3Rpb24gKGdsb2JhbCkge1xuICAndXNlIHN0cmljdCdcblxuICB2YXIgR09WVUsgPSBnbG9iYWwuR09WVUsgfHwge31cblxuICBHT1ZVSy5kZXRhaWxzID0ge1xuICAgIE5BVElWRV9ERVRBSUxTOiB0eXBlb2YgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGV0YWlscycpLm9wZW4gPT09ICdib29sZWFuJyxcbiAgICBLRVlfRU5URVI6IDEzLFxuICAgIEtFWV9TUEFDRTogMzIsXG5cbiAgICAvLyBDcmVhdGUgYSBzdGFydGVkIGZsYWcgc28gd2UgY2FuIHByZXZlbnQgdGhlIGluaXRpYWxpc2F0aW9uXG4gICAgLy8gZnVuY3Rpb24gZmlyaW5nIGZyb20gYm90aCBET01Db250ZW50TG9hZGVkIGFuZCB3aW5kb3cub25sb2FkXG4gICAgc3RhcnRlZDogZmFsc2UsXG5cbiAgICAvLyBBZGQgZXZlbnQgY29uc3RydWN0IGZvciBtb2Rlcm4gYnJvd3NlcnMgb3IgSUVcbiAgICAvLyB3aGljaCBmaXJlcyB0aGUgY2FsbGJhY2sgd2l0aCBhIHByZS1jb252ZXJ0ZWQgdGFyZ2V0IHJlZmVyZW5jZVxuICAgIGFkZEV2ZW50OiBmdW5jdGlvbiAobm9kZSwgdHlwZSwgY2FsbGJhY2spIHtcbiAgICAgIGlmIChub2RlLmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgY2FsbGJhY2soZSwgZS50YXJnZXQpXG4gICAgICAgIH0sIGZhbHNlKVxuICAgICAgfSBlbHNlIGlmIChub2RlLmF0dGFjaEV2ZW50KSB7XG4gICAgICAgIG5vZGUuYXR0YWNoRXZlbnQoJ29uJyArIHR5cGUsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgY2FsbGJhY2soZSwgZS5zcmNFbGVtZW50KVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0sXG5cbiAgICByZW1vdmVFdmVudDogZnVuY3Rpb24gKG5vZGUsIHR5cGUpIHtcbiAgICAgIGlmIChub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIH0sIGZhbHNlKVxuICAgICAgfSBlbHNlIGlmIChub2RlLmRldGFjaEV2ZW50KSB7XG4gICAgICAgIG5vZGUuZGV0YWNoRXZlbnQoJ29uJyArIHR5cGUsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSxcblxuICAgIC8vIENyb3NzLWJyb3dzZXIgY2hhcmFjdGVyIGNvZGUgLyBrZXkgcHJlc3NlZFxuICAgIGNoYXJDb2RlOiBmdW5jdGlvbiAoZSkge1xuICAgICAgcmV0dXJuICh0eXBlb2YgZS53aGljaCA9PT0gJ251bWJlcicpID8gZS53aGljaCA6IGUua2V5Q29kZVxuICAgIH0sXG5cbiAgICAvLyBDcm9zcy1icm93c2VyIHByZXZlbnRpbmcgZGVmYXVsdCBhY3Rpb25cbiAgICBwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlmIChlLnByZXZlbnREZWZhdWx0KSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZS5yZXR1cm5WYWx1ZSA9IGZhbHNlXG4gICAgICB9XG4gICAgfSxcblxuICAgIC8vIEhhbmRsZSBjcm9zcy1tb2RhbCBjbGljayBldmVudHNcbiAgICBhZGRDbGlja0V2ZW50OiBmdW5jdGlvbiAobm9kZSwgY2FsbGJhY2spIHtcbiAgICAgIEdPVlVLLmRldGFpbHMuYWRkRXZlbnQobm9kZSwgJ2tleXByZXNzJywgZnVuY3Rpb24gKGUsIHRhcmdldCkge1xuICAgICAgICAvLyBXaGVuIHRoZSBrZXkgZ2V0cyBwcmVzc2VkIC0gY2hlY2sgaWYgaXQgaXMgZW50ZXIgb3Igc3BhY2VcbiAgICAgICAgaWYgKEdPVlVLLmRldGFpbHMuY2hhckNvZGUoZSkgPT09IEdPVlVLLmRldGFpbHMuS0VZX0VOVEVSIHx8IEdPVlVLLmRldGFpbHMuY2hhckNvZGUoZSkgPT09IEdPVlVLLmRldGFpbHMuS0VZX1NQQUNFKSB7XG4gICAgICAgICAgaWYgKHRhcmdldC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnc3VtbWFyeScpIHtcbiAgICAgICAgICAgIC8vIFByZXZlbnQgc3BhY2UgZnJvbSBzY3JvbGxpbmcgdGhlIHBhZ2VcbiAgICAgICAgICAgIC8vIGFuZCBlbnRlciBmcm9tIHN1Ym1pdHRpbmcgYSBmb3JtXG4gICAgICAgICAgICBHT1ZVSy5kZXRhaWxzLnByZXZlbnREZWZhdWx0KGUpXG4gICAgICAgICAgICAvLyBDbGljayB0byBsZXQgdGhlIGNsaWNrIGV2ZW50IGRvIGFsbCB0aGUgbmVjZXNzYXJ5IGFjdGlvblxuICAgICAgICAgICAgaWYgKHRhcmdldC5jbGljaykge1xuICAgICAgICAgICAgICB0YXJnZXQuY2xpY2soKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gZXhjZXB0IFNhZmFyaSA1LjEgYW5kIHVuZGVyIGRvbid0IHN1cHBvcnQgLmNsaWNrKCkgaGVyZVxuICAgICAgICAgICAgICBjYWxsYmFjayhlLCB0YXJnZXQpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KVxuXG4gICAgICAvLyBQcmV2ZW50IGtleXVwIHRvIHByZXZlbnQgY2xpY2tpbmcgdHdpY2UgaW4gRmlyZWZveCB3aGVuIHVzaW5nIHNwYWNlIGtleVxuICAgICAgR09WVUsuZGV0YWlscy5hZGRFdmVudChub2RlLCAna2V5dXAnLCBmdW5jdGlvbiAoZSwgdGFyZ2V0KSB7XG4gICAgICAgIGlmIChHT1ZVSy5kZXRhaWxzLmNoYXJDb2RlKGUpID09PSBHT1ZVSy5kZXRhaWxzLktFWV9TUEFDRSkge1xuICAgICAgICAgIGlmICh0YXJnZXQubm9kZU5hbWUgPT09ICdTVU1NQVJZJykge1xuICAgICAgICAgICAgR09WVUsuZGV0YWlscy5wcmV2ZW50RGVmYXVsdChlKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSlcblxuICAgICAgR09WVUsuZGV0YWlscy5hZGRFdmVudChub2RlLCAnY2xpY2snLCBmdW5jdGlvbiAoZSwgdGFyZ2V0KSB7XG4gICAgICAgIGNhbGxiYWNrKGUsIHRhcmdldClcbiAgICAgIH0pXG4gICAgfSxcblxuICAgIC8vIEdldCB0aGUgbmVhcmVzdCBhbmNlc3RvciBlbGVtZW50IG9mIGEgbm9kZSB0aGF0IG1hdGNoZXMgYSBnaXZlbiB0YWcgbmFtZVxuICAgIGdldEFuY2VzdG9yOiBmdW5jdGlvbiAobm9kZSwgbWF0Y2gpIHtcbiAgICAgIGRvIHtcbiAgICAgICAgaWYgKCFub2RlIHx8IG5vZGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbWF0Y2gpIHtcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGVcbiAgICAgIH0gd2hpbGUgKG5vZGUpXG5cbiAgICAgIHJldHVybiBub2RlXG4gICAgfSxcblxuICAgIC8vIEluaXRpYWxpc2F0aW9uIGZ1bmN0aW9uXG4gICAgYWRkRGV0YWlsc1BvbHlmaWxsOiBmdW5jdGlvbiAobGlzdCwgY29udGFpbmVyKSB7XG4gICAgICBjb250YWluZXIgPSBjb250YWluZXIgfHwgZG9jdW1lbnQuYm9keVxuICAgICAgLy8gSWYgdGhpcyBoYXMgYWxyZWFkeSBoYXBwZW5lZCwganVzdCByZXR1cm5cbiAgICAgIC8vIGVsc2Ugc2V0IHRoZSBmbGFnIHNvIGl0IGRvZXNuJ3QgaGFwcGVuIGFnYWluXG4gICAgICBpZiAoR09WVUsuZGV0YWlscy5zdGFydGVkKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgR09WVUsuZGV0YWlscy5zdGFydGVkID0gdHJ1ZVxuICAgICAgLy8gR2V0IHRoZSBjb2xsZWN0aW9uIG9mIGRldGFpbHMgZWxlbWVudHMsIGJ1dCBpZiB0aGF0J3MgZW1wdHlcbiAgICAgIC8vIHRoZW4gd2UgZG9uJ3QgbmVlZCB0byBib3RoZXIgd2l0aCB0aGUgcmVzdCBvZiB0aGUgc2NyaXB0aW5nXG4gICAgICBpZiAoKGxpc3QgPSBjb250YWluZXIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2RldGFpbHMnKSkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgLy8gZWxzZSBpdGVyYXRlIHRocm91Z2ggdGhlbSB0byBhcHBseSB0aGVpciBpbml0aWFsIHN0YXRlXG4gICAgICB2YXIgbiA9IGxpc3QubGVuZ3RoXG4gICAgICB2YXIgaSA9IDBcbiAgICAgIGZvciAoaTsgaSA8IG47IGkrKykge1xuICAgICAgICB2YXIgZGV0YWlscyA9IGxpc3RbaV1cblxuICAgICAgICAvLyBTYXZlIHNob3J0Y3V0cyB0byB0aGUgaW5uZXIgc3VtbWFyeSBhbmQgY29udGVudCBlbGVtZW50c1xuICAgICAgICBkZXRhaWxzLl9fc3VtbWFyeSA9IGRldGFpbHMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3N1bW1hcnknKS5pdGVtKDApXG4gICAgICAgIGRldGFpbHMuX19jb250ZW50ID0gZGV0YWlscy5nZXRFbGVtZW50c0J5VGFnTmFtZSgnZGl2JykuaXRlbSgwKVxuXG4gICAgICAgIGlmICghZGV0YWlscy5fX3N1bW1hcnkgfHwgIWRldGFpbHMuX19jb250ZW50KSB7XG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgdGhlIGNvbnRlbnQgZG9lc24ndCBoYXZlIGFuIElELCBhc3NpZ24gaXQgb25lIG5vd1xuICAgICAgICAvLyB3aGljaCB3ZSdsbCBuZWVkIGZvciB0aGUgc3VtbWFyeSdzIGFyaWEtY29udHJvbHMgYXNzaWdubWVudFxuICAgICAgICBpZiAoIWRldGFpbHMuX19jb250ZW50LmlkKSB7XG4gICAgICAgICAgZGV0YWlscy5fX2NvbnRlbnQuaWQgPSAnZGV0YWlscy1jb250ZW50LScgKyBpXG4gICAgICAgIH1cblxuICAgICAgICAvLyBBZGQgQVJJQSByb2xlPVwiZ3JvdXBcIiB0byBkZXRhaWxzXG4gICAgICAgIGRldGFpbHMuc2V0QXR0cmlidXRlKCdyb2xlJywgJ2dyb3VwJylcblxuICAgICAgICAvLyBBZGQgcm9sZT1idXR0b24gdG8gc3VtbWFyeVxuICAgICAgICBkZXRhaWxzLl9fc3VtbWFyeS5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnYnV0dG9uJylcblxuICAgICAgICAvLyBBZGQgYXJpYS1jb250cm9sc1xuICAgICAgICBkZXRhaWxzLl9fc3VtbWFyeS5zZXRBdHRyaWJ1dGUoJ2FyaWEtY29udHJvbHMnLCBkZXRhaWxzLl9fY29udGVudC5pZClcblxuICAgICAgICAvLyBTZXQgdGFiSW5kZXggc28gdGhlIHN1bW1hcnkgaXMga2V5Ym9hcmQgYWNjZXNzaWJsZSBmb3Igbm9uLW5hdGl2ZSBlbGVtZW50c1xuICAgICAgICAvLyBodHRwOi8vd3d3LnNhbGllbmNlcy5jb20vYnJvd3NlckJ1Z3MvdGFiSW5kZXguaHRtbFxuICAgICAgICBpZiAoIUdPVlVLLmRldGFpbHMuTkFUSVZFX0RFVEFJTFMpIHtcbiAgICAgICAgICBkZXRhaWxzLl9fc3VtbWFyeS50YWJJbmRleCA9IDBcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERldGVjdCBpbml0aWFsIG9wZW4gc3RhdGVcbiAgICAgICAgdmFyIG9wZW5BdHRyID0gZGV0YWlscy5nZXRBdHRyaWJ1dGUoJ29wZW4nKSAhPT0gbnVsbFxuICAgICAgICBpZiAob3BlbkF0dHIgPT09IHRydWUpIHtcbiAgICAgICAgICBkZXRhaWxzLl9fc3VtbWFyeS5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAndHJ1ZScpXG4gICAgICAgICAgZGV0YWlscy5fX2NvbnRlbnQuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICdmYWxzZScpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGV0YWlscy5fX3N1bW1hcnkuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJylcbiAgICAgICAgICBkZXRhaWxzLl9fY29udGVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKVxuICAgICAgICAgIGlmICghR09WVUsuZGV0YWlscy5OQVRJVkVfREVUQUlMUykge1xuICAgICAgICAgICAgZGV0YWlscy5fX2NvbnRlbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENyZWF0ZSBhIGNpcmN1bGFyIHJlZmVyZW5jZSBmcm9tIHRoZSBzdW1tYXJ5IGJhY2sgdG8gaXRzXG4gICAgICAgIC8vIHBhcmVudCBkZXRhaWxzIGVsZW1lbnQsIGZvciBjb252ZW5pZW5jZSBpbiB0aGUgY2xpY2sgaGFuZGxlclxuICAgICAgICBkZXRhaWxzLl9fc3VtbWFyeS5fX2RldGFpbHMgPSBkZXRhaWxzXG5cbiAgICAgICAgLy8gSWYgdGhpcyBpcyBub3QgYSBuYXRpdmUgaW1wbGVtZW50YXRpb24sIGNyZWF0ZSBhbiBhcnJvd1xuICAgICAgICAvLyBpbnNpZGUgdGhlIHN1bW1hcnlcbiAgICAgICAgaWYgKCFHT1ZVSy5kZXRhaWxzLk5BVElWRV9ERVRBSUxTKSB7XG4gICAgICAgICAgdmFyIHR3aXN0eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2knKVxuXG4gICAgICAgICAgaWYgKG9wZW5BdHRyID09PSB0cnVlKSB7XG4gICAgICAgICAgICB0d2lzdHkuY2xhc3NOYW1lID0gJ2Fycm93IGFycm93LW9wZW4nXG4gICAgICAgICAgICB0d2lzdHkuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJ1xcdTI1YmMnKSlcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdHdpc3R5LmNsYXNzTmFtZSA9ICdhcnJvdyBhcnJvdy1jbG9zZWQnXG4gICAgICAgICAgICB0d2lzdHkuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJ1xcdTI1YmEnKSlcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBkZXRhaWxzLl9fc3VtbWFyeS5fX3R3aXN0eSA9IGRldGFpbHMuX19zdW1tYXJ5Lmluc2VydEJlZm9yZSh0d2lzdHksIGRldGFpbHMuX19zdW1tYXJ5LmZpcnN0Q2hpbGQpXG4gICAgICAgICAgZGV0YWlscy5fX3N1bW1hcnkuX190d2lzdHkuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJylcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBCaW5kIGEgY2xpY2sgZXZlbnQgdG8gaGFuZGxlIHN1bW1hcnkgZWxlbWVudHNcbiAgICAgIEdPVlVLLmRldGFpbHMuYWRkQ2xpY2tFdmVudChjb250YWluZXIsIGZ1bmN0aW9uIChlLCBzdW1tYXJ5KSB7XG4gICAgICAgIGlmICghKHN1bW1hcnkgPSBHT1ZVSy5kZXRhaWxzLmdldEFuY2VzdG9yKHN1bW1hcnksICdzdW1tYXJ5JykpKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gR09WVUsuZGV0YWlscy5zdGF0ZWNoYW5nZShzdW1tYXJ5KVxuICAgICAgfSlcbiAgICB9LFxuXG4gICAgLy8gRGVmaW5lIGEgc3RhdGVjaGFuZ2UgZnVuY3Rpb24gdGhhdCB1cGRhdGVzIGFyaWEtZXhwYW5kZWQgYW5kIHN0eWxlLmRpc3BsYXlcbiAgICAvLyBBbHNvIHVwZGF0ZSB0aGUgYXJyb3cgcG9zaXRpb25cbiAgICBzdGF0ZWNoYW5nZTogZnVuY3Rpb24gKHN1bW1hcnkpIHtcbiAgICAgIHZhciBleHBhbmRlZCA9IHN1bW1hcnkuX19kZXRhaWxzLl9fc3VtbWFyeS5nZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnKSA9PT0gJ3RydWUnXG4gICAgICB2YXIgaGlkZGVuID0gc3VtbWFyeS5fX2RldGFpbHMuX19jb250ZW50LmdldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nKSA9PT0gJ3RydWUnXG5cbiAgICAgIHN1bW1hcnkuX19kZXRhaWxzLl9fc3VtbWFyeS5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAoZXhwYW5kZWQgPyAnZmFsc2UnIDogJ3RydWUnKSlcbiAgICAgIHN1bW1hcnkuX19kZXRhaWxzLl9fY29udGVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgKGhpZGRlbiA/ICdmYWxzZScgOiAndHJ1ZScpKVxuXG4gICAgICBpZiAoIUdPVlVLLmRldGFpbHMuTkFUSVZFX0RFVEFJTFMpIHtcbiAgICAgICAgc3VtbWFyeS5fX2RldGFpbHMuX19jb250ZW50LnN0eWxlLmRpc3BsYXkgPSAoZXhwYW5kZWQgPyAnbm9uZScgOiAnJylcblxuICAgICAgICB2YXIgaGFzT3BlbkF0dHIgPSBzdW1tYXJ5Ll9fZGV0YWlscy5nZXRBdHRyaWJ1dGUoJ29wZW4nKSAhPT0gbnVsbFxuICAgICAgICBpZiAoIWhhc09wZW5BdHRyKSB7XG4gICAgICAgICAgc3VtbWFyeS5fX2RldGFpbHMuc2V0QXR0cmlidXRlKCdvcGVuJywgJ29wZW4nKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN1bW1hcnkuX19kZXRhaWxzLnJlbW92ZUF0dHJpYnV0ZSgnb3BlbicpXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHN1bW1hcnkuX190d2lzdHkpIHtcbiAgICAgICAgc3VtbWFyeS5fX3R3aXN0eS5maXJzdENoaWxkLm5vZGVWYWx1ZSA9IChleHBhbmRlZCA/ICdcXHUyNWJhJyA6ICdcXHUyNWJjJylcbiAgICAgICAgc3VtbWFyeS5fX3R3aXN0eS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgKGV4cGFuZGVkID8gJ2Fycm93IGFycm93LWNsb3NlZCcgOiAnYXJyb3cgYXJyb3ctb3BlbicpKVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH0sXG5cbiAgICBkZXN0cm95OiBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgR09WVUsuZGV0YWlscy5yZW1vdmVFdmVudChub2RlLCAnY2xpY2snKVxuICAgIH0sXG5cbiAgICAvLyBCaW5kIHR3byBsb2FkIGV2ZW50cyBmb3IgbW9kZXJuIGFuZCBvbGRlciBicm93c2Vyc1xuICAgIC8vIElmIHRoZSBmaXJzdCBvbmUgZmlyZXMgaXQgd2lsbCBzZXQgYSBmbGFnIHRvIGJsb2NrIHRoZSBzZWNvbmQgb25lXG4gICAgLy8gYnV0IGlmIGl0J3Mgbm90IHN1cHBvcnRlZCB0aGVuIHRoZSBzZWNvbmQgb25lIHdpbGwgZmlyZVxuICAgIGluaXQ6IGZ1bmN0aW9uICgkY29udGFpbmVyKSB7XG4gICAgICBHT1ZVSy5kZXRhaWxzLmFkZEV2ZW50KGRvY3VtZW50LCAnRE9NQ29udGVudExvYWRlZCcsIEdPVlVLLmRldGFpbHMuYWRkRGV0YWlsc1BvbHlmaWxsKVxuICAgICAgR09WVUsuZGV0YWlscy5hZGRFdmVudCh3aW5kb3csICdsb2FkJywgR09WVUsuZGV0YWlscy5hZGREZXRhaWxzUG9seWZpbGwpXG4gICAgfVxuICB9XG4gIGdsb2JhbC5HT1ZVSyA9IEdPVlVLXG59KSh3aW5kb3cpXG4iLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIE5TQSA9IE5TQSB8fCB7fTtcbnZhciBmaWx0ZXJCb3hlcyA9ICQoJy5maWx0ZXItYm94Jyk7XG5cbk5TQS5maWx0ZXJzID0ge1xuICBpbml0OiBmdW5jdGlvbiAoKSB7XG4gICAgZmlsdGVyQm94ZXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoYXQgPSAkKHRoaXMpLFxuICAgICAgICAgIGhlYWRlciA9ICR0aGF0LmZpbmQoJy5jb250YWluZXItaGVhZCcpLFxuICAgICAgICAgIHRpdGxlID0gaGVhZGVyLmZpbmQoJy5vcHRpb24tc2VsZWN0LWxhYmVsJyksXG4gICAgICAgICAgY2hlY2tib3hlcyA9ICR0aGF0LmZpbmQoJ2lucHV0OmNoZWNrYm94JyksXG4gICAgICAgICAgYnV0dG9uID0gJCgnPGJ1dHRvbiAvPicpLmFkZENsYXNzKCdqcy1jb250YWluZXItaGVhZCcpLFxuICAgICAgICAgIGNoZWNrQ291bnQgPSAkKCc8ZGl2IC8+JykuYWRkQ2xhc3MoJ2pzLXNlbGVjdGVkLWNvdW50ZXInKTtcblxuICAgICAgYnV0dG9uLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gJCh0aGlzKS5uZXh0KCk7XG4gICAgICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKCdjbG9zZWQnKSkge1xuICAgICAgICAgIG9wdGlvbnMuc2hvdygpO1xuICAgICAgICAgICQodGhpcylcbiAgICAgICAgICAgIC5yZW1vdmVDbGFzcygnY2xvc2VkJylcbiAgICAgICAgICAgIC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgdHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3B0aW9ucy5oaWRlKCk7XG4gICAgICAgICAgJCh0aGlzKVxuICAgICAgICAgICAgLmFkZENsYXNzKCdjbG9zZWQnKVxuICAgICAgICAgICAgLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfSkuYXBwZW5kKHRpdGxlLCBjaGVja0NvdW50KTtcblxuICAgICAgaGVhZGVyLnJlcGxhY2VXaXRoKGJ1dHRvbik7XG5cbiAgICAgIGNoZWNrYm94ZXMub24oJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2hlY2tDb3VudC50ZXh0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBjaGVja2JveGVzLmZpbHRlcignOmNoZWNrZWQnKS5sZW5ndGggPiAwID8gY2hlY2tib3hlcy5maWx0ZXIoJzpjaGVja2VkJykubGVuZ3RoICsgJyBzZWxlY3RlZCcgOiAnJztcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxufVxuXG5pZiAoZmlsdGVyQm94ZXMubGVuZ3RoID4gMCkge1xuICBOU0EuZmlsdGVycy5pbml0KCk7XG59XG4iLCJ2YXIgZ2FFdmVudCA9ICQoJyNnYS1ldmVudCcpO1xuXG5pZiAoZ2FFdmVudC5sZW5ndGggPiAwKSB7XG4gIHZhciBjYXRlZ29yeSA9IGdhRXZlbnQuZGF0YSgnY2F0ZWdvcnknKSxcbiAgICBsYWJlbCA9IGdhRXZlbnQuZGF0YSgnbGFiZWwnKSxcbiAgICBldmVudCA9IGdhRXZlbnQuZGF0YSgnZXZlbnQnKTtcblxuICBpZiAoZXZlbnQgIT09ICcnICYmIGxhYmVsICE9PSAnJyAmJiBjYXRlZ29yeSAhPT0gJycpIHtcbiAgICBndGFnKCdldmVudCcsIGV2ZW50LCB7XG4gICAgICBldmVudF9jYXRlZ29yeTogY2F0ZWdvcnksXG4gICAgICBldmVudF9sYWJlbDogbGFiZWwsXG4gICAgfSk7XG4gIH1cbn1cblxuJCgnLm5vdGlmaWNhdGlvbiBhJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICBpZiAoJCh0aGlzKS5kYXRhKCdjbGllbnRpZCcpKSB7XG4gICAgZ3RhZygnZXZlbnQnLCAnZG93bmxvYWQnLCB7XG4gICAgICBldmVudF9jYXRlZ29yeTogJ21pZ3JhdGlvbi1oZWxwLXBkZicsXG4gICAgICBldmVudF9sYWJlbDogJCh0aGlzKS5kYXRhKCdjbGllbnRpZCcpLFxuICAgIH0pO1xuICB9XG59KTtcbiIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgTlNBID0gTlNBIHx8IHt9O1xuXG5OU0Euc2lnbmluID0ge1xuICBmb3JtOiAkKCcuZm9ybS1zaWduaW4nKSxcbiAgaW5pdDogZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuc2V0dXBFdmVudHMoKTtcbiAgfSxcbiAgc2V0dXBFdmVudHM6IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZvcm0ub24oJ3N1Ym1pdCcsIHRoaXMsIHRoaXMuaGFuZGxlU3VibWl0KTtcbiAgfSxcbiAgaGFuZGxlU3VibWl0OiBmdW5jdGlvbiAoZSkge1xuXG4gICAgdmFyICRmb3JtID0gJCh0aGlzKTtcbiAgICB2YXIgJGlucHV0cyA9ICRmb3JtLmZpbmQoJ2lucHV0Jykubm90KCc6Y2hlY2tib3gnKSwgcG9zdERhdGEgPSB7fSwgJHN1Ym1pdEJ1dHRvbnMgPSAkKHRoaXMpLmZpbmQoJ2J1dHRvbjpzdWJtaXQnKSwgJHN1Ym1pdEJ1dHRvbiA9ICRzdWJtaXRCdXR0b25zLmVxKDApO1xuXG4gICAgJHN1Ym1pdEJ1dHRvbnMuYXR0cignZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcblxuICAgICRzdWJtaXRCdXR0b24uY3NzKCdtaW4td2lkdGgnLCAkc3VibWl0QnV0dG9uLm91dGVyV2lkdGgoKSArICdweCcpXG5cbiAgICAkc3VibWl0QnV0dG9uLmZpbmQoJy5sb2FkZXInKS5yZW1vdmVDbGFzcygndmgnKTtcblxuICAgICRpbnB1dHMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgIHBvc3REYXRhW3RoaXMubmFtZV0gPSAkKHRoaXMpLnZhbCgpO1xuICAgIH0pO1xuXG4gICAgJCgnI3Bhc3N3b3JkJykucHJvcCgndHlwZScsICdwYXNzd29yZCcpLm5leHQoKS5yZW1vdmVDbGFzcygndHlwZS1wYXNzd29yZCcpO1xuXG4gICAgJC5hamF4KHtcbiAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgIGRhdGE6IHBvc3REYXRhLFxuICAgICAgdXJsOiAkZm9ybS5hdHRyKCdhY3Rpb24nKSxcbiAgICAgIGNvbnRleHQ6IGUuZGF0YSxcbiAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICBpZiAoZGF0YS5yZWRpcmVjdCkge1xuICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gZGF0YS51cmk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGRhdGEuaXNGYWlsZWRMb2dpbikge1xuICAgICAgICAgICAgdGhpcy5yZXNldFZhbGlkYXRpb24oJGZvcm0pO1xuICAgICAgICAgICAgdGhpcy5zaG93VmFsaWRhdGlvbk1lc3NhZ2UoZGF0YS52YWxpZGF0aW9uTWVzc2FnZXMpO1xuICAgICAgICAgICAgdGhpcy5zaG93SW5saW5lVmFsaWRhdGlvbihkYXRhLnZhbGlkYXRpb25NZXNzYWdlcyk7XG4gICAgICAgICAgICAkc3VibWl0QnV0dG9ucy5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgJHN1Ym1pdEJ1dHRvbi5maW5kKCcubG9hZGVyJykuYWRkQ2xhc3MoJ3ZoJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGd0YWcoJ2V2ZW50JywgJ1N1Y2Nlc3NmdWwgbG9naW4nLCB7XG4gICAgICAgICAgICAgIGV2ZW50X2NhdGVnb3J5OiAnTG9naW4nLFxuICAgICAgICAgICAgICBldmVudF9sYWJlbDogZ2V0UGFyYW1ldGVyQnlOYW1lKCdjbGllbnRpZCcpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmJ1aWxkRm9ybUFuZFN1Ym1pdChkYXRhKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBlcnJvcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMucmVzZXRWYWxpZGF0aW9uKCRmb3JtKTtcbiAgICAgICAgdGhpcy5zaG93VmFsaWRhdGlvbk1lc3NhZ2UoKTtcbiAgICAgICAgJHN1Ym1pdEJ1dHRvbnMucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcbiAgICAgICAgJHN1Ym1pdEJ1dHRvbi5maW5kKCcubG9hZGVyJykuYWRkQ2xhc3MoJ3ZoJyk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICB9LFxuICByZXNldFZhbGlkYXRpb246IGZ1bmN0aW9uICgkZm9ybSkge1xuXG4gICAgdmFyICRmb3JtR3JvdXBzID0gJGZvcm0uZmluZCgnLmZvcm0tZ3JvdXAnKTtcblxuICAgICQoJy5lcnJvci1zdW1tYXJ5JykucmVtb3ZlKCk7XG5cbiAgICAkZm9ybUdyb3Vwcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkZmllbGQgPSAkKHRoaXMpLmZpbmQoJ2lucHV0JykuZXEoMCk7XG4gICAgICBpZiAoJCh0aGlzKS5oYXNDbGFzcygnZm9ybS1ncm91cC1lcnJvcicpKSB7XG4gICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2Zvcm0tZ3JvdXAtZXJyb3InKTtcbiAgICAgICAgJCh0aGlzKS5maW5kKCdwLmVycm9yLW1lc3NhZ2UnKS5yZW1vdmUoKTtcbiAgICAgICAgJGZpZWxkLnJlbW92ZUF0dHIoJ2FyaWEtZGVzY3JpYmVkYnknKS5yZW1vdmVBdHRyKCdhcmlhLWludmFsaWQnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcblxuICBzaG93VmFsaWRhdGlvbk1lc3NhZ2U6IGZ1bmN0aW9uIChtZXNzYWdlcykge1xuXG4gICAgdmFyICRkaXYgPSAkKCc8ZGl2IC8+JykuYXR0cignY2xhc3MnLCAnZXJyb3Itc3VtbWFyeScpLmF0dHIoJ3JvbGUnLCAnYWxlcnQnKS5hdHRyKCd0YWJpbmRleCcsICctMScpO1xuICAgIHZhciAkaDIgPSAkKCc8aDIgLz4nKS5hdHRyKCdjbGFzcycsICdoZWFkaW5nLW1lZGl1bSBlcnJvci1zdW1tYXJ5LWhlYWRpbmcnKS5hdHRyKCdpZCcsICdlcnJvci1zdW1tYXJ5Jyk7XG4gICAgdmFyICR1bCA9ICQoJzx1bCAvPicpLmF0dHIoJ2NsYXNzJywgJ2Vycm9yLXN1bW1hcnktbGlzdCcpO1xuXG4gICAgaWYgKG1lc3NhZ2VzKSB7XG4gICAgICAkaDIudGV4dCgnSW5mb3JtYXRpb24gbWlzc2luZyBvciBpbmNvcnJlY3QnKTtcbiAgICAgICQuZWFjaChtZXNzYWdlcywgZnVuY3Rpb24gKGluZGV4LCB2YWx1ZSkge1xuICAgICAgICBpZiAoaW5kZXggPT09ICdsb2dpbkVycm9yJykge1xuICAgICAgICAgIGluZGV4ID0gJ3VzZXJuYW1lJztcbiAgICAgICAgICBndGFnKCdldmVudCcsICdGYWlsZWQgbG9naW4nLCB7XG4gICAgICAgICAgICBldmVudF9jYXRlZ29yeTogJ0xvZ2luJyxcbiAgICAgICAgICAgIGV2ZW50X2xhYmVsOiAnVXNlcnMgbG9naW4gY3JlZGVudGlhbHMgd2VyZSB3cm9uZycsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyICRhID0gJCgnPGEgLz4nKS5hdHRyKCdocmVmJywgJyMnICsgaW5kZXgpLnRleHQodmFsdWUpO1xuICAgICAgICB2YXIgJGxpID0gJCgnPGxpIC8+JykuYXBwZW5kKCRhKTtcbiAgICAgICAgJHVsLmFwcGVuZCgkbGkpO1xuICAgICAgfSk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgJGgyLnRleHQoJ1RoZXJlIGhhcyBiZWVuIGFuIGVycm9yJyk7XG4gICAgICB2YXIgJGxpID0gJCgnPGxpIC8+JykuaHRtbCgnUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci4gSWYgdGhlIHByb2JsZW0gY29udGludWVzLCBmb2xsb3cgdGhlIGxpbmsgdG8gPGEgaHJlZj1cImh0dHBzOi8vaGVscC5zaWduaW4uZWR1Y2F0aW9uLmdvdi51ay9jb250YWN0L2Zvcm1cIj5zdWJtaXQgYSBzdXBwb3J0IHJlcXVlc3Q8L2E+Jyk7XG4gICAgICAkdWwuYXBwZW5kKCRsaSk7XG4gICAgICBndGFnKCdldmVudCcsICdFcnJvciBvY2N1cnJlZCcsIHtcbiAgICAgICAgZXZlbnRfY2F0ZWdvcnk6ICdMb2dpbicsXG4gICAgICAgIGV2ZW50X2xhYmVsOiAnQSBzZXJ2ZXIgZXJyb3Igb2NjdXJyZWQgZHVyaW5nIGxvZ2luJyxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgICRkaXYuYXBwZW5kKCRoMikuYXBwZW5kKCR1bCk7XG4gICAgJCgnbWFpbicpLnByZXBlbmQoJGRpdik7XG5cbiAgICAkKCdodG1sLCBib2R5JykuYW5pbWF0ZSh7XG4gICAgICBzY3JvbGxUb3A6ICRkaXYub2Zmc2V0KCkudG9wIC0gMTVcbiAgICB9LCAzMDApO1xuXG4gIH0sXG4gIHNob3dJbmxpbmVWYWxpZGF0aW9uOiBmdW5jdGlvbihtZXNzYWdlcykge1xuXG4gICAgJC5lYWNoKG1lc3NhZ2VzLCBmdW5jdGlvbiggaW5kZXgsIHZhbHVlICkge1xuICAgICAgdmFyICRmaWVsZCA9ICQoJ2lucHV0W25hbWU9JyArIGluZGV4ICsgJ10nKSxcbiAgICAgICAgJHBhcmVudCA9ICRmaWVsZC5wYXJlbnQoKTtcblxuICAgICAgaWYgKCRwYXJlbnQuaGFzQ2xhc3MoJ3Nob3ctcGFzc3dvcmQnKSkge1xuICAgICAgICAkcGFyZW50ID0gJHBhcmVudC5wYXJlbnQoKTtcbiAgICAgIH1cblxuICAgICAgdmFyICRsYWJlbCA9ICRwYXJlbnQuZmluZCgnbGFiZWwnKS5maXJzdCgpO1xuXG4gICAgICBpZiAoISRwYXJlbnQuaGFzQ2xhc3MoJ2Zvcm0tZ3JvdXAtZXJyb3InKSkge1xuXG4gICAgICAgIHZhciBlcnJvck1lc3NhZ2UgPSAkKCc8cD4nKVxuICAgICAgICAgIC5odG1sKHZhbHVlKVxuICAgICAgICAgIC5wcm9wKCdjbGFzcycsICdlcnJvci1tZXNzYWdlJylcbiAgICAgICAgICAucHJvcCgnaWQnLCAndmFsaWRhdGlvbi0nICsgaW5kZXgpO1xuICAgICAgfVxuXG4gICAgICAkbGFiZWwuYWZ0ZXIoZXJyb3JNZXNzYWdlKTtcbiAgICAgICRwYXJlbnQuYWRkQ2xhc3MoJ2Zvcm0tZ3JvdXAtZXJyb3InKTtcbiAgICAgICRmaWVsZC5hdHRyKHtcbiAgICAgICAgJ2FyaWEtZGVzY3JpYmVkYnknIDogJ3ZhbGlkYXRpb24tJyArIGluZGV4LFxuICAgICAgICAnYXJpYS1pbnZhbGlkJzogJ3RydWUnXG4gICAgICB9KTtcblxuICAgIH0pO1xuXG4gIH0sXG4gIGJ1aWxkRm9ybUFuZFN1Ym1pdDogZnVuY3Rpb24gKGRhdGEpIHtcblxuICAgIHZhciAkZm9ybSA9ICQoJzxmb3JtIC8+JykuYXR0cih7XG4gICAgICBtZXRob2Q6ICdwb3N0JyxcbiAgICAgIGFjdGlvbjogZGF0YS5kZXN0aW5hdGlvbixcbiAgICAgIGlkOiAnZGZlc2lnbmluZm9ybSdcbiAgICB9KTtcblxuICAgICQuZWFjaChkYXRhLnBvc3RiYWNrRGF0YSwgZnVuY3Rpb24oIGluZGV4LCB2YWx1ZSApIHtcbiAgICAgIHZhciAkZmllbGQgPSAkKCc8aW5wdXQgLz4nKS5hdHRyKHtcbiAgICAgICAgdHlwZTogJ2hpZGRlbicsXG4gICAgICAgIG5hbWU6IGluZGV4LFxuICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICAgIH0pO1xuICAgICAgJGZvcm0uYXBwZW5kKCRmaWVsZCk7XG4gICAgfSk7XG5cbiAgICAkKCcjZGZlc2lnbmluZm9ybScpLnJlbW92ZSgpO1xuICAgICQoJ2JvZHknKS5hcHBlbmQoJGZvcm0pO1xuICAgICRmb3JtLnN1Ym1pdCgpO1xuICB9LFxufTtcblxuaWYgKCQoJy5mb3JtLXNpZ25pbicpLmxlbmd0aCA+IDApIHtcbiAgTlNBLnNpZ25pbi5pbml0KCk7XG59XG5cbmZ1bmN0aW9uIGdldFBhcmFtZXRlckJ5TmFtZShuYW1lLCB1cmwpIHtcbiAgaWYgKCF1cmwpIHVybCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xuICBuYW1lID0gbmFtZS5yZXBsYWNlKC9bXFxbXFxdXS9nLCBcIlxcXFwkJlwiKTtcbiAgdmFyIHJlZ2V4ID0gbmV3IFJlZ0V4cChcIls/Jl1cIiArIG5hbWUgKyBcIig9KFteJiNdKil8JnwjfCQpXCIpLFxuICAgIHJlc3VsdHMgPSByZWdleC5leGVjKHVybCk7XG4gIGlmICghcmVzdWx0cykgcmV0dXJuIG51bGw7XG4gIGlmICghcmVzdWx0c1syXSkgcmV0dXJuICcnO1xuICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHJlc3VsdHNbMl0ucmVwbGFjZSgvXFwrL2csIFwiIFwiKSk7XG59XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gc29ydFRhYmxlKG4pIHtcbiAgdmFyIHRhYmxlLCByb3dzLCBzd2l0Y2hpbmcsIGksIHgsIHksIHNob3VsZFN3aXRjaCwgZGlyZWN0aW9uLCBzd2l0Y2hjb3VudCA9IDA7XG4gIHRhYmxlID0gJCgndGFibGUuc29ydGFibGUnKTtcbiAgc3dpdGNoaW5nID0gdHJ1ZTtcbiAgZGlyZWN0aW9uID0gJ2EnO1xuXG4gIHdoaWxlIChzd2l0Y2hpbmcpIHtcblxuICAgIHN3aXRjaGluZyA9IGZhbHNlO1xuICAgIHJvd3MgPSB0YWJsZS5maW5kKCd0cicpO1xuXG4gICAgZm9yIChpID0gMTsgaSA8IChyb3dzLmxlbmd0aCAtIDEpOyBpKyspIHtcblxuICAgICAgc2hvdWxkU3dpdGNoID0gZmFsc2U7XG5cbiAgICAgIHggPSByb3dzW2ldLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdURCcpW25dO1xuICAgICAgeSA9IHJvd3NbaSArIDFdLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdURCcpW25dO1xuXG4gICAgICBpZiAoZGlyZWN0aW9uID09PSAnYScpIHtcbiAgICAgICAgaWYgKHguaW5uZXJIVE1MLnRvTG93ZXJDYXNlKCkgPiB5LmlubmVySFRNTC50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgICAgc2hvdWxkU3dpdGNoID0gdHJ1ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT09ICdkJykge1xuICAgICAgICBpZiAoeC5pbm5lckhUTUwudG9Mb3dlckNhc2UoKSA8IHkuaW5uZXJIVE1MLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgICBzaG91bGRTd2l0Y2ggPSB0cnVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHNob3VsZFN3aXRjaCkge1xuXG4gICAgICByb3dzW2ldLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHJvd3NbaSArIDFdLCByb3dzW2ldKTtcbiAgICAgIHN3aXRjaGluZyA9IHRydWU7XG5cbiAgICAgIHN3aXRjaGNvdW50ICsrO1xuXG4gICAgfSBlbHNlIHtcblxuICAgICAgaWYgKHN3aXRjaGNvdW50ID09PSAwICYmIGRpcmVjdGlvbiA9PT0gJ2EnKSB7XG4gICAgICAgIGRpcmVjdGlvbiA9ICdkJztcbiAgICAgICAgc3dpdGNoaW5nID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgIH1cbiAgfVxuICByZXR1cm4gZGlyZWN0aW9uO1xufVxuXG4kKGZ1bmN0aW9uICgpIHtcblxuICAkKCd0YWJsZS5zb3J0YWJsZSB0aGVhZCB0aCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBoZWFkaW5nQ2VsbHMgPSAkKCd0YWJsZS5zb3J0YWJsZSB0aGVhZCB0ciB0aCcpO1xuXG4gICAgaGVhZGluZ0NlbGxzLnJlbW92ZUNsYXNzKCdzb3J0ZWQnKS5yZW1vdmVDbGFzcygnZGlyLWEnKS5yZW1vdmVDbGFzcygnZGlyLWQnKTtcblxuICAgIHZhciBpbmRleCA9IGhlYWRpbmdDZWxscy5pbmRleCgkKHRoaXMpKTtcblxuICAgIHZhciBkaXJlY3Rpb24gPSBzb3J0VGFibGUoaW5kZXgpO1xuXG4gICAgJCh0aGlzKS5hZGRDbGFzcygnc29ydGVkIGRpci0nICsgZGlyZWN0aW9uKTtcblxuICB9KTtcblxufSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIE5TQSA9IE5TQSB8fCB7fTtcblxuTlNBLm1vZGFsID0ge1xuICBlbGVtczoge1xuICAgIGxpbmtzOiAkKCcubW9kYWwtbGluaycpLFxuICAgIG1vZGFsczogJCgnLm1vZGFsJylcbiAgfSxcbiAgaW5pdDogZnVuY3Rpb24gKCkge1xuICAgIHRoaXMubW9kYWxCZygpO1xuICAgIHRoaXMuc2V0VXBFdmVudHMoKTtcbiAgfSxcbiAgbW9kYWxCZzogZnVuY3Rpb24gKCkge1xuICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICB2YXIgYmcgPSAkKCc8ZGl2PicpLmFkZENsYXNzKCdtb2RhbC1iZycpLmhpZGUoKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7IHRoYXQuaGlkZU1vZGFscygpOyB9KTtcbiAgICAkKCdib2R5JykuYXBwZW5kKGJnKTtcbiAgfSxcbiAgc2V0VXBFdmVudHM6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgdGhpcy5lbGVtcy5saW5rcy5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIHRhcmdldCA9ICQodGhpcykuYXR0cignaHJlZicpO1xuICAgICAgdGhhdC5zaG93TW9kYWwoJCh0YXJnZXQpKTtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcblxuICAgIHRoYXQuZWxlbXMubW9kYWxzLmZpbmQoJy5jbG9zZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICB0aGF0LmhpZGVNb2RhbHMoKTtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcblxuICAgICQoJ2JvZHknKS5vbigna2V5ZG93bicsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBpZiAoKGUua2V5Q29kZSB8fCBlLndoaWNoKSA9PT0gMjcpXG4gICAgICAgIHRoYXQuaGlkZU1vZGFscygpO1xuICAgIH0pO1xuICB9LFxuICBzaG93TW9kYWw6IGZ1bmN0aW9uIChtb2RhbCkge1xuICAgICQoJ2h0bWwnKS5hZGRDbGFzcygnbW9kYWwtb3BlbicpO1xuICAgICQoJy5tb2RhbC1iZycpLnNob3coKTtcbiAgICBtb2RhbC5zaG93KCk7XG4gIH0sXG4gIGhpZGVNb2RhbHM6IGZ1bmN0aW9uICgpIHtcbiAgICAkKCdodG1sJykucmVtb3ZlQ2xhc3MoJ21vZGFsLW9wZW4nKTtcbiAgICAkKCcubW9kYWwtYmcnKS5oaWRlKCk7XG4gICAgdGhpcy5lbGVtcy5tb2RhbHMuaGlkZSgpO1xuICB9XG59XG5cbk5TQS5tb2RhbC5pbml0KCk7XG4iLCI7KGZ1bmN0aW9uIChnbG9iYWwpIHtcbiAgJ3VzZSBzdHJpY3QnXG5cbiAgdmFyICQgPSBnbG9iYWwualF1ZXJ5XG4gIHZhciBHT1ZVSyA9IGdsb2JhbC5HT1ZVSyB8fCB7fVxuXG4gIGZ1bmN0aW9uIFNob3dIaWRlQ29udGVudCAoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzXG5cbiAgICAvLyBSYWRpbyBhbmQgQ2hlY2tib3ggc2VsZWN0b3JzXG4gICAgdmFyIHNlbGVjdG9ycyA9IHtcbiAgICAgIG5hbWVzcGFjZTogJ1Nob3dIaWRlQ29udGVudCcsXG4gICAgICByYWRpbzogJ1tkYXRhLXRhcmdldF0gPiBpbnB1dFt0eXBlPVwicmFkaW9cIl0nLFxuICAgICAgY2hlY2tib3g6ICdbZGF0YS10YXJnZXRdID4gaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJyxcbiAgICAgIGxpbms6ICdhLmpzLXRvZ2dsZS1jb250ZW50J1xuICAgIH1cblxuICAgIC8vIEVzY2FwZSBuYW1lIGF0dHJpYnV0ZSBmb3IgdXNlIGluIERPTSBzZWxlY3RvclxuICAgIGZ1bmN0aW9uIGVzY2FwZUVsZW1lbnROYW1lIChzdHIpIHtcbiAgICAgIHZhciByZXN1bHQgPSBzdHIucmVwbGFjZSgnWycsICdcXFxcWycpLnJlcGxhY2UoJ10nLCAnXFxcXF0nKVxuICAgICAgcmV0dXJuIHJlc3VsdFxuICAgIH1cblxuICAgIC8vIEFkZHMgQVJJQSBhdHRyaWJ1dGVzIHRvIGNvbnRyb2wgKyBhc3NvY2lhdGVkIGNvbnRlbnRcbiAgICBmdW5jdGlvbiBpbml0VG9nZ2xlZENvbnRlbnQgKCkge1xuICAgICAgdmFyICRjb250cm9sID0gJCh0aGlzKVxuICAgICAgdmFyICRjb250ZW50ID0gZ2V0VG9nZ2xlZENvbnRlbnQoJGNvbnRyb2wpXG5cbiAgICAgIC8vIFNldCBhcmlhLWNvbnRyb2xzIGFuZCBkZWZhdWx0c1xuICAgICAgaWYgKCRjb250ZW50Lmxlbmd0aCkge1xuICAgICAgICAkY29udHJvbC5hdHRyKCdhcmlhLWNvbnRyb2xzJywgJGNvbnRlbnQuYXR0cignaWQnKSlcbiAgICAgICAgJGNvbnRyb2wuYXR0cignYXJpYS1leHBhbmRlZCcsICdmYWxzZScpXG4gICAgICAgICRjb250ZW50LmF0dHIoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJldHVybiB0b2dnbGVkIGNvbnRlbnQgZm9yIGNvbnRyb2xcbiAgICBmdW5jdGlvbiBnZXRUb2dnbGVkQ29udGVudCAoJGNvbnRyb2wpIHtcbiAgICAgIHZhciBpZCA9ICRjb250cm9sLmF0dHIoJ2FyaWEtY29udHJvbHMnKVxuXG4gICAgICAvLyBBUklBIGF0dHJpYnV0ZXMgYXJlbid0IHNldCBiZWZvcmUgaW5pdFxuICAgICAgaWYgKCFpZCkge1xuICAgICAgICBpZCA9ICRjb250cm9sLmNsb3Nlc3QoJ1tkYXRhLXRhcmdldF0nKS5kYXRhKCd0YXJnZXQnKVxuICAgICAgfVxuXG4gICAgICAvLyBGaW5kIHNob3cvaGlkZSBjb250ZW50IGJ5IGlkXG4gICAgICByZXR1cm4gJCgnIycgKyBpZClcbiAgICB9XG5cbiAgICAvLyBTaG93IHRvZ2dsZWQgY29udGVudCBmb3IgY29udHJvbFxuICAgIGZ1bmN0aW9uIHNob3dUb2dnbGVkQ29udGVudCAoJGNvbnRyb2wsICRjb250ZW50KSB7XG4gICAgICAvLyBTaG93IGNvbnRlbnRcbiAgICAgIGlmICgkY29udGVudC5oYXNDbGFzcygnanMtaGlkZGVuJykpIHtcbiAgICAgICAgJGNvbnRlbnQucmVtb3ZlQ2xhc3MoJ2pzLWhpZGRlbicpXG4gICAgICAgICRjb250ZW50LmF0dHIoJ2FyaWEtaGlkZGVuJywgJ2ZhbHNlJylcblxuICAgICAgICAvLyBJZiB0aGUgY29udHJvbGxpbmcgaW5wdXQsIHVwZGF0ZSBhcmlhLWV4cGFuZGVkXG4gICAgICAgIGlmICgkY29udHJvbC5hdHRyKCdhcmlhLWNvbnRyb2xzJykpIHtcbiAgICAgICAgICAkY29udHJvbC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgJ3RydWUnKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSGlkZSB0b2dnbGVkIGNvbnRlbnQgZm9yIGNvbnRyb2xcbiAgICBmdW5jdGlvbiBoaWRlVG9nZ2xlZENvbnRlbnQgKCRjb250cm9sLCAkY29udGVudCkge1xuICAgICAgJGNvbnRlbnQgPSAkY29udGVudCB8fCBnZXRUb2dnbGVkQ29udGVudCgkY29udHJvbClcblxuICAgICAgLy8gSGlkZSBjb250ZW50XG4gICAgICBpZiAoISRjb250ZW50Lmhhc0NsYXNzKCdqcy1oaWRkZW4nKSkge1xuICAgICAgICAkY29udGVudC5hZGRDbGFzcygnanMtaGlkZGVuJylcbiAgICAgICAgJGNvbnRlbnQuYXR0cignYXJpYS1oaWRkZW4nLCAndHJ1ZScpXG5cbiAgICAgICAgLy8gSWYgdGhlIGNvbnRyb2xsaW5nIGlucHV0LCB1cGRhdGUgYXJpYS1leHBhbmRlZFxuICAgICAgICBpZiAoJGNvbnRyb2wuYXR0cignYXJpYS1jb250cm9scycpKSB7XG4gICAgICAgICAgJGNvbnRyb2wuYXR0cignYXJpYS1leHBhbmRlZCcsICdmYWxzZScpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgcmFkaW8gc2hvdy9oaWRlXG4gICAgZnVuY3Rpb24gaGFuZGxlUmFkaW9Db250ZW50ICgkY29udHJvbCwgJGNvbnRlbnQpIHtcbiAgICAgIC8vIEFsbCByYWRpb3MgaW4gdGhpcyBncm91cCB3aGljaCBjb250cm9sIGNvbnRlbnRcbiAgICAgIHZhciBzZWxlY3RvciA9IHNlbGVjdG9ycy5yYWRpbyArICdbbmFtZT0nICsgZXNjYXBlRWxlbWVudE5hbWUoJGNvbnRyb2wuYXR0cignbmFtZScpKSArICddW2FyaWEtY29udHJvbHNdJ1xuICAgICAgdmFyICRmb3JtID0gJGNvbnRyb2wuY2xvc2VzdCgnZm9ybScpXG4gICAgICB2YXIgJHJhZGlvcyA9ICRmb3JtLmxlbmd0aCA/ICRmb3JtLmZpbmQoc2VsZWN0b3IpIDogJChzZWxlY3RvcilcblxuICAgICAgLy8gSGlkZSBjb250ZW50IGZvciByYWRpb3MgaW4gZ3JvdXBcbiAgICAgICRyYWRpb3MuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGhpZGVUb2dnbGVkQ29udGVudCgkKHRoaXMpKVxuICAgICAgfSlcblxuICAgICAgLy8gU2VsZWN0IGNvbnRlbnQgZm9yIHRoaXMgY29udHJvbFxuICAgICAgaWYgKCRjb250cm9sLmlzKCdbYXJpYS1jb250cm9sc10nKSkge1xuICAgICAgICBzaG93VG9nZ2xlZENvbnRlbnQoJGNvbnRyb2wsICRjb250ZW50KVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEhhbmRsZSBjaGVja2JveCBzaG93L2hpZGVcbiAgICBmdW5jdGlvbiBoYW5kbGVDaGVja2JveENvbnRlbnQgKCRjb250cm9sLCAkY29udGVudCkge1xuICAgICAgLy8gU2hvdyBjaGVja2JveCBjb250ZW50XG4gICAgICBpZiAoJGNvbnRyb2wuaXMoJzpjaGVja2VkJykpIHtcbiAgICAgICAgc2hvd1RvZ2dsZWRDb250ZW50KCRjb250cm9sLCAkY29udGVudClcbiAgICAgIH0gZWxzZSB7IC8vIEhpZGUgY2hlY2tib3ggY29udGVudFxuICAgICAgICBoaWRlVG9nZ2xlZENvbnRlbnQoJGNvbnRyb2wsICRjb250ZW50KVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEhhbmRsZSBjaGVja2JveCBzaG93L2hpZGVcbiAgICBmdW5jdGlvbiBoYW5kbGVMaW5rQ29udGVudCAoJGNvbnRyb2wsICRjb250ZW50LCAkZXZlbnQpIHtcbiAgICAgIGlmICgkY29udGVudC5oYXNDbGFzcygnanMtaGlkZGVuJykpIHtcbiAgICAgICAgc2hvd1RvZ2dsZWRDb250ZW50KCRjb250cm9sLCAkY29udGVudClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGhpZGVUb2dnbGVkQ29udGVudCgkY29udHJvbCwgJGNvbnRlbnQpXG4gICAgICB9XG4gICAgICAkZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIH1cblxuICAgIC8vIFNldCB1cCBldmVudCBoYW5kbGVycyBldGNcbiAgICBmdW5jdGlvbiBpbml0ICgkY29udGFpbmVyLCBlbGVtZW50U2VsZWN0b3IsIGV2ZW50U2VsZWN0b3JzLCBoYW5kbGVyKSB7XG4gICAgICAkY29udGFpbmVyID0gJGNvbnRhaW5lciB8fCAkKGRvY3VtZW50LmJvZHkpXG5cbiAgICAgIC8vIEhhbmRsZSBjb250cm9sIGNsaWNrc1xuICAgICAgZnVuY3Rpb24gZGVmZXJyZWQgKGV2ZW50KSB7XG4gICAgICAgIHZhciAkY29udHJvbCA9ICQodGhpcylcbiAgICAgICAgaGFuZGxlcigkY29udHJvbCwgZ2V0VG9nZ2xlZENvbnRlbnQoJGNvbnRyb2wpLCBldmVudClcbiAgICAgIH1cblxuICAgICAgLy8gUHJlcGFyZSBBUklBIGF0dHJpYnV0ZXNcbiAgICAgIHZhciAkY29udHJvbHMgPSAkKGVsZW1lbnRTZWxlY3RvcilcbiAgICAgICRjb250cm9scy5lYWNoKGluaXRUb2dnbGVkQ29udGVudClcblxuICAgICAgLy8gSGFuZGxlIGV2ZW50c1xuICAgICAgJC5lYWNoKGV2ZW50U2VsZWN0b3JzLCBmdW5jdGlvbiAoaWR4LCBldmVudFNlbGVjdG9yKSB7XG4gICAgICAgICRjb250YWluZXIub24oJ2NsaWNrLicgKyBzZWxlY3RvcnMubmFtZXNwYWNlLCBldmVudFNlbGVjdG9yLCBkZWZlcnJlZClcbiAgICAgIH0pXG5cbiAgICAgIC8vIEFueSBhbHJlYWR5IDpjaGVja2VkIG9uIGluaXQ/XG4gICAgICBpZiAoJGNvbnRyb2xzLmlzKCc6Y2hlY2tlZCcpKSB7XG4gICAgICAgICRjb250cm9scy5maWx0ZXIoJzpjaGVja2VkJykuZWFjaChkZWZlcnJlZClcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBHZXQgZXZlbnQgc2VsZWN0b3JzIGZvciBhbGwgcmFkaW8gZ3JvdXBzXG4gICAgZnVuY3Rpb24gZ2V0RXZlbnRTZWxlY3RvcnNGb3JSYWRpb0dyb3VwcyAoKSB7XG4gICAgICB2YXIgcmFkaW9Hcm91cHMgPSBbXVxuXG4gICAgICAvLyBCdWlsZCBhbiBhcnJheSBvZiByYWRpbyBncm91cCBzZWxlY3RvcnNcbiAgICAgIHJldHVybiAkKHNlbGVjdG9ycy5yYWRpbykubWFwKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGdyb3VwTmFtZSA9ICQodGhpcykuYXR0cignbmFtZScpXG5cbiAgICAgICAgaWYgKCQuaW5BcnJheShncm91cE5hbWUsIHJhZGlvR3JvdXBzKSA9PT0gLTEpIHtcbiAgICAgICAgICByYWRpb0dyb3Vwcy5wdXNoKGdyb3VwTmFtZSlcbiAgICAgICAgICByZXR1cm4gJ2lucHV0W3R5cGU9XCJyYWRpb1wiXVtuYW1lPVwiJyArICQodGhpcykuYXR0cignbmFtZScpICsgJ1wiXSdcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgfSlcbiAgICB9XG5cbiAgICAvLyBTZXQgdXAgcmFkaW8gc2hvdy9oaWRlIGNvbnRlbnQgZm9yIGNvbnRhaW5lclxuICAgIHNlbGYuc2hvd0hpZGVSYWRpb1RvZ2dsZWRDb250ZW50ID0gZnVuY3Rpb24gKCRjb250YWluZXIpIHtcbiAgICAgIGluaXQoJGNvbnRhaW5lciwgc2VsZWN0b3JzLnJhZGlvLCBnZXRFdmVudFNlbGVjdG9yc0ZvclJhZGlvR3JvdXBzKCksIGhhbmRsZVJhZGlvQ29udGVudClcbiAgICB9XG5cbiAgICAvLyBTZXQgdXAgY2hlY2tib3ggc2hvdy9oaWRlIGNvbnRlbnQgZm9yIGNvbnRhaW5lclxuICAgIHNlbGYuc2hvd0hpZGVDaGVja2JveFRvZ2dsZWRDb250ZW50ID0gZnVuY3Rpb24gKCRjb250YWluZXIpIHtcbiAgICAgIGluaXQoJGNvbnRhaW5lciwgc2VsZWN0b3JzLmNoZWNrYm94LCBbc2VsZWN0b3JzLmNoZWNrYm94XSwgaGFuZGxlQ2hlY2tib3hDb250ZW50KVxuICAgIH1cblxuICAgIC8vIFNldCB1cCBsaW5rcyBzaG93L2hpZGUgY29udGVudCBmb3IgY29udGFpbmVyXG4gICAgc2VsZi5zaG93SGlkZUxpbmtUb2dnbGVkQ29udGVudCA9IGZ1bmN0aW9uICgkY29udGFpbmVyKSB7XG4gICAgICBpbml0KCRjb250YWluZXIsIHNlbGVjdG9ycy5saW5rLCBbc2VsZWN0b3JzLmxpbmtdLCBoYW5kbGVMaW5rQ29udGVudClcbiAgICB9XG5cbiAgICAvLyBSZW1vdmUgZXZlbnQgaGFuZGxlcnNcbiAgICBzZWxmLmRlc3Ryb3kgPSBmdW5jdGlvbiAoJGNvbnRhaW5lcikge1xuICAgICAgJGNvbnRhaW5lciA9ICRjb250YWluZXIgfHwgJChkb2N1bWVudC5ib2R5KVxuICAgICAgJGNvbnRhaW5lci5vZmYoJy4nICsgc2VsZWN0b3JzLm5hbWVzcGFjZSlcbiAgICB9XG4gIH1cblxuICBTaG93SGlkZUNvbnRlbnQucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAoJGNvbnRhaW5lcikge1xuICAgIHRoaXMuc2hvd0hpZGVSYWRpb1RvZ2dsZWRDb250ZW50KCRjb250YWluZXIpXG4gICAgdGhpcy5zaG93SGlkZUNoZWNrYm94VG9nZ2xlZENvbnRlbnQoJGNvbnRhaW5lcilcbiAgICB0aGlzLnNob3dIaWRlTGlua1RvZ2dsZWRDb250ZW50KCRjb250YWluZXIpXG4gIH1cblxuICBHT1ZVSy5TaG93SGlkZUNvbnRlbnQgPSBTaG93SGlkZUNvbnRlbnRcbiAgZ2xvYmFsLkdPVlVLID0gR09WVUtcbn0pKHdpbmRvdylcbiIsInZhciB0b2dnbGVUaXBzID0gJCgnLnRvZ2dsZS1oZWxwJyk7XG5cbnRvZ2dsZVRpcHMuZWFjaChmdW5jdGlvbiAoKSB7XG5cbiAgdmFyICR0aGF0LFxuICAgIGxpdmVSZWdpb24sXG4gICAgY29udGFpbmVyLFxuICAgIHRvZ2dsZVRpcDtcblxuICAkdGhhdCA9ICQodGhpcyk7XG5cbiAgY29udGFpbmVyID0gJCgnPHNwYW4gLz4nKS5hdHRyKCdjbGFzcycsICd0b2dnbGV0aXAnKTtcblxuICB0b2dnbGVUaXAgPSAkKCc8YnV0dG9uIC8+JylcbiAgICAuYXR0cigndHlwZScsICdidXR0b24nKVxuICAgIC5hdHRyKCdhcmlhLWxhYmVsJywgJ0hlbHAnKVxuICAgIC5hdHRyKCdkYXRhLXRvZ2dsZXRpcC1jb250ZW50JywgJHRoYXQuaHRtbCgpKVxuICAgIC50ZXh0KCc/JylcbiAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIG1lc3NhZ2UgPSAkKHRoaXMpLmRhdGEoJ3RvZ2dsZXRpcC1jb250ZW50Jyk7XG4gICAgICB2YXIgbGl2ZVJlZ2lvbiA9ICQodGhpcykubmV4dCgpO1xuICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBsaXZlUmVnaW9uLmh0bWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiAkKCc8c3BhbiAvPicpXG4gICAgICAgICAgICAuYXR0cignY2xhc3MnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHJldHVybiAkdGhhdC5odG1sKCkubGVuZ3RoID4gNTAgPyAnYnViYmxlIGxvbmcnIDogJ2J1YmJsZSdcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGV4dChtZXNzYWdlKVxuICAgICAgICB9KVxuICAgICAgfSwgMTAwKTtcbiAgICB9KVxuICAgIC5vbigna2V5ZG93bicsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBpZiAoKGUua2V5Q29kZSB8fCBlLndoaWNoKSA9PT0gMjcpXG4gICAgICAgIGxpdmVSZWdpb24uaHRtbCgnJyk7XG4gICAgfSk7XG5cbiAgbGl2ZVJlZ2lvbiA9ICQoJzxzcGFuIC8+JylcbiAgICAuYXR0cigncm9sZScsICdzdGF0dXMnKTtcblxuICBjb250YWluZXIuYXBwZW5kKHRvZ2dsZVRpcCwgbGl2ZVJlZ2lvbik7XG5cbiAgJHRoYXQuYmVmb3JlKGNvbnRhaW5lcikucmVtb3ZlKCk7XG5cbiAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICBpZiAoJHRoYXRbMF0gIT09ICQoZS50YXJnZXQpKSB7XG4gICAgICBsaXZlUmVnaW9uLmh0bWwoJycpO1xuICAgIH1cbiAgfSk7XG5cbn0pO1xuIiwidmFyIGZvcm1zID0gJCgnI2NvbnRlbnQgZm9ybScpO1xuLy92YXIgaW5wdXRzID0gZm9ybXMuZmluZCgnLmZvcm0tZ3JvdXAgaW5wdXQnKTtcblxuZm9ybXMuYXR0cignbm92YWxpZGF0ZScsICdub3ZhbGlkYXRlJyk7XG5cbi8qXG5mb3Jtcy5vbignc3VibWl0JywgZnVuY3Rpb24gKCkge1xuICBpbnB1dHMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHJlc3VsdCA9IHRoaXMuY2hlY2tWYWxpZGl0eSgpO1xuICAgIGlmICghcmVzdWx0KSB7XG4gICAgICBzaG93VmFsaWRhdGlvbk1lc3NhZ2UodGhpcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhpZGVWYWxpZGF0aW9uTWVzc2FnZSh0aGlzKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gdGhpcy5jaGVja1ZhbGlkaXR5KCk7XG59KTtcblxuaW5wdXRzLm9uKCdibHVyJywgZnVuY3Rpb24gKCkge1xuICB2YXIgcmVzdWx0ID0gdGhpcy5jaGVja1ZhbGlkaXR5KCk7XG4gIGlmICghcmVzdWx0KSB7XG4gICAgc2hvd1ZhbGlkYXRpb25NZXNzYWdlKHRoaXMpO1xuICB9IGVsc2Uge1xuICAgIGhpZGVWYWxpZGF0aW9uTWVzc2FnZSh0aGlzKTtcbiAgfVxufSk7XG5cbnZhciBzaG93VmFsaWRhdGlvbk1lc3NhZ2UgPSBmdW5jdGlvbiAoZmllbGQpIHtcblxuICB2YXIgZmllbGQgPSBmaWVsZCxcbiAgICAkZmllbGQgPSAkKGZpZWxkKSxcbiAgICAkcGFyZW50ID0gJGZpZWxkLnBhcmVudCgpO1xuXG4gIGlmICgkcGFyZW50Lmhhc0NsYXNzKCdzaG93LXBhc3N3b3JkJykpIHtcbiAgICAkcGFyZW50ID0gJHBhcmVudC5wYXJlbnQoKTtcbiAgfVxuXG4gIGlmICghJHBhcmVudC5oYXNDbGFzcygnZm9ybS1ncm91cC1lcnJvcicpKSB7XG5cbiAgICB2YXIgbGFiZWxUZXh0ID0gJGZpZWxkLmRhdGEoJ2xhYmVsJykgfHwgJChcImxhYmVsW2Zvcj0nXCIgKyAkZmllbGQuYXR0cignaWQnKSArIFwiJ11cIikudGV4dCgpLFxuICAgICAgZXJyb3JNZXNzYWdlVGV4dCA9ICdFbnRlciBhIHZhbGlkICcgKyBsYWJlbFRleHQudG9Mb3dlckNhc2UoKSxcbiAgICAgIGVycm9yTWVzc2FnZSA9ICQoJzxwPicpXG4gICAgICAgIC5odG1sKGVycm9yTWVzc2FnZVRleHQpXG4gICAgICAgIC5wcm9wKCdjbGFzcycsICdlcnJvci1tZXNzYWdlJylcbiAgICAgICAgLnByb3AoJ2lkJywgJ3ZhbGlkYXRpb24tJyArIHNsdWdpZnkobGFiZWxUZXh0KSk7XG5cbiAgICAkZmllbGQuYmVmb3JlKGVycm9yTWVzc2FnZSk7XG4gICAgJHBhcmVudC5hZGRDbGFzcygnZm9ybS1ncm91cC1lcnJvcicpO1xuICAgICRmaWVsZC5hdHRyKHtcbiAgICAgICdhcmlhLWRlc2NyaWJlZGJ5JyA6ICd2YWxpZGF0aW9uLScgKyBzbHVnaWZ5KGxhYmVsVGV4dCksXG4gICAgICAnYXJpYS1pbnZhbGlkJzogJ3RydWUnXG4gICAgfSk7XG4gIH1cbn1cblxudmFyIGhpZGVWYWxpZGF0aW9uTWVzc2FnZSA9IGZ1bmN0aW9uIChmaWVsZCkge1xuICB2YXIgZmllbGQgPSBmaWVsZCxcbiAgICAkZmllbGQgPSAkKGZpZWxkKSxcbiAgICAkcGFyZW50ID0gJGZpZWxkLnBhcmVudCgpO1xuXG4gIGlmICgkcGFyZW50Lmhhc0NsYXNzKCdzaG93LXBhc3N3b3JkJykpIHtcbiAgICAkcGFyZW50ID0gJHBhcmVudC5wYXJlbnQoKTtcbiAgfVxuXG4gICRwYXJlbnQucmVtb3ZlQ2xhc3MoJ2Zvcm0tZ3JvdXAtZXJyb3InKTtcbiAgJHBhcmVudC5maW5kKCdwLmVycm9yLW1lc3NhZ2UnKS5yZW1vdmUoKTtcbiAgJGZpZWxkLnJlbW92ZUF0dHIoJ2FyaWEtZGVzY3JpYmVkYnknKTtcbiAgJGZpZWxkLnJlbW92ZUF0dHIoJ2FyaWEtaW52YWxpZCcpO1xufVxuXG52YXIgc2x1Z2lmeSA9IGZ1bmN0aW9uICh0ZXh0KSB7XG4gIHJldHVybiB0ZXh0LnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKVxuICAgIC5yZXBsYWNlKC9cXHMrL2csICctJylcbiAgICAucmVwbGFjZSgvW15cXHdcXC1dKy9nLCAnJylcbiAgICAucmVwbGFjZSgvXFwtXFwtKy9nLCAnLScpXG4gICAgLnJlcGxhY2UoL14tKy8sICcnKVxuICAgIC5yZXBsYWNlKC8tKyQvLCAnJyk7XG59XG5cbiovXG4iLCJ2YXIgTlNBID0gTlNBIHx8IHt9O1xuXG5OU0EgPSB7XG4gIHNob3dQYXNzd29yZCA6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgJHNob3dQYXNzd29yZCA9ICQoJy5zaG93LXBhc3N3b3JkJyk7XG4gICAgJHNob3dQYXNzd29yZC5lYWNoKGZ1bmN0aW9uIChpKSB7XG4gICAgICB2YXIgJHRoYXQgPSAkKHRoaXMpO1xuICAgICAgdmFyICRwd2RGbGQgPSAkdGhhdC5maW5kKCdpbnB1dDpwYXNzd29yZCcpO1xuICAgICAgdmFyICRjaGVja0xibCA9ICQoJzxsYWJlbCAvPicpLnByb3AoeyBmb3I6ICdzaG93LXBhc3N3b3JkLScgKyBpIH0pLmh0bWwoJ1Nob3cnKTtcbiAgICAgIHZhciAkY2hlY2tCb3ggPSAkKCc8aW5wdXQgLz4nKS5wcm9wKHsgdHlwZTogJ2NoZWNrYm94JywgaWQ6ICdzaG93LXBhc3N3b3JkLScgKyBpIH0pLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciAkdGhhdCA9ICQodGhpcyk7XG4gICAgICAgICRwd2RGbGQucHJvcCgndHlwZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gJHRoYXQucHJvcCgnY2hlY2tlZCcpID8gJ3RleHQnIDogJ3Bhc3N3b3JkJztcbiAgICAgICAgfSk7XG4gICAgICAgICRjaGVja0xibC5odG1sKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gJHRoYXQucHJvcCgnY2hlY2tlZCcpID8gJ0hpZGUnIDogJ1Nob3cnO1xuICAgICAgICB9KTtcbiAgICAgICAgJHRoYXQucGFyZW50KCkucmVtb3ZlQ2xhc3MoJ3R5cGUtcGFzc3dvcmQnKTtcbiAgICAgICAgaWYgKCR0aGF0LnByb3AoJ2NoZWNrZWQnKSkge1xuICAgICAgICAgICR0aGF0LnBhcmVudCgpLmFkZENsYXNzKCd0eXBlLXBhc3N3b3JkJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdmFyICRjYldyYXAgPSAkKCc8ZGl2IC8+JykucHJvcCgnY2xhc3MnLCAnc2hvdy1wYXNzd29yZC1jb250cm9sJykuYXBwZW5kKCRjaGVja0JveCwgJGNoZWNrTGJsKTtcbiAgICAgICRwd2RGbGQuYWZ0ZXIoJGNiV3JhcCk7XG4gICAgfSk7XG4gIH0sXG4gIGJhY2tMaW5rOiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGJhY2tMaW5rID0gJCgnPGE+JylcbiAgICAgIC5hdHRyKHsgJ2hyZWYnOiAnIycsICdjbGFzcyc6ICdsaW5rLWJhY2snIH0pXG4gICAgICAudGV4dCgnQmFjaycpXG4gICAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHsgd2luZG93Lmhpc3RvcnkuYmFjaygpOyBlLnByZXZlbnREZWZhdWx0KCk7IH0pO1xuICAgICQoJy5qcy1iYWNrLWxpbmsnKS5odG1sKGJhY2tMaW5rKTtcbiAgfSxcbn07XG5cblxuaWYgKCQoJ3NlbGVjdC5zZWxlY3QyJykubGVuZ3RoID4gMCkge1xuICAkKCdzZWxlY3Quc2VsZWN0MicpLnNlbGVjdDIoe21hdGNoZXI6IHNlbGVjdDJNb2RlbE1hdGNoZXJ9KTtcbn1cblxuZnVuY3Rpb24gc2VsZWN0Mk1vZGVsTWF0Y2hlciAocGFyYW1zLCBkYXRhKSB7XG4gIGRhdGEucGFyZW50VGV4dCA9IGRhdGEucGFyZW50VGV4dCB8fCBcIlwiO1xuICBpZiAoJC50cmltKHBhcmFtcy50ZXJtKSA9PT0gJycpIHtcbiAgICByZXR1cm4gZGF0YTtcbiAgfVxuICBpZiAoZGF0YS5jaGlsZHJlbiAmJiBkYXRhLmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICB2YXIgbWF0Y2ggPSAkLmV4dGVuZCh0cnVlLCB7fSwgZGF0YSk7XG4gICAgZm9yICh2YXIgYyA9IGRhdGEuY2hpbGRyZW4ubGVuZ3RoIC0gMTsgYyA+PSAwOyBjLS0pIHtcbiAgICAgIHZhciBjaGlsZCA9IGRhdGEuY2hpbGRyZW5bY107XG4gICAgICBjaGlsZC5wYXJlbnRUZXh0ICs9IGRhdGEucGFyZW50VGV4dCArIFwiIFwiICsgZGF0YS50ZXh0O1xuICAgICAgdmFyIG1hdGNoZXMgPSBzZWxlY3QyTW9kZWxNYXRjaGVyKHBhcmFtcywgY2hpbGQpO1xuICAgICAgaWYgKG1hdGNoZXMgPT0gbnVsbCkge1xuICAgICAgICBtYXRjaC5jaGlsZHJlbi5zcGxpY2UoYywgMSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChtYXRjaC5jaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm4gbWF0Y2g7XG4gICAgfVxuICAgIHJldHVybiBzZWxlY3QyTW9kZWxNYXRjaGVyKHBhcmFtcywgbWF0Y2gpO1xuICB9XG4gIHZhciBvcmlnaW5hbCA9IChkYXRhLnBhcmVudFRleHQgKyAnICcgKyBkYXRhLnRleHQpLnRvVXBwZXJDYXNlKCk7XG4gIHZhciB0ZXJtID0gcGFyYW1zLnRlcm0udG9VcHBlckNhc2UoKTtcbiAgaWYgKG9yaWdpbmFsLmluZGV4T2YodGVybSkgPiAtMSkge1xuICAgIHJldHVybiBkYXRhO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5pZiAoJCgnLnNob3ctcGFzc3dvcmQnKS5sZW5ndGggPiAwKSB7XG4gIE5TQS5zaG93UGFzc3dvcmQoKTtcbn1cblxuaWYgKCQoJy5qcy1iYWNrLWxpbmsnKSkge1xuICBOU0EuYmFja0xpbmsoKTtcbn1cblxuJCgnLnVuZGVyLWNvbnN0cnVjdGlvbicpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gIGFsZXJ0KCdUaGlzIGZ1bmN0aW9uYWxpdHkgaXMgbm90IGF2YWlsYWJsZSB5ZXQnKTtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xufSk7XG5cbmlmICgkKCcubm90aWZpY2F0aW9uIHNwYW4uaWNvbicpLmxlbmd0aCA+IDApIHtcbiAgJCgnLm5vdGlmaWNhdGlvbiBzcGFuLmljb24nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgJCh0aGlzKS5wYXJlbnQoKS5oaWRlKCk7XG4gIH0pO1xufVxuXG5pZiAoJCgnYXJ0aWNsZS5vcmdhbmlzYXRpb24tc2VydmljZXMnKS5sZW5ndGggPiAwKSB7XG5cbiAgJCgnLmluZm9ybWF0aW9uJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgaW5mbyA9ICQodGhpcykucGFyZW50KCkucGFyZW50KCkuZmluZCgnLnNlcnZpY2UtZGVzY3JpcHRpb24nKTtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgaW5mby50b2dnbGUoKTtcbiAgfSk7XG5cbiAgJCgnLmluZm8tbGluaycpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIG1ldGEgPSAkKHRoaXMpLnBhcmVudCgpLm5leHQoKTtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgbWV0YS50b2dnbGUoKTtcbiAgfSk7XG59XG5cbnZhciBzZWFyY2hGaWVsZHMgPSAkKCdmb3JtIC5zZWFyY2gtZmllbGQnKTtcblxuaWYgKHNlYXJjaEZpZWxkcy5sZW5ndGggPiAwKSB7XG5cbiAgdmFyIGxvYWRlciA9ICQoJzxzcGFuIC8+JykuYWRkQ2xhc3MoJ2xvYWRlciBzcGlubmVyLWlubGluZScpO1xuICB2YXIgYjEgPSAkKCc8c3BhbiAvPicpLmFkZENsYXNzKCdiYWxsIGItMScpO1xuICB2YXIgYjIgPSAkKCc8c3BhbiAvPicpLmFkZENsYXNzKCdiYWxsIGItMicpO1xuICBsb2FkZXIuYXBwZW5kKGIxKS5hcHBlbmQoYjIpO1xuXG4gIHNlYXJjaEZpZWxkcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZm9ybSA9ICQodGhpcykucGFyZW50KCk7XG4gICAgdmFyIGJ1dHRvbiA9IGZvcm0uZmluZCgnYnV0dG9uJyk7XG4gICAgZm9ybS5vbignc3VibWl0JywgZnVuY3Rpb24gKCkge1xuICAgICAgYnV0dG9uLmFmdGVyKGxvYWRlcikuaGlkZSgpO1xuICAgIH0pO1xuICB9KTtcbn1cblxudmFyIHJlZGlyZWN0ID0gJCgnI3JlZGlyZWN0LXVybCcpO1xuXG4kKCcjYWRkLXJlZGlyZWN0Jykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICQoJzxwPjxsYWJlbCBmb3I9XCJyZWRpcmVjdC11cmxcIj48aW5wdXQgY2xhc3M9XCJmb3JtLWNvbnRyb2wgaW5wdXRDb25maWdcIiBuYW1lPVwicmVkaXJlY3RfdXJpc1wiPjwvbGFiZWw+PC9wPicpLmFwcGVuZFRvKHJlZGlyZWN0KTtcbiAgcmV0dXJuIGZhbHNlO1xufSk7XG5cbnZhciBsb2dvdXQgPSAkKCcjbG9nb3V0LXVybCcpO1xuXG4kKCcjYWRkLWxvZ291dCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAkKCc8cD48bGFiZWwgZm9yPVwibG9nb3V0LXVybFwiPjxpbnB1dCBjbGFzcz1cImZvcm0tY29udHJvbCBpbnB1dENvbmZpZ1wiIG5hbWU9XCJwb3N0X2xvZ291dF9yZWRpcmVjdF91cmlzXCI+PC9sYWJlbD48L3A+JykuYXBwZW5kVG8obG9nb3V0KTtcbiAgcmV0dXJuIGZhbHNlO1xufSk7XG5cblxuJCgnI2dlbmVyYXRlLWNsaWVudC1zZWNyZXQnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgdmFyIHNlY3JldEFycmF5ID0gd2luZG93Lm5pY2V3YXJlLmdlbmVyYXRlUGFzc3BocmFzZSg4KTtcbiAgdmFyIHNlY3JldCA9IHNlY3JldEFycmF5LmpvaW4oJy0nKTtcbiAgdmFyIGlzQ29uZmlybSA9IGNvbmZpcm0oJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byByZWdlbmVyYXRlIHRoZSBjbGllbnQgc2VjcmV0PycpO1xuICBpZiAoaXNDb25maXJtKSB7XG4gICAgJCgnaW5wdXQjY2xpZW50U2VjcmV0JykuYXR0cigndmFsdWUnLCBzZWNyZXQpO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn0pO1xuXG4kKCcjZ2VuZXJhdGUtYXBpLXNlY3JldCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICB2YXIgc2VjcmV0QXJyYXkgPSB3aW5kb3cubmljZXdhcmUuZ2VuZXJhdGVQYXNzcGhyYXNlKDgpO1xuICB2YXIgc2VjcmV0ID0gc2VjcmV0QXJyYXkuam9pbignLScpO1xuICB2YXIgaXNDb25maXJtID0gY29uZmlybSgnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIHJlZ2VuZXJhdGUgdGhlIGFwaSBzZWNyZXQ/Jyk7XG4gIGlmIChpc0NvbmZpcm0pIHtcbiAgICAkKCdpbnB1dCNhcGlTZWNyZXQnKS5hdHRyKCd2YWx1ZScsIHNlY3JldCk7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufSk7XG5cbnZhciBmb3JtUmVnaXN0ZXIgPSAkKCcucHJldmVudC1mb3JtLWRvdWJsZS1zdWJtaXNzaW9uJyk7XG5cbmlmIChmb3JtUmVnaXN0ZXIubGVuZ3RoID4gMCkge1xuICBmb3JtUmVnaXN0ZXIuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgdmFyICRzdWJtaXRCdXR0b25zID0gJChmb3JtUmVnaXN0ZXIpLmZpbmQoJ2J1dHRvbjpzdWJtaXQnKSwgJHN1Ym1pdEJ1dHRvbiA9ICRzdWJtaXRCdXR0b25zLmVxKDApO1xuICAgIGZvcm1SZWdpc3Rlci5vbignc3VibWl0JywgZnVuY3Rpb24gKCkge1xuICAgICAgJHN1Ym1pdEJ1dHRvbnMuYXR0cignZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcblxuICAgICAgJHN1Ym1pdEJ1dHRvbi5jc3MoJ21pbi13aWR0aCcsICRzdWJtaXRCdXR0b24ub3V0ZXJXaWR0aCgpICsgJ3B4Jyk7XG5cbiAgICAgICRzdWJtaXRCdXR0b24uYXBwZW5kKFwiPHNwYW4gY2xhc3M9J2xvYWRlciBzcGlubmVyLWlubGluZSc+IDxzcGFuIGNsYXNzPSdiYWxsIGItMSc+PC9zcGFuPiA8c3BhbiBjbGFzcz0nYmFsbCBiLTInPjwvc3Bhbj4gPHNwYW4gY2xhc3M9J2JhbGwgYi0zJz48L3NwYW4+IDwvc3Bhbj5cIik7XG5cbiAgICB9KTtcbiAgfSk7XG59XG5cbnZhciBzaG93SGlkZUNvbnRlbnQgPSBuZXcgR09WVUsuU2hvd0hpZGVDb250ZW50KClcbnNob3dIaWRlQ29udGVudC5pbml0KClcblxuR09WVUsuZGV0YWlscy5pbml0KClcblxuIl19
