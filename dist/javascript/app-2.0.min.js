!function(a){var i=a.$,n=a.Cookies;if(n&&i){function r(e,t){var n,a=t||(n=i.extend(d,{}),i.each(n,function(e){n[e]=!0}),n);c(s,a),c(o,!0),e.target===h[0]&&u.slideUp()}var o="cookies_preferences_set",s="cookies_policy",d={essential:!0,settings:!1,usage:!0},l={expires:365,secure:!0,domain:".education.gov.uk"},e=function(e){var t=n.get(e);return t?JSON.parse(t):t},c=function(e,t){return n.set(e,t,l)},u=i("#dsi-cookie-banner.global-cookie-message-dfe-sign-in"),h=u.find("button.cookie-accept");e(o)||(c(s,d),h.click(r),"/cookies"!==a.location.pathname?u.slideDown():u.show());var f=i("#dsi-cookie-form.cookies-page-dfe-sign-in__preferences-form");f.length&&f.on("submit",function(e){e.preventDefault();var t={settings:!!f.find("input[name='cookie.settings']:checked").val()},n=i.extend(d,t);return r(e,n),document.referrer?a.location=document.referrer:a.location.pathname="/",!1})}}(window),function(e){"use strict";var s=e.GOVUK||{};s.details={NATIVE_DETAILS:"boolean"==typeof document.createElement("details").open,KEY_ENTER:13,KEY_SPACE:32,started:!1,addEvent:function(e,t,n){e.addEventListener?e.addEventListener(t,function(e){n(e,e.target)},!1):e.attachEvent&&e.attachEvent("on"+t,function(e){n(e,e.srcElement)})},removeEvent:function(e,t){e.removeEventListener?e.removeEventListener(t,function(e){},!1):e.detachEvent&&e.detachEvent("on"+t,function(e){})},charCode:function(e){return"number"==typeof e.which?e.which:e.keyCode},preventDefault:function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},addClickEvent:function(e,n){s.details.addEvent(e,"keypress",function(e,t){s.details.charCode(e)!==s.details.KEY_ENTER&&s.details.charCode(e)!==s.details.KEY_SPACE||"summary"===t.nodeName.toLowerCase()&&(s.details.preventDefault(e),t.click?t.click():n(e,t))}),s.details.addEvent(e,"keyup",function(e,t){s.details.charCode(e)===s.details.KEY_SPACE&&"SUMMARY"===t.nodeName&&s.details.preventDefault(e)}),s.details.addEvent(e,"click",function(e,t){n(e,t)})},getAncestor:function(e,t){do{if(!e||e.nodeName.toLowerCase()===t)break;e=e.parentNode}while(e);return e},addDetailsPolyfill:function(e,t){if(t=t||document.body,!s.details.started&&(s.details.started=!0,0!==(e=t.getElementsByTagName("details")).length)){for(var n=e.length,a=0;a<n;a++){var i=e[a];if(i.__summary=i.getElementsByTagName("summary").item(0),i.__content=i.getElementsByTagName("div").item(0),!i.__summary||!i.__content)return;i.__content.id||(i.__content.id="details-content-"+a),i.setAttribute("role","group"),i.__summary.setAttribute("role","button"),i.__summary.setAttribute("aria-controls",i.__content.id),s.details.NATIVE_DETAILS||(i.__summary.tabIndex=0);var r=null!==i.getAttribute("open");if(!0==r?(i.__summary.setAttribute("aria-expanded","true"),i.__content.setAttribute("aria-hidden","false")):(i.__summary.setAttribute("aria-expanded","false"),i.__content.setAttribute("aria-hidden","true"),s.details.NATIVE_DETAILS||(i.__content.style.display="none")),i.__summary.__details=i,!s.details.NATIVE_DETAILS){var o=document.createElement("i");!0==r?(o.className="arrow arrow-open",o.appendChild(document.createTextNode("▼"))):(o.className="arrow arrow-closed",o.appendChild(document.createTextNode("►"))),i.__summary.__twisty=i.__summary.insertBefore(o,i.__summary.firstChild),i.__summary.__twisty.setAttribute("aria-hidden","true")}}s.details.addClickEvent(t,function(e,t){return!(t=s.details.getAncestor(t,"summary"))||s.details.statechange(t)})}},statechange:function(e){var t="true"===e.__details.__summary.getAttribute("aria-expanded"),n="true"===e.__details.__content.getAttribute("aria-hidden");e.__details.__summary.setAttribute("aria-expanded",t?"false":"true"),e.__details.__content.setAttribute("aria-hidden",n?"false":"true"),s.details.NATIVE_DETAILS||(e.__details.__content.style.display=t?"none":"",null!==e.__details.getAttribute("open")?e.__details.removeAttribute("open"):e.__details.setAttribute("open","open"));return e.__twisty&&(e.__twisty.firstChild.nodeValue=t?"►":"▼",e.__twisty.setAttribute("class",t?"arrow arrow-closed":"arrow arrow-open")),!0},destroy:function(e){s.details.removeEvent(e,"click")},init:function(e){s.details.addEvent(document,"DOMContentLoaded",s.details.addDetailsPolyfill),s.details.addEvent(window,"load",s.details.addDetailsPolyfill)}},e.GOVUK=s}(window);var NSA=NSA||{},filterBoxes=$(".filter-box");NSA.filters={init:function(){filterBoxes.each(function(){var e=$(this),t=e.find(".container-head"),n=t.find(".option-select-label"),a=e.find("input:checkbox"),i=$("<button />").addClass("js-container-head"),r=$("<div />").addClass("js-selected-counter");i.on("click",function(e){var t=$(this).next();$(this).hasClass("closed")?(t.show(),$(this).removeClass("closed").attr("aria-expanded",!0)):(t.hide(),$(this).addClass("closed").attr("aria-expanded",!1)),e.preventDefault()}).append(n,r),t.replaceWith(i),a.on("change",function(){r.text(function(){return 0<a.filter(":checked").length?a.filter(":checked").length+" selected":""})})})}},0<filterBoxes.length&&NSA.filters.init();var gaEvent=$("#ga-event");if(0<gaEvent.length){var category=gaEvent.data("category"),label=gaEvent.data("label"),event=gaEvent.data("event");""!==event&&""!==label&&""!==category&&ga("send","event",category,event,label)}function getParameterByName(e,t){t=t||window.location.href,e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}function sortTable(e){var t,n,a,i,r,o,s,d,l=0;for(t=$("table.sortable"),a=!0,d="a";a;){for(a=!1,n=t.find("tr"),i=1;i<n.length-1;i++)if(s=!1,r=n[i].getElementsByTagName("TD")[e],o=n[i+1].getElementsByTagName("TD")[e],"a"===d){if(r.innerHTML.toLowerCase()>o.innerHTML.toLowerCase()){s=!0;break}}else if("d"===d&&r.innerHTML.toLowerCase()<o.innerHTML.toLowerCase()){s=!0;break}s?(n[i].parentNode.insertBefore(n[i+1],n[i]),a=!0,l++):0===l&&"a"===d&&(d="d",a=!0)}return d}$(".notification a").on("click",function(){$(this).data("clientid")&&ga("send","event","migration-help-pdf","download",$(this).data("clientid"))}),(NSA=NSA||{}).modal={elems:{links:$(".modal-link"),modals:$(".modal")},init:function(){this.modalBg(),this.setUpEvents()},modalBg:function(){var e=this,t=$("<div>").addClass("modal-bg").hide().on("click",function(){e.hideModals()});$("body").append(t)},setUpEvents:function(){var n=this;this.elems.links.on("click",function(e){var t=$(this).attr("href");n.showModal($(t)),e.preventDefault()}),n.elems.modals.find(".close").on("click",function(e){n.hideModals(),e.preventDefault()}),$("body").on("keydown",function(e){27===(e.keyCode||e.which)&&n.hideModals()})},showModal:function(e){$("html").addClass("modal-open"),$(".modal-bg").show(),e.show()},hideModals:function(){$("html").removeClass("modal-open"),$(".modal-bg").hide(),this.elems.modals.hide()}},NSA.modal.init(),function(e){"use strict";var f=e.jQuery,t=e.GOVUK||{};function n(){var o="ShowHideContent",i='[data-target] > input[type="radio"]',t='[data-target] > input[type="checkbox"]',n="a.js-toggle-content";function s(){var e=f(this),t=d(e);t.length&&(e.attr("aria-controls",t.attr("id")),e.attr("aria-expanded","false"),t.attr("aria-hidden","true"))}function d(e){var t=e.attr("aria-controls");return t=t||e.closest("[data-target]").data("target"),f("#"+t)}function r(e,t){t.hasClass("js-hidden")&&(t.removeClass("js-hidden"),t.attr("aria-hidden","false"),e.attr("aria-controls")&&e.attr("aria-expanded","true"))}function l(e,t){(t=t||d(e)).hasClass("js-hidden")||(t.addClass("js-hidden"),t.attr("aria-hidden","true"),e.attr("aria-controls")&&e.attr("aria-expanded","false"))}function a(e,t){var n=i+"[name="+e.attr("name").replace("[","\\[").replace("]","\\]")+"][aria-controls]",a=e.closest("form");(a.length?a.find(n):f(n)).each(function(){l(f(this))}),e.is("[aria-controls]")&&r(e,t)}function c(e,t){e.is(":checked")?r(e,t):l(e,t)}function u(e,t,n){t.hasClass("js-hidden")?r(e,t):l(e,t),n.preventDefault()}function h(n,e,t,a){function i(e){var t=f(this);a(t,d(t),e)}n=n||f(document.body);var r=f(e);r.each(s),f.each(t,function(e,t){n.on("click."+o,t,i)}),r.is(":checked")&&r.filter(":checked").each(i)}this.showHideRadioToggledContent=function(e){var t;h(e,i,(t=[],f(i).map(function(){var e=f(this).attr("name");return-1===f.inArray(e,t)?(t.push(e),'input[type="radio"][name="'+f(this).attr("name")+'"]'):null})),a)},this.showHideCheckboxToggledContent=function(e){h(e,t,[t],c)},this.showHideLinkToggledContent=function(e){h(e,n,[n],u)},this.destroy=function(e){(e=e||f(document.body)).off("."+o)}}n.prototype.init=function(e){this.showHideRadioToggledContent(e),this.showHideCheckboxToggledContent(e),this.showHideLinkToggledContent(e)},t.ShowHideContent=n,e.GOVUK=t}(window),(NSA=NSA||{}).signin={form:$(".form-signin"),init:function(){this.setupEvents()},setupEvents:function(){this.form.on("submit",this,this.handleSubmit)},handleSubmit:function(e){var t=$(this),n=t.find("input").not(":checkbox"),a={},i=$(this).find("button:submit"),r=i.eq(0);i.attr("disabled","disabled"),r.css("min-width",r.outerWidth()+"px"),r.find(".loader").removeClass("vh"),n.each(function(){a[this.name]=$(this).val()}),$("#password").prop("type","password").next().removeClass("type-password"),$.ajax({type:"POST",data:a,url:t.attr("action"),context:e.data,dataType:"json",success:function(e){e.redirect?window.location.href=e.uri:e.isFailedLogin?(this.resetValidation(t),this.showValidationMessage(e.validationMessages),this.showInlineValidation(e.validationMessages),i.removeAttr("disabled"),r.find(".loader").addClass("vh")):(ga("send","event","Login","Successful login",getParameterByName("clientid")),this.buildFormAndSubmit(e))},error:function(){this.resetValidation(t),this.showValidationMessage(),i.removeAttr("disabled"),r.find(".loader").addClass("vh")}}),e.preventDefault()},resetValidation:function(e){var t=e.find(".form-group");$(".error-summary").remove(),t.each(function(){var e=$(this).find("input").eq(0);$(this).hasClass("form-group-error")&&($(this).removeClass("form-group-error"),$(this).find("p.error-message").remove(),e.removeAttr("aria-describedby").removeAttr("aria-invalid"))})},showValidationMessage:function(e){var t=$("<div />").attr("class","error-summary").attr("role","alert").attr("tabindex","-1"),n=$("<h2 />").attr("class","heading-medium error-summary-heading").attr("id","error-summary"),i=$("<ul />").attr("class","error-summary-list");if(e)n.text("Information missing or incorrect"),$.each(e,function(e,t){"loginError"===e&&(e="username",ga("send","event","Login","Failed login","Users login credentials were wrong"));var n=$("<a />").attr("href","#"+e).text(t),a=$("<li />").append(n);i.append(a)});else{n.text("There has been an error");var a=$("<li />").html('Please try again later. If the problem continues, follow the link to <a href="https://help.signin.education.gov.uk/contact/form">submit a support request</a>');i.append(a),ga("send","event","Login","Error occurred","A server error occurred during login")}t.append(n).append(i),$("main").prepend(t),$("html, body").animate({scrollTop:t.offset().top-15},300)},showInlineValidation:function(e){$.each(e,function(e,t){var n=$("input[name="+e+"]"),a=n.parent();a.hasClass("show-password")&&(a=a.parent());var i=a.find("label").first();if(!a.hasClass("form-group-error"))var r=$("<p>").html(t).prop("class","error-message").prop("id","validation-"+e);i.after(r),a.addClass("form-group-error"),n.attr({"aria-describedby":"validation-"+e,"aria-invalid":"true"})})},buildFormAndSubmit:function(e){var a=$("<form />").attr({method:"post",action:e.destination,id:"dfesigninform"});$.each(e.postbackData,function(e,t){var n=$("<input />").attr({type:"hidden",name:e,value:t});a.append(n)}),$("#dfesigninform").remove(),$("body").append(a),a.submit()}},0<$(".form-signin").length&&NSA.signin.init(),$(function(){$("table.sortable thead th").on("click",function(){var e=$("table.sortable thead tr th");e.removeClass("sorted").removeClass("dir-a").removeClass("dir-d");var t=sortTable(e.index($(this)));$(this).addClass("sorted dir-"+t)})});var toggleTips=$(".toggle-help");toggleTips.each(function(){var n,t,e,a;n=$(this),e=$("<span />").attr("class","toggletip"),a=$("<button />").attr("type","button").attr("aria-label","Help").attr("data-toggletip-content",n.html()).text("?").on("click",function(){var e=$(this).data("toggletip-content"),t=$(this).next();window.setTimeout(function(){t.html(function(){return $("<span />").attr("class",function(){return 50<n.html().length?"bubble long":"bubble"}).text(e)})},100)}).on("keydown",function(e){27===(e.keyCode||e.which)&&t.html("")}),t=$("<span />").attr("role","status"),e.append(a,t),n.before(e).remove(),$(document).on("click",function(e){n[0]!==$(e.target)&&t.html("")})});var forms=$("#content form");forms.attr("novalidate","novalidate");NSA=NSA||{};function select2ModelMatcher(e,t){if(t.parentText=t.parentText||"",""===$.trim(e.term))return t;if(t.children&&0<t.children.length){for(var n=$.extend(!0,{},t),a=t.children.length-1;0<=a;a--){var i=t.children[a];i.parentText+=t.parentText+" "+t.text,null==select2ModelMatcher(e,i)&&n.children.splice(a,1)}return 0<n.children.length?n:select2ModelMatcher(e,n)}var r=(t.parentText+" "+t.text).toUpperCase(),o=e.term.toUpperCase();return-1<r.indexOf(o)?t:null}NSA={showPassword:function(){$(".show-password").each(function(e){var t=$(this).find("input:password"),n=$("<label />").prop({for:"show-password-"+e}).html("Show"),a=$("<input />").prop({type:"checkbox",id:"show-password-"+e}).on("change",function(){var e=$(this);t.prop("type",function(){return e.prop("checked")?"text":"password"}),n.html(function(){return e.prop("checked")?"Hide":"Show"}),e.parent().removeClass("type-password"),e.prop("checked")&&e.parent().addClass("type-password")}),i=$("<div />").prop("class","show-password-control").append(a,n);t.after(i)})},backLink:function(){var e=$("<a>").attr({href:"#",class:"link-back"}).text("Back").on("click",function(e){window.history.back(),e.preventDefault()});$(".js-back-link").html(e)}},0<$("select.select2").length&&$("select.select2").select2({matcher:select2ModelMatcher}),0<$(".show-password").length&&NSA.showPassword(),$(".js-back-link")&&NSA.backLink(),$(".under-construction").on("click",function(e){alert("This functionality is not available yet"),e.preventDefault()}),0<$(".notification span.icon").length&&$(".notification span.icon").on("click",function(){$(this).parent().hide()}),0<$("article.organisation-services").length&&($(".information").on("click",function(e){var t=$(this).parent().parent().find(".service-description");e.preventDefault(),t.toggle()}),$(".info-link").on("click",function(e){var t=$(this).parent().next();e.preventDefault(),t.toggle()}));var searchFields=$("form .search-field");if(0<searchFields.length){var loader=$("<span />").addClass("loader spinner-inline"),b1=$("<span />").addClass("ball b-1"),b2=$("<span />").addClass("ball b-2");loader.append(b1).append(b2),searchFields.each(function(){var e=$(this).parent(),t=e.find("button");e.on("submit",function(){t.after(loader).hide()})})}var redirect=$("#redirect-url");$("#add-redirect").on("click",function(){return $('<p><label for="redirect-url"><input class="form-control inputConfig" name="redirect_uris"></label></p>').appendTo(redirect),!1});var logout=$("#logout-url");$("#add-logout").on("click",function(){return $('<p><label for="logout-url"><input class="form-control inputConfig" name="post_logout_redirect_uris"></label></p>').appendTo(logout),!1}),$("#generate-client-secret").on("click",function(){var e=window.niceware.generatePassphrase(8).join("-");return confirm("Are you sure you want to regenerate the client secret?")&&$("input#clientSecret").attr("value",e),!1}),$("#generate-api-secret").on("click",function(){var e=window.niceware.generatePassphrase(8).join("-");return confirm("Are you sure you want to regenerate the api secret?")&&$("input#apiSecret").attr("value",e),!1});var formRegister=$(".prevent-form-double-submission");0<formRegister.length&&formRegister.each(function(){var e=$(formRegister).find("button:submit"),t=e.eq(0);formRegister.on("submit",function(){e.attr("disabled","disabled"),t.css("min-width",t.outerWidth()+"px"),t.append("<span class='loader spinner-inline'> <span class='ball b-1'></span> <span class='ball b-2'></span> <span class='ball b-3'></span> </span>")})});var showHideContent=new GOVUK.ShowHideContent;showHideContent.init(),GOVUK.details.init();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl9jb29raWVzLmpzIiwiX2RldGFpbHMucG9seWZpbGwuanMiLCJfZmlsdGVyLWJveGVzLmpzIiwiX2dhLWV2ZW50cy5qcyIsIl9zaWduaW4uanMiLCJfdGFibGVzb3J0LmpzIiwiX21vZGFsLmpzIiwiX3Nob3ctaGlkZS1jb250ZW50LmpzIiwiX3Rvb2x0aXAuanMiLCJfdmFsaWRhdGlvbi5qcyIsImFwcC5qcyJdLCJuYW1lcyI6WyJ3aW5kb3ciLCIkIiwiQ29va2llcyIsIm9uQ29va2llQWNjZXB0IiwiZXZlbnQiLCJuZXdQb2xpY3kiLCJhY2NlcHRlZFBvbGljeSIsImV4dGVuZCIsIkRFRkFVTFRfUE9MSUNZIiwiZWFjaCIsImtleSIsIkdvdlVLQ29va2llIiwiQ09PS0lFX05BTUVTIiwidGFyZ2V0IiwiJGNvb2tpZUFjY2VwdEJ1dHRvbiIsIiRjb29raWVCYW5uZXIiLCJzbGlkZVVwIiwiZXNzZW50aWFsIiwic2V0dGluZ3MiLCJ1c2FnZSIsIkdPVlVLX0NPT0tJRV9PUFRJT05TIiwiZXhwaXJlcyIsInNlY3VyZSIsImRvbWFpbiIsIm5hbWUiLCJ2YWx1ZSIsImdldCIsIkpTT04iLCJwYXJzZSIsInNldCIsImZpbmQiLCJjbGljayIsImxvY2F0aW9uIiwicGF0aG5hbWUiLCJzbGlkZURvd24iLCJzaG93IiwiJHByZWZlcmVuY2VzRm9ybSIsImxlbmd0aCIsIm9uIiwicHJldmVudERlZmF1bHQiLCJ2YWwiLCJkb2N1bWVudCIsInJlZmVycmVyIiwiZ2xvYmFsIiwiR09WVUsiLCJkZXRhaWxzIiwiTkFUSVZFX0RFVEFJTFMiLCJjcmVhdGVFbGVtZW50Iiwib3BlbiIsIktFWV9FTlRFUiIsIktFWV9TUEFDRSIsInN0YXJ0ZWQiLCJhZGRFdmVudCIsIm5vZGUiLCJ0eXBlIiwiY2FsbGJhY2siLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsImF0dGFjaEV2ZW50Iiwic3JjRWxlbWVudCIsInJlbW92ZUV2ZW50IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRldGFjaEV2ZW50IiwiY2hhckNvZGUiLCJ3aGljaCIsImtleUNvZGUiLCJyZXR1cm5WYWx1ZSIsImFkZENsaWNrRXZlbnQiLCJub2RlTmFtZSIsInRvTG93ZXJDYXNlIiwiZ2V0QW5jZXN0b3IiLCJtYXRjaCIsInBhcmVudE5vZGUiLCJhZGREZXRhaWxzUG9seWZpbGwiLCJsaXN0IiwiY29udGFpbmVyIiwiYm9keSIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwibiIsImkiLCJfX3N1bW1hcnkiLCJpdGVtIiwiX19jb250ZW50IiwiaWQiLCJzZXRBdHRyaWJ1dGUiLCJ0YWJJbmRleCIsIm9wZW5BdHRyIiwiZ2V0QXR0cmlidXRlIiwic3R5bGUiLCJkaXNwbGF5IiwiX19kZXRhaWxzIiwidHdpc3R5IiwiY2xhc3NOYW1lIiwiYXBwZW5kQ2hpbGQiLCJjcmVhdGVUZXh0Tm9kZSIsIl9fdHdpc3R5IiwiaW5zZXJ0QmVmb3JlIiwiZmlyc3RDaGlsZCIsInN1bW1hcnkiLCJzdGF0ZWNoYW5nZSIsImV4cGFuZGVkIiwiaGlkZGVuIiwicmVtb3ZlQXR0cmlidXRlIiwibm9kZVZhbHVlIiwiZGVzdHJveSIsImluaXQiLCIkY29udGFpbmVyIiwiTlNBIiwiZmlsdGVyQm94ZXMiLCJmaWx0ZXJzIiwiJHRoYXQiLCJ0aGlzIiwiaGVhZGVyIiwidGl0bGUiLCJjaGVja2JveGVzIiwiYnV0dG9uIiwiYWRkQ2xhc3MiLCJjaGVja0NvdW50Iiwib3B0aW9ucyIsIm5leHQiLCJoYXNDbGFzcyIsInJlbW92ZUNsYXNzIiwiYXR0ciIsImhpZGUiLCJhcHBlbmQiLCJyZXBsYWNlV2l0aCIsInRleHQiLCJmaWx0ZXIiLCJnYUV2ZW50IiwiY2F0ZWdvcnkiLCJkYXRhIiwibGFiZWwiLCJnYSIsImdldFBhcmFtZXRlckJ5TmFtZSIsInVybCIsImhyZWYiLCJyZXBsYWNlIiwicmVzdWx0cyIsIlJlZ0V4cCIsImV4ZWMiLCJkZWNvZGVVUklDb21wb25lbnQiLCJzb3J0VGFibGUiLCJ0YWJsZSIsInJvd3MiLCJzd2l0Y2hpbmciLCJ4IiwieSIsInNob3VsZFN3aXRjaCIsImRpcmVjdGlvbiIsInN3aXRjaGNvdW50IiwiaW5uZXJIVE1MIiwibW9kYWwiLCJlbGVtcyIsImxpbmtzIiwibW9kYWxzIiwibW9kYWxCZyIsInNldFVwRXZlbnRzIiwidGhhdCIsImJnIiwiaGlkZU1vZGFscyIsInNob3dNb2RhbCIsImpRdWVyeSIsIlNob3dIaWRlQ29udGVudCIsInNlbGVjdG9ycyIsImluaXRUb2dnbGVkQ29udGVudCIsIiRjb250cm9sIiwiJGNvbnRlbnQiLCJnZXRUb2dnbGVkQ29udGVudCIsImNsb3Nlc3QiLCJzaG93VG9nZ2xlZENvbnRlbnQiLCJoaWRlVG9nZ2xlZENvbnRlbnQiLCJoYW5kbGVSYWRpb0NvbnRlbnQiLCJzZWxlY3RvciIsIiRmb3JtIiwiaXMiLCJoYW5kbGVDaGVja2JveENvbnRlbnQiLCJoYW5kbGVMaW5rQ29udGVudCIsIiRldmVudCIsImVsZW1lbnRTZWxlY3RvciIsImV2ZW50U2VsZWN0b3JzIiwiaGFuZGxlciIsImRlZmVycmVkIiwiJGNvbnRyb2xzIiwiaWR4IiwiZXZlbnRTZWxlY3RvciIsInNob3dIaWRlUmFkaW9Ub2dnbGVkQ29udGVudCIsInJhZGlvR3JvdXBzIiwibWFwIiwiZ3JvdXBOYW1lIiwiaW5BcnJheSIsInB1c2giLCJzaG93SGlkZUNoZWNrYm94VG9nZ2xlZENvbnRlbnQiLCJzaG93SGlkZUxpbmtUb2dnbGVkQ29udGVudCIsIm9mZiIsInByb3RvdHlwZSIsInNpZ25pbiIsImZvcm0iLCJzZXR1cEV2ZW50cyIsImhhbmRsZVN1Ym1pdCIsIiRpbnB1dHMiLCJub3QiLCJwb3N0RGF0YSIsIiRzdWJtaXRCdXR0b25zIiwiJHN1Ym1pdEJ1dHRvbiIsImVxIiwiY3NzIiwib3V0ZXJXaWR0aCIsInByb3AiLCJhamF4IiwiY29udGV4dCIsImRhdGFUeXBlIiwic3VjY2VzcyIsInJlZGlyZWN0IiwidXJpIiwiaXNGYWlsZWRMb2dpbiIsInJlc2V0VmFsaWRhdGlvbiIsInNob3dWYWxpZGF0aW9uTWVzc2FnZSIsInZhbGlkYXRpb25NZXNzYWdlcyIsInNob3dJbmxpbmVWYWxpZGF0aW9uIiwicmVtb3ZlQXR0ciIsImJ1aWxkRm9ybUFuZFN1Ym1pdCIsImVycm9yIiwiJGZvcm1Hcm91cHMiLCJyZW1vdmUiLCIkZmllbGQiLCJtZXNzYWdlcyIsIiRkaXYiLCIkaDIiLCIkdWwiLCJpbmRleCIsIiRhIiwiJGxpIiwiaHRtbCIsInByZXBlbmQiLCJhbmltYXRlIiwic2Nyb2xsVG9wIiwib2Zmc2V0IiwidG9wIiwiJHBhcmVudCIsInBhcmVudCIsIiRsYWJlbCIsImZpcnN0IiwiZXJyb3JNZXNzYWdlIiwiYWZ0ZXIiLCJhcmlhLWRlc2NyaWJlZGJ5IiwiYXJpYS1pbnZhbGlkIiwibWV0aG9kIiwiYWN0aW9uIiwiZGVzdGluYXRpb24iLCJwb3N0YmFja0RhdGEiLCJzdWJtaXQiLCJoZWFkaW5nQ2VsbHMiLCJ0b2dnbGVUaXBzIiwibGl2ZVJlZ2lvbiIsInRvZ2dsZVRpcCIsIm1lc3NhZ2UiLCJzZXRUaW1lb3V0IiwiYmVmb3JlIiwiZm9ybXMiLCJzZWxlY3QyTW9kZWxNYXRjaGVyIiwicGFyYW1zIiwicGFyZW50VGV4dCIsInRyaW0iLCJ0ZXJtIiwiY2hpbGRyZW4iLCJjIiwiY2hpbGQiLCJzcGxpY2UiLCJvcmlnaW5hbCIsInRvVXBwZXJDYXNlIiwiaW5kZXhPZiIsInNob3dQYXNzd29yZCIsIiRwd2RGbGQiLCIkY2hlY2tMYmwiLCJmb3IiLCIkY2hlY2tCb3giLCIkY2JXcmFwIiwiYmFja0xpbmsiLCJjbGFzcyIsImhpc3RvcnkiLCJiYWNrIiwic2VsZWN0MiIsIm1hdGNoZXIiLCJhbGVydCIsImluZm8iLCJ0b2dnbGUiLCJtZXRhIiwic2VhcmNoRmllbGRzIiwibG9hZGVyIiwiYjEiLCJiMiIsImFwcGVuZFRvIiwibG9nb3V0Iiwic2VjcmV0IiwibmljZXdhcmUiLCJnZW5lcmF0ZVBhc3NwaHJhc2UiLCJqb2luIiwiY29uZmlybSIsImZvcm1SZWdpc3RlciIsInNob3dIaWRlQ29udGVudCJdLCJtYXBwaW5ncyI6IkNBQUEs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d0JBQUFxQyxHQUFBLFFBQUEsV0FDQSxJQUNBK1AsRUFEQXJTLE9BQUFzUyxTQUFBQyxtQkFBQSxHQUNBQyxLQUFBLEtBS0EsT0FKQUMsUUFBQSx3REFFQXhTLEVBQUEsbUJBQUF5SCxLQUFBLFFBQUEySyxJQUVBLElBR0EsSUFBQUssYUFBQXpTLEVBQUEsbUNBRUEsRUFBQXlTLGFBQUFyUSxRQUNBcVEsYUFBQWpTLEtBQUEsV0FDQSxJQUFBaU0sRUFBQXpNLEVBQUF5UyxjQUFBNVEsS0FBQSxpQkFBQTZLLEVBQUFELEVBQUFFLEdBQUEsR0FDQThGLGFBQUFwUSxHQUFBLFNBQUEsV0FDQW9LLEVBQUFoRixLQUFBLFdBQUEsWUFFQWlGLEVBQUFFLElBQUEsWUFBQUYsRUFBQUcsYUFBQSxNQUVBSCxFQUFBL0UsT0FBQSxpSkFNQSxJQUFBK0ssZ0JBQUEsSUFBQS9QLE1BQUFzSCxnQkFDQXlJLGdCQUFBbE0sT0FFQTdELE1BQUFDLFFBQUE0RCIsImZpbGUiOiJhcHAtMi4wLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiAod2luZG93KSB7XG4gIHZhciAkID0gd2luZG93LiQ7XG4gIHZhciBDb29raWVzID0gd2luZG93LkNvb2tpZXM7XG4gIGlmICghQ29va2llcyB8fCAhJCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBDT09LSUVfTkFNRVMgPSB7XG4gICAgUFJFRkVSRU5DRVNfU0VUOiAnY29va2llc19wcmVmZXJlbmNlc19zZXQnLFxuICAgIFBPTElDWTogJ2Nvb2tpZXNfcG9saWN5J1xuICB9O1xuXG4gIHZhciBERUZBVUxUX1BPTElDWSA9IHtcbiAgICBlc3NlbnRpYWw6IHRydWUsXG4gICAgc2V0dGluZ3M6IGZhbHNlLFxuICAgIHVzYWdlOiB0cnVlXG4gIH07XG5cbiAgdmFyIEdPVlVLX0NPT0tJRV9PUFRJT05TID0ge1xuICAgIGV4cGlyZXM6IDM2NSwgLy8gZGF5c1xuICAgIHNlY3VyZTogdHJ1ZSxcbiAgICBkb21haW46ICcuZWR1Y2F0aW9uLmdvdi51aydcbiAgfTtcblxuICB2YXIgR292VUtDb29raWUgPSB7XG4gICAgZ2V0OiBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgdmFyIHZhbHVlID0gQ29va2llcy5nZXQobmFtZSk7XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UodmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcbiAgICAgIHJldHVybiBDb29raWVzLnNldChcbiAgICAgICAgbmFtZSxcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIEdPVlVLX0NPT0tJRV9PUFRJT05TXG4gICAgICApO1xuICAgIH0sXG4gICAgcmVtb3ZlOiBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgcmV0dXJuIENvb2tpZXMucmVtb3ZlKFxuICAgICAgICBuYW1lLFxuICAgICAgICBHT1ZVS19DT09LSUVfT1BUSU9OU1xuICAgICAgKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyICRjb29raWVCYW5uZXIgPSAkKCcjZHNpLWNvb2tpZS1iYW5uZXIuZ2xvYmFsLWNvb2tpZS1tZXNzYWdlLWRmZS1zaWduLWluJyk7XG4gIHZhciAkY29va2llQWNjZXB0QnV0dG9uID0gJGNvb2tpZUJhbm5lci5maW5kKCdidXR0b24uY29va2llLWFjY2VwdCcpO1xuXG4gIHZhciBnZXRBY2NlcHRlZEFsbFBvbGljeSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYWNjZXB0ZWRQb2xpY3kgPSAkLmV4dGVuZChERUZBVUxUX1BPTElDWSwge30pOyAvLyBkZWVwIGNvcHlcblxuICAgICQuZWFjaChhY2NlcHRlZFBvbGljeSwgZnVuY3Rpb24gKGtleSkge1xuICAgICAgYWNjZXB0ZWRQb2xpY3lba2V5XSA9IHRydWU7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gYWNjZXB0ZWRQb2xpY3k7XG4gIH07XG5cbiAgdmFyIG9uQ29va2llQWNjZXB0ID0gZnVuY3Rpb24gKGV2ZW50LCBuZXdQb2xpY3kpIHtcbiAgICB2YXIgYWNjZXB0ZWRQb2xpY3kgPSBuZXdQb2xpY3kgfHwgZ2V0QWNjZXB0ZWRBbGxQb2xpY3koKTtcblxuICAgIEdvdlVLQ29va2llLnNldChcbiAgICAgIENPT0tJRV9OQU1FUy5QT0xJQ1ksXG4gICAgICBhY2NlcHRlZFBvbGljeVxuICAgICk7XG4gICAgR292VUtDb29raWUuc2V0KFxuICAgICAgQ09PS0lFX05BTUVTLlBSRUZFUkVOQ0VTX1NFVCxcbiAgICAgIHRydWVcbiAgICApO1xuXG4gICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gJGNvb2tpZUFjY2VwdEJ1dHRvblswXSkge1xuICAgICAgJGNvb2tpZUJhbm5lci5zbGlkZVVwKCk7XG4gICAgfVxuICB9O1xuXG4gIGlmICghR292VUtDb29raWUuZ2V0KENPT0tJRV9OQU1FUy5QUkVGRVJFTkNFU19TRVQpKSB7XG4gICAgR292VUtDb29raWUuc2V0KFxuICAgICAgQ09PS0lFX05BTUVTLlBPTElDWSxcbiAgICAgIERFRkFVTFRfUE9MSUNZXG4gICAgKTtcbiAgICAkY29va2llQWNjZXB0QnV0dG9uLmNsaWNrKG9uQ29va2llQWNjZXB0KTtcbiAgICBpZiAod2luZG93LmxvY2F0aW9uLnBhdGhuYW1lICE9PSAnL2Nvb2tpZXMnKSB7XG4gICAgICAkY29va2llQmFubmVyLnNsaWRlRG93bigpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkY29va2llQmFubmVyLnNob3coKTtcbiAgICB9XG4gIH1cblxuICB2YXIgJHByZWZlcmVuY2VzRm9ybSA9ICQoJyNkc2ktY29va2llLWZvcm0uY29va2llcy1wYWdlLWRmZS1zaWduLWluX19wcmVmZXJlbmNlcy1mb3JtJyk7XG5cbiAgJHByZWZlcmVuY2VzRm9ybS5sZW5ndGggJiYgJHByZWZlcmVuY2VzRm9ybS5vbignc3VibWl0JywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB2YXIgbmV3UG9saWN5ID0ge1xuICAgICAgc2V0dGluZ3M6ICEhJHByZWZlcmVuY2VzRm9ybS5maW5kKFwiaW5wdXRbbmFtZT0nY29va2llLnNldHRpbmdzJ106Y2hlY2tlZFwiKS52YWwoKVxuICAgIH07XG5cbiAgICB2YXIgYWNjZXB0ZWRQb2xpY3kgPSAkLmV4dGVuZChERUZBVUxUX1BPTElDWSwgbmV3UG9saWN5KTtcbiAgICBvbkNvb2tpZUFjY2VwdChldmVudCwgYWNjZXB0ZWRQb2xpY3kpO1xuXG4gICAgaWYgKGRvY3VtZW50LnJlZmVycmVyKSB7XG4gICAgICB3aW5kb3cubG9jYXRpb24gPSBkb2N1bWVudC5yZWZlcnJlcjtcbiAgICB9IGVsc2Uge1xuICAgICAgd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lID0gJy8nO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0pO1xuXG59KSh3aW5kb3cpO1xuIiwiLy8gPGRldGFpbHM+IHBvbHlmaWxsXG4vLyBodHRwOi8vY2FuaXVzZS5jb20vI2ZlYXQ9ZGV0YWlsc1xuXG4vLyBGRiBTdXBwb3J0IGZvciBIVE1MNSdzIDxkZXRhaWxzPiBhbmQgPHN1bW1hcnk+XG4vLyBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD01OTE3MzdcblxuLy8gaHR0cDovL3d3dy5zaXRlcG9pbnQuY29tL2ZpeGluZy10aGUtZGV0YWlscy1lbGVtZW50L1xuXG47KGZ1bmN0aW9uIChnbG9iYWwpIHtcbiAgJ3VzZSBzdHJpY3QnXG5cbiAgdmFyIEdPVlVLID0gZ2xvYmFsLkdPVlVLIHx8IHt9XG5cbiAgR09WVUsuZGV0YWlscyA9IHtcbiAgICBOQVRJVkVfREVUQUlMUzogdHlwZW9mIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RldGFpbHMnKS5vcGVuID09PSAnYm9vbGVhbicsXG4gICAgS0VZX0VOVEVSOiAxMyxcbiAgICBLRVlfU1BBQ0U6IDMyLFxuXG4gICAgLy8gQ3JlYXRlIGEgc3RhcnRlZCBmbGFnIHNvIHdlIGNhbiBwcmV2ZW50IHRoZSBpbml0aWFsaXNhdGlvblxuICAgIC8vIGZ1bmN0aW9uIGZpcmluZyBmcm9tIGJvdGggRE9NQ29udGVudExvYWRlZCBhbmQgd2luZG93Lm9ubG9hZFxuICAgIHN0YXJ0ZWQ6IGZhbHNlLFxuXG4gICAgLy8gQWRkIGV2ZW50IGNvbnN0cnVjdCBmb3IgbW9kZXJuIGJyb3dzZXJzIG9yIElFXG4gICAgLy8gd2hpY2ggZmlyZXMgdGhlIGNhbGxiYWNrIHdpdGggYSBwcmUtY29udmVydGVkIHRhcmdldCByZWZlcmVuY2VcbiAgICBhZGRFdmVudDogZnVuY3Rpb24gKG5vZGUsIHR5cGUsIGNhbGxiYWNrKSB7XG4gICAgICBpZiAobm9kZS5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgIGNhbGxiYWNrKGUsIGUudGFyZ2V0KVxuICAgICAgICB9LCBmYWxzZSlcbiAgICAgIH0gZWxzZSBpZiAobm9kZS5hdHRhY2hFdmVudCkge1xuICAgICAgICBub2RlLmF0dGFjaEV2ZW50KCdvbicgKyB0eXBlLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgIGNhbGxiYWNrKGUsIGUuc3JjRWxlbWVudClcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgcmVtb3ZlRXZlbnQ6IGZ1bmN0aW9uIChub2RlLCB0eXBlKSB7XG4gICAgICBpZiAobm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKSB7XG4gICAgICAgIG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICB9LCBmYWxzZSlcbiAgICAgIH0gZWxzZSBpZiAobm9kZS5kZXRhY2hFdmVudCkge1xuICAgICAgICBub2RlLmRldGFjaEV2ZW50KCdvbicgKyB0eXBlLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0sXG5cbiAgICAvLyBDcm9zcy1icm93c2VyIGNoYXJhY3RlciBjb2RlIC8ga2V5IHByZXNzZWRcbiAgICBjaGFyQ29kZTogZnVuY3Rpb24gKGUpIHtcbiAgICAgIHJldHVybiAodHlwZW9mIGUud2hpY2ggPT09ICdudW1iZXInKSA/IGUud2hpY2ggOiBlLmtleUNvZGVcbiAgICB9LFxuXG4gICAgLy8gQ3Jvc3MtYnJvd3NlciBwcmV2ZW50aW5nIGRlZmF1bHQgYWN0aW9uXG4gICAgcHJldmVudERlZmF1bHQ6IGZ1bmN0aW9uIChlKSB7XG4gICAgICBpZiAoZS5wcmV2ZW50RGVmYXVsdCkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGUucmV0dXJuVmFsdWUgPSBmYWxzZVxuICAgICAgfVxuICAgIH0sXG5cbiAgICAvLyBIYW5kbGUgY3Jvc3MtbW9kYWwgY2xpY2sgZXZlbnRzXG4gICAgYWRkQ2xpY2tFdmVudDogZnVuY3Rpb24gKG5vZGUsIGNhbGxiYWNrKSB7XG4gICAgICBHT1ZVSy5kZXRhaWxzLmFkZEV2ZW50KG5vZGUsICdrZXlwcmVzcycsIGZ1bmN0aW9uIChlLCB0YXJnZXQpIHtcbiAgICAgICAgLy8gV2hlbiB0aGUga2V5IGdldHMgcHJlc3NlZCAtIGNoZWNrIGlmIGl0IGlzIGVudGVyIG9yIHNwYWNlXG4gICAgICAgIGlmIChHT1ZVSy5kZXRhaWxzLmNoYXJDb2RlKGUpID09PSBHT1ZVSy5kZXRhaWxzLktFWV9FTlRFUiB8fCBHT1ZVSy5kZXRhaWxzLmNoYXJDb2RlKGUpID09PSBHT1ZVSy5kZXRhaWxzLktFWV9TUEFDRSkge1xuICAgICAgICAgIGlmICh0YXJnZXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ3N1bW1hcnknKSB7XG4gICAgICAgICAgICAvLyBQcmV2ZW50IHNwYWNlIGZyb20gc2Nyb2xsaW5nIHRoZSBwYWdlXG4gICAgICAgICAgICAvLyBhbmQgZW50ZXIgZnJvbSBzdWJtaXR0aW5nIGEgZm9ybVxuICAgICAgICAgICAgR09WVUsuZGV0YWlscy5wcmV2ZW50RGVmYXVsdChlKVxuICAgICAgICAgICAgLy8gQ2xpY2sgdG8gbGV0IHRoZSBjbGljayBldmVudCBkbyBhbGwgdGhlIG5lY2Vzc2FyeSBhY3Rpb25cbiAgICAgICAgICAgIGlmICh0YXJnZXQuY2xpY2spIHtcbiAgICAgICAgICAgICAgdGFyZ2V0LmNsaWNrKClcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIGV4Y2VwdCBTYWZhcmkgNS4xIGFuZCB1bmRlciBkb24ndCBzdXBwb3J0IC5jbGljaygpIGhlcmVcbiAgICAgICAgICAgICAgY2FsbGJhY2soZSwgdGFyZ2V0KVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSlcblxuICAgICAgLy8gUHJldmVudCBrZXl1cCB0byBwcmV2ZW50IGNsaWNraW5nIHR3aWNlIGluIEZpcmVmb3ggd2hlbiB1c2luZyBzcGFjZSBrZXlcbiAgICAgIEdPVlVLLmRldGFpbHMuYWRkRXZlbnQobm9kZSwgJ2tleXVwJywgZnVuY3Rpb24gKGUsIHRhcmdldCkge1xuICAgICAgICBpZiAoR09WVUsuZGV0YWlscy5jaGFyQ29kZShlKSA9PT0gR09WVUsuZGV0YWlscy5LRVlfU1BBQ0UpIHtcbiAgICAgICAgICBpZiAodGFyZ2V0Lm5vZGVOYW1lID09PSAnU1VNTUFSWScpIHtcbiAgICAgICAgICAgIEdPVlVLLmRldGFpbHMucHJldmVudERlZmF1bHQoZSlcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pXG5cbiAgICAgIEdPVlVLLmRldGFpbHMuYWRkRXZlbnQobm9kZSwgJ2NsaWNrJywgZnVuY3Rpb24gKGUsIHRhcmdldCkge1xuICAgICAgICBjYWxsYmFjayhlLCB0YXJnZXQpXG4gICAgICB9KVxuICAgIH0sXG5cbiAgICAvLyBHZXQgdGhlIG5lYXJlc3QgYW5jZXN0b3IgZWxlbWVudCBvZiBhIG5vZGUgdGhhdCBtYXRjaGVzIGEgZ2l2ZW4gdGFnIG5hbWVcbiAgICBnZXRBbmNlc3RvcjogZnVuY3Rpb24gKG5vZGUsIG1hdGNoKSB7XG4gICAgICBkbyB7XG4gICAgICAgIGlmICghbm9kZSB8fCBub2RlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IG1hdGNoKSB7XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlXG4gICAgICB9IHdoaWxlIChub2RlKVxuXG4gICAgICByZXR1cm4gbm9kZVxuICAgIH0sXG5cbiAgICAvLyBJbml0aWFsaXNhdGlvbiBmdW5jdGlvblxuICAgIGFkZERldGFpbHNQb2x5ZmlsbDogZnVuY3Rpb24gKGxpc3QsIGNvbnRhaW5lcikge1xuICAgICAgY29udGFpbmVyID0gY29udGFpbmVyIHx8IGRvY3VtZW50LmJvZHlcbiAgICAgIC8vIElmIHRoaXMgaGFzIGFscmVhZHkgaGFwcGVuZWQsIGp1c3QgcmV0dXJuXG4gICAgICAvLyBlbHNlIHNldCB0aGUgZmxhZyBzbyBpdCBkb2Vzbid0IGhhcHBlbiBhZ2FpblxuICAgICAgaWYgKEdPVlVLLmRldGFpbHMuc3RhcnRlZCkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIEdPVlVLLmRldGFpbHMuc3RhcnRlZCA9IHRydWVcbiAgICAgIC8vIEdldCB0aGUgY29sbGVjdGlvbiBvZiBkZXRhaWxzIGVsZW1lbnRzLCBidXQgaWYgdGhhdCdzIGVtcHR5XG4gICAgICAvLyB0aGVuIHdlIGRvbid0IG5lZWQgdG8gYm90aGVyIHdpdGggdGhlIHJlc3Qgb2YgdGhlIHNjcmlwdGluZ1xuICAgICAgaWYgKChsaXN0ID0gY29udGFpbmVyLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdkZXRhaWxzJykpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIC8vIGVsc2UgaXRlcmF0ZSB0aHJvdWdoIHRoZW0gdG8gYXBwbHkgdGhlaXIgaW5pdGlhbCBzdGF0ZVxuICAgICAgdmFyIG4gPSBsaXN0Lmxlbmd0aFxuICAgICAgdmFyIGkgPSAwXG4gICAgICBmb3IgKGk7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgdmFyIGRldGFpbHMgPSBsaXN0W2ldXG5cbiAgICAgICAgLy8gU2F2ZSBzaG9ydGN1dHMgdG8gdGhlIGlubmVyIHN1bW1hcnkgYW5kIGNvbnRlbnQgZWxlbWVudHNcbiAgICAgICAgZGV0YWlscy5fX3N1bW1hcnkgPSBkZXRhaWxzLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzdW1tYXJ5JykuaXRlbSgwKVxuICAgICAgICBkZXRhaWxzLl9fY29udGVudCA9IGRldGFpbHMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2RpdicpLml0ZW0oMClcblxuICAgICAgICBpZiAoIWRldGFpbHMuX19zdW1tYXJ5IHx8ICFkZXRhaWxzLl9fY29udGVudCkge1xuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIC8vIElmIHRoZSBjb250ZW50IGRvZXNuJ3QgaGF2ZSBhbiBJRCwgYXNzaWduIGl0IG9uZSBub3dcbiAgICAgICAgLy8gd2hpY2ggd2UnbGwgbmVlZCBmb3IgdGhlIHN1bW1hcnkncyBhcmlhLWNvbnRyb2xzIGFzc2lnbm1lbnRcbiAgICAgICAgaWYgKCFkZXRhaWxzLl9fY29udGVudC5pZCkge1xuICAgICAgICAgIGRldGFpbHMuX19jb250ZW50LmlkID0gJ2RldGFpbHMtY29udGVudC0nICsgaVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWRkIEFSSUEgcm9sZT1cImdyb3VwXCIgdG8gZGV0YWlsc1xuICAgICAgICBkZXRhaWxzLnNldEF0dHJpYnV0ZSgncm9sZScsICdncm91cCcpXG5cbiAgICAgICAgLy8gQWRkIHJvbGU9YnV0dG9uIHRvIHN1bW1hcnlcbiAgICAgICAgZGV0YWlscy5fX3N1bW1hcnkuc2V0QXR0cmlidXRlKCdyb2xlJywgJ2J1dHRvbicpXG5cbiAgICAgICAgLy8gQWRkIGFyaWEtY29udHJvbHNcbiAgICAgICAgZGV0YWlscy5fX3N1bW1hcnkuc2V0QXR0cmlidXRlKCdhcmlhLWNvbnRyb2xzJywgZGV0YWlscy5fX2NvbnRlbnQuaWQpXG5cbiAgICAgICAgLy8gU2V0IHRhYkluZGV4IHNvIHRoZSBzdW1tYXJ5IGlzIGtleWJvYXJkIGFjY2Vzc2libGUgZm9yIG5vbi1uYXRpdmUgZWxlbWVudHNcbiAgICAgICAgLy8gaHR0cDovL3d3dy5zYWxpZW5jZXMuY29tL2Jyb3dzZXJCdWdzL3RhYkluZGV4Lmh0bWxcbiAgICAgICAgaWYgKCFHT1ZVSy5kZXRhaWxzLk5BVElWRV9ERVRBSUxTKSB7XG4gICAgICAgICAgZGV0YWlscy5fX3N1bW1hcnkudGFiSW5kZXggPSAwXG4gICAgICAgIH1cblxuICAgICAgICAvLyBEZXRlY3QgaW5pdGlhbCBvcGVuIHN0YXRlXG4gICAgICAgIHZhciBvcGVuQXR0ciA9IGRldGFpbHMuZ2V0QXR0cmlidXRlKCdvcGVuJykgIT09IG51bGxcbiAgICAgICAgaWYgKG9wZW5BdHRyID09PSB0cnVlKSB7XG4gICAgICAgICAgZGV0YWlscy5fX3N1bW1hcnkuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ3RydWUnKVxuICAgICAgICAgIGRldGFpbHMuX19jb250ZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAnZmFsc2UnKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRldGFpbHMuX19zdW1tYXJ5LnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsICdmYWxzZScpXG4gICAgICAgICAgZGV0YWlscy5fX2NvbnRlbnQuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJylcbiAgICAgICAgICBpZiAoIUdPVlVLLmRldGFpbHMuTkFUSVZFX0RFVEFJTFMpIHtcbiAgICAgICAgICAgIGRldGFpbHMuX19jb250ZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDcmVhdGUgYSBjaXJjdWxhciByZWZlcmVuY2UgZnJvbSB0aGUgc3VtbWFyeSBiYWNrIHRvIGl0c1xuICAgICAgICAvLyBwYXJlbnQgZGV0YWlscyBlbGVtZW50LCBmb3IgY29udmVuaWVuY2UgaW4gdGhlIGNsaWNrIGhhbmRsZXJcbiAgICAgICAgZGV0YWlscy5fX3N1bW1hcnkuX19kZXRhaWxzID0gZGV0YWlsc1xuXG4gICAgICAgIC8vIElmIHRoaXMgaXMgbm90IGEgbmF0aXZlIGltcGxlbWVudGF0aW9uLCBjcmVhdGUgYW4gYXJyb3dcbiAgICAgICAgLy8gaW5zaWRlIHRoZSBzdW1tYXJ5XG4gICAgICAgIGlmICghR09WVUsuZGV0YWlscy5OQVRJVkVfREVUQUlMUykge1xuICAgICAgICAgIHZhciB0d2lzdHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpJylcblxuICAgICAgICAgIGlmIChvcGVuQXR0ciA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgdHdpc3R5LmNsYXNzTmFtZSA9ICdhcnJvdyBhcnJvdy1vcGVuJ1xuICAgICAgICAgICAgdHdpc3R5LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCdcXHUyNWJjJykpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHR3aXN0eS5jbGFzc05hbWUgPSAnYXJyb3cgYXJyb3ctY2xvc2VkJ1xuICAgICAgICAgICAgdHdpc3R5LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCdcXHUyNWJhJykpXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZGV0YWlscy5fX3N1bW1hcnkuX190d2lzdHkgPSBkZXRhaWxzLl9fc3VtbWFyeS5pbnNlcnRCZWZvcmUodHdpc3R5LCBkZXRhaWxzLl9fc3VtbWFyeS5maXJzdENoaWxkKVxuICAgICAgICAgIGRldGFpbHMuX19zdW1tYXJ5Ll9fdHdpc3R5LnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gQmluZCBhIGNsaWNrIGV2ZW50IHRvIGhhbmRsZSBzdW1tYXJ5IGVsZW1lbnRzXG4gICAgICBHT1ZVSy5kZXRhaWxzLmFkZENsaWNrRXZlbnQoY29udGFpbmVyLCBmdW5jdGlvbiAoZSwgc3VtbWFyeSkge1xuICAgICAgICBpZiAoIShzdW1tYXJ5ID0gR09WVUsuZGV0YWlscy5nZXRBbmNlc3RvcihzdW1tYXJ5LCAnc3VtbWFyeScpKSkge1xuICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEdPVlVLLmRldGFpbHMuc3RhdGVjaGFuZ2Uoc3VtbWFyeSlcbiAgICAgIH0pXG4gICAgfSxcblxuICAgIC8vIERlZmluZSBhIHN0YXRlY2hhbmdlIGZ1bmN0aW9uIHRoYXQgdXBkYXRlcyBhcmlhLWV4cGFuZGVkIGFuZCBzdHlsZS5kaXNwbGF5XG4gICAgLy8gQWxzbyB1cGRhdGUgdGhlIGFycm93IHBvc2l0aW9uXG4gICAgc3RhdGVjaGFuZ2U6IGZ1bmN0aW9uIChzdW1tYXJ5KSB7XG4gICAgICB2YXIgZXhwYW5kZWQgPSBzdW1tYXJ5Ll9fZGV0YWlscy5fX3N1bW1hcnkuZ2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJykgPT09ICd0cnVlJ1xuICAgICAgdmFyIGhpZGRlbiA9IHN1bW1hcnkuX19kZXRhaWxzLl9fY29udGVudC5nZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJykgPT09ICd0cnVlJ1xuXG4gICAgICBzdW1tYXJ5Ll9fZGV0YWlscy5fX3N1bW1hcnkuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgKGV4cGFuZGVkID8gJ2ZhbHNlJyA6ICd0cnVlJykpXG4gICAgICBzdW1tYXJ5Ll9fZGV0YWlscy5fX2NvbnRlbnQuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsIChoaWRkZW4gPyAnZmFsc2UnIDogJ3RydWUnKSlcblxuICAgICAgaWYgKCFHT1ZVSy5kZXRhaWxzLk5BVElWRV9ERVRBSUxTKSB7XG4gICAgICAgIHN1bW1hcnkuX19kZXRhaWxzLl9fY29udGVudC5zdHlsZS5kaXNwbGF5ID0gKGV4cGFuZGVkID8gJ25vbmUnIDogJycpXG5cbiAgICAgICAgdmFyIGhhc09wZW5BdHRyID0gc3VtbWFyeS5fX2RldGFpbHMuZ2V0QXR0cmlidXRlKCdvcGVuJykgIT09IG51bGxcbiAgICAgICAgaWYgKCFoYXNPcGVuQXR0cikge1xuICAgICAgICAgIHN1bW1hcnkuX19kZXRhaWxzLnNldEF0dHJpYnV0ZSgnb3BlbicsICdvcGVuJylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdW1tYXJ5Ll9fZGV0YWlscy5yZW1vdmVBdHRyaWJ1dGUoJ29wZW4nKVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChzdW1tYXJ5Ll9fdHdpc3R5KSB7XG4gICAgICAgIHN1bW1hcnkuX190d2lzdHkuZmlyc3RDaGlsZC5ub2RlVmFsdWUgPSAoZXhwYW5kZWQgPyAnXFx1MjViYScgOiAnXFx1MjViYycpXG4gICAgICAgIHN1bW1hcnkuX190d2lzdHkuc2V0QXR0cmlidXRlKCdjbGFzcycsIChleHBhbmRlZCA/ICdhcnJvdyBhcnJvdy1jbG9zZWQnIDogJ2Fycm93IGFycm93LW9wZW4nKSlcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRydWVcbiAgICB9LFxuXG4gICAgZGVzdHJveTogZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgIEdPVlVLLmRldGFpbHMucmVtb3ZlRXZlbnQobm9kZSwgJ2NsaWNrJylcbiAgICB9LFxuXG4gICAgLy8gQmluZCB0d28gbG9hZCBldmVudHMgZm9yIG1vZGVybiBhbmQgb2xkZXIgYnJvd3NlcnNcbiAgICAvLyBJZiB0aGUgZmlyc3Qgb25lIGZpcmVzIGl0IHdpbGwgc2V0IGEgZmxhZyB0byBibG9jayB0aGUgc2Vjb25kIG9uZVxuICAgIC8vIGJ1dCBpZiBpdCdzIG5vdCBzdXBwb3J0ZWQgdGhlbiB0aGUgc2Vjb25kIG9uZSB3aWxsIGZpcmVcbiAgICBpbml0OiBmdW5jdGlvbiAoJGNvbnRhaW5lcikge1xuICAgICAgR09WVUsuZGV0YWlscy5hZGRFdmVudChkb2N1bWVudCwgJ0RPTUNvbnRlbnRMb2FkZWQnLCBHT1ZVSy5kZXRhaWxzLmFkZERldGFpbHNQb2x5ZmlsbClcbiAgICAgIEdPVlVLLmRldGFpbHMuYWRkRXZlbnQod2luZG93LCAnbG9hZCcsIEdPVlVLLmRldGFpbHMuYWRkRGV0YWlsc1BvbHlmaWxsKVxuICAgIH1cbiAgfVxuICBnbG9iYWwuR09WVUsgPSBHT1ZVS1xufSkod2luZG93KVxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBOU0EgPSBOU0EgfHwge307XG52YXIgZmlsdGVyQm94ZXMgPSAkKCcuZmlsdGVyLWJveCcpO1xuXG5OU0EuZmlsdGVycyA9IHtcbiAgaW5pdDogZnVuY3Rpb24gKCkge1xuICAgIGZpbHRlckJveGVzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGF0ID0gJCh0aGlzKSxcbiAgICAgICAgICBoZWFkZXIgPSAkdGhhdC5maW5kKCcuY29udGFpbmVyLWhlYWQnKSxcbiAgICAgICAgICB0aXRsZSA9IGhlYWRlci5maW5kKCcub3B0aW9uLXNlbGVjdC1sYWJlbCcpLFxuICAgICAgICAgIGNoZWNrYm94ZXMgPSAkdGhhdC5maW5kKCdpbnB1dDpjaGVja2JveCcpLFxuICAgICAgICAgIGJ1dHRvbiA9ICQoJzxidXR0b24gLz4nKS5hZGRDbGFzcygnanMtY29udGFpbmVyLWhlYWQnKSxcbiAgICAgICAgICBjaGVja0NvdW50ID0gJCgnPGRpdiAvPicpLmFkZENsYXNzKCdqcy1zZWxlY3RlZC1jb3VudGVyJyk7XG5cbiAgICAgIGJ1dHRvbi5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgb3B0aW9ucyA9ICQodGhpcykubmV4dCgpO1xuICAgICAgICBpZiAoJCh0aGlzKS5oYXNDbGFzcygnY2xvc2VkJykpIHtcbiAgICAgICAgICBvcHRpb25zLnNob3coKTtcbiAgICAgICAgICAkKHRoaXMpXG4gICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ2Nsb3NlZCcpXG4gICAgICAgICAgICAuYXR0cignYXJpYS1leHBhbmRlZCcsIHRydWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9wdGlvbnMuaGlkZSgpO1xuICAgICAgICAgICQodGhpcylcbiAgICAgICAgICAgIC5hZGRDbGFzcygnY2xvc2VkJylcbiAgICAgICAgICAgIC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH0pLmFwcGVuZCh0aXRsZSwgY2hlY2tDb3VudCk7XG5cbiAgICAgIGhlYWRlci5yZXBsYWNlV2l0aChidXR0b24pO1xuXG4gICAgICBjaGVja2JveGVzLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNoZWNrQ291bnQudGV4dChmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gY2hlY2tib3hlcy5maWx0ZXIoJzpjaGVja2VkJykubGVuZ3RoID4gMCA/IGNoZWNrYm94ZXMuZmlsdGVyKCc6Y2hlY2tlZCcpLmxlbmd0aCArICcgc2VsZWN0ZWQnIDogJyc7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cblxuaWYgKGZpbHRlckJveGVzLmxlbmd0aCA+IDApIHtcbiAgTlNBLmZpbHRlcnMuaW5pdCgpO1xufVxuIiwidmFyIGdhRXZlbnQgPSAkKCcjZ2EtZXZlbnQnKTtcblxuaWYgKGdhRXZlbnQubGVuZ3RoID4gMCkge1xuICB2YXIgY2F0ZWdvcnkgPSBnYUV2ZW50LmRhdGEoJ2NhdGVnb3J5JyksXG4gICAgbGFiZWwgPSBnYUV2ZW50LmRhdGEoJ2xhYmVsJyksXG4gICAgZXZlbnQgPSBnYUV2ZW50LmRhdGEoJ2V2ZW50Jyk7XG5cbiAgaWYgKGV2ZW50ICE9PSAnJyAmJiBsYWJlbCAhPT0gJycgJiYgY2F0ZWdvcnkgIT09ICcnKSB7XG4gICAgZ2EoJ3NlbmQnLCAnZXZlbnQnLCBjYXRlZ29yeSwgZXZlbnQsIGxhYmVsKTtcbiAgfVxufVxuXG4kKCcubm90aWZpY2F0aW9uIGEnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gIGlmICgkKHRoaXMpLmRhdGEoJ2NsaWVudGlkJykpIHtcbiAgICBnYSgnc2VuZCcsICdldmVudCcsICdtaWdyYXRpb24taGVscC1wZGYnLCAnZG93bmxvYWQnLCAkKHRoaXMpLmRhdGEoJ2NsaWVudGlkJykpO1xuICB9XG59KTtcbiIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgTlNBID0gTlNBIHx8IHt9O1xuXG5OU0Euc2lnbmluID0ge1xuICBmb3JtOiAkKCcuZm9ybS1zaWduaW4nKSxcbiAgaW5pdDogZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuc2V0dXBFdmVudHMoKTtcbiAgfSxcbiAgc2V0dXBFdmVudHM6IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZvcm0ub24oJ3N1Ym1pdCcsIHRoaXMsIHRoaXMuaGFuZGxlU3VibWl0KTtcbiAgfSxcbiAgaGFuZGxlU3VibWl0OiBmdW5jdGlvbiAoZSkge1xuXG4gICAgdmFyICRmb3JtID0gJCh0aGlzKTtcbiAgICB2YXIgJGlucHV0cyA9ICRmb3JtLmZpbmQoJ2lucHV0Jykubm90KCc6Y2hlY2tib3gnKSwgcG9zdERhdGEgPSB7fSwgJHN1Ym1pdEJ1dHRvbnMgPSAkKHRoaXMpLmZpbmQoJ2J1dHRvbjpzdWJtaXQnKSwgJHN1Ym1pdEJ1dHRvbiA9ICRzdWJtaXRCdXR0b25zLmVxKDApO1xuXG4gICAgJHN1Ym1pdEJ1dHRvbnMuYXR0cignZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcblxuICAgICRzdWJtaXRCdXR0b24uY3NzKCdtaW4td2lkdGgnLCAkc3VibWl0QnV0dG9uLm91dGVyV2lkdGgoKSArICdweCcpXG5cbiAgICAkc3VibWl0QnV0dG9uLmZpbmQoJy5sb2FkZXInKS5yZW1vdmVDbGFzcygndmgnKTtcblxuICAgICRpbnB1dHMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgIHBvc3REYXRhW3RoaXMubmFtZV0gPSAkKHRoaXMpLnZhbCgpO1xuICAgIH0pO1xuXG4gICAgJCgnI3Bhc3N3b3JkJykucHJvcCgndHlwZScsICdwYXNzd29yZCcpLm5leHQoKS5yZW1vdmVDbGFzcygndHlwZS1wYXNzd29yZCcpO1xuXG4gICAgJC5hamF4KHtcbiAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgIGRhdGE6IHBvc3REYXRhLFxuICAgICAgdXJsOiAkZm9ybS5hdHRyKCdhY3Rpb24nKSxcbiAgICAgIGNvbnRleHQ6IGUuZGF0YSxcbiAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICBpZiAoZGF0YS5yZWRpcmVjdCkge1xuICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gZGF0YS51cmk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGRhdGEuaXNGYWlsZWRMb2dpbikge1xuICAgICAgICAgICAgdGhpcy5yZXNldFZhbGlkYXRpb24oJGZvcm0pO1xuICAgICAgICAgICAgdGhpcy5zaG93VmFsaWRhdGlvbk1lc3NhZ2UoZGF0YS52YWxpZGF0aW9uTWVzc2FnZXMpO1xuICAgICAgICAgICAgdGhpcy5zaG93SW5saW5lVmFsaWRhdGlvbihkYXRhLnZhbGlkYXRpb25NZXNzYWdlcyk7XG4gICAgICAgICAgICAkc3VibWl0QnV0dG9ucy5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgJHN1Ym1pdEJ1dHRvbi5maW5kKCcubG9hZGVyJykuYWRkQ2xhc3MoJ3ZoJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGdhKCdzZW5kJywgJ2V2ZW50JywgJ0xvZ2luJywgJ1N1Y2Nlc3NmdWwgbG9naW4nLCBnZXRQYXJhbWV0ZXJCeU5hbWUoJ2NsaWVudGlkJykpO1xuXG4gICAgICAgICAgICB0aGlzLmJ1aWxkRm9ybUFuZFN1Ym1pdChkYXRhKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBlcnJvcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMucmVzZXRWYWxpZGF0aW9uKCRmb3JtKTtcbiAgICAgICAgdGhpcy5zaG93VmFsaWRhdGlvbk1lc3NhZ2UoKTtcbiAgICAgICAgJHN1Ym1pdEJ1dHRvbnMucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcbiAgICAgICAgJHN1Ym1pdEJ1dHRvbi5maW5kKCcubG9hZGVyJykuYWRkQ2xhc3MoJ3ZoJyk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICB9LFxuICByZXNldFZhbGlkYXRpb246IGZ1bmN0aW9uICgkZm9ybSkge1xuXG4gICAgdmFyICRmb3JtR3JvdXBzID0gJGZvcm0uZmluZCgnLmZvcm0tZ3JvdXAnKTtcblxuICAgICQoJy5lcnJvci1zdW1tYXJ5JykucmVtb3ZlKCk7XG5cbiAgICAkZm9ybUdyb3Vwcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkZmllbGQgPSAkKHRoaXMpLmZpbmQoJ2lucHV0JykuZXEoMCk7XG4gICAgICBpZiAoJCh0aGlzKS5oYXNDbGFzcygnZm9ybS1ncm91cC1lcnJvcicpKSB7XG4gICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2Zvcm0tZ3JvdXAtZXJyb3InKTtcbiAgICAgICAgJCh0aGlzKS5maW5kKCdwLmVycm9yLW1lc3NhZ2UnKS5yZW1vdmUoKTtcbiAgICAgICAgJGZpZWxkLnJlbW92ZUF0dHIoJ2FyaWEtZGVzY3JpYmVkYnknKS5yZW1vdmVBdHRyKCdhcmlhLWludmFsaWQnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcblxuICBzaG93VmFsaWRhdGlvbk1lc3NhZ2U6IGZ1bmN0aW9uIChtZXNzYWdlcykge1xuXG4gICAgdmFyICRkaXYgPSAkKCc8ZGl2IC8+JykuYXR0cignY2xhc3MnLCAnZXJyb3Itc3VtbWFyeScpLmF0dHIoJ3JvbGUnLCAnYWxlcnQnKS5hdHRyKCd0YWJpbmRleCcsICctMScpO1xuICAgIHZhciAkaDIgPSAkKCc8aDIgLz4nKS5hdHRyKCdjbGFzcycsICdoZWFkaW5nLW1lZGl1bSBlcnJvci1zdW1tYXJ5LWhlYWRpbmcnKS5hdHRyKCdpZCcsICdlcnJvci1zdW1tYXJ5Jyk7XG4gICAgdmFyICR1bCA9ICQoJzx1bCAvPicpLmF0dHIoJ2NsYXNzJywgJ2Vycm9yLXN1bW1hcnktbGlzdCcpO1xuXG4gICAgaWYgKG1lc3NhZ2VzKSB7XG4gICAgICAkaDIudGV4dCgnSW5mb3JtYXRpb24gbWlzc2luZyBvciBpbmNvcnJlY3QnKTtcbiAgICAgICQuZWFjaChtZXNzYWdlcywgZnVuY3Rpb24gKGluZGV4LCB2YWx1ZSkge1xuICAgICAgICBpZiAoaW5kZXggPT09ICdsb2dpbkVycm9yJykge1xuICAgICAgICAgIGluZGV4ID0gJ3VzZXJuYW1lJztcbiAgICAgICAgICBnYSgnc2VuZCcsICdldmVudCcsICdMb2dpbicsICdGYWlsZWQgbG9naW4nLCAnVXNlcnMgbG9naW4gY3JlZGVudGlhbHMgd2VyZSB3cm9uZycpO1xuICAgICAgICB9XG4gICAgICAgIHZhciAkYSA9ICQoJzxhIC8+JykuYXR0cignaHJlZicsICcjJyArIGluZGV4KS50ZXh0KHZhbHVlKTtcbiAgICAgICAgdmFyICRsaSA9ICQoJzxsaSAvPicpLmFwcGVuZCgkYSk7XG4gICAgICAgICR1bC5hcHBlbmQoJGxpKTtcbiAgICAgIH0pO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgICRoMi50ZXh0KCdUaGVyZSBoYXMgYmVlbiBhbiBlcnJvcicpO1xuICAgICAgdmFyICRsaSA9ICQoJzxsaSAvPicpLmh0bWwoJ1BsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuIElmIHRoZSBwcm9ibGVtIGNvbnRpbnVlcywgZm9sbG93IHRoZSBsaW5rIHRvIDxhIGhyZWY9XCJodHRwczovL2hlbHAuc2lnbmluLmVkdWNhdGlvbi5nb3YudWsvY29udGFjdC9mb3JtXCI+c3VibWl0IGEgc3VwcG9ydCByZXF1ZXN0PC9hPicpO1xuICAgICAgJHVsLmFwcGVuZCgkbGkpO1xuICAgICAgZ2EoJ3NlbmQnLCAnZXZlbnQnLCAnTG9naW4nLCAnRXJyb3Igb2NjdXJyZWQnLCAnQSBzZXJ2ZXIgZXJyb3Igb2NjdXJyZWQgZHVyaW5nIGxvZ2luJyk7XG4gICAgfVxuXG4gICAgJGRpdi5hcHBlbmQoJGgyKS5hcHBlbmQoJHVsKTtcbiAgICAkKCdtYWluJykucHJlcGVuZCgkZGl2KTtcblxuICAgICQoJ2h0bWwsIGJvZHknKS5hbmltYXRlKHtcbiAgICAgIHNjcm9sbFRvcDogJGRpdi5vZmZzZXQoKS50b3AgLSAxNVxuICAgIH0sIDMwMCk7XG5cbiAgfSxcbiAgc2hvd0lubGluZVZhbGlkYXRpb246IGZ1bmN0aW9uKG1lc3NhZ2VzKSB7XG5cbiAgICAkLmVhY2gobWVzc2FnZXMsIGZ1bmN0aW9uKCBpbmRleCwgdmFsdWUgKSB7XG4gICAgICB2YXIgJGZpZWxkID0gJCgnaW5wdXRbbmFtZT0nICsgaW5kZXggKyAnXScpLFxuICAgICAgICAkcGFyZW50ID0gJGZpZWxkLnBhcmVudCgpO1xuXG4gICAgICBpZiAoJHBhcmVudC5oYXNDbGFzcygnc2hvdy1wYXNzd29yZCcpKSB7XG4gICAgICAgICRwYXJlbnQgPSAkcGFyZW50LnBhcmVudCgpO1xuICAgICAgfVxuXG4gICAgICB2YXIgJGxhYmVsID0gJHBhcmVudC5maW5kKCdsYWJlbCcpLmZpcnN0KCk7XG5cbiAgICAgIGlmICghJHBhcmVudC5oYXNDbGFzcygnZm9ybS1ncm91cC1lcnJvcicpKSB7XG5cbiAgICAgICAgdmFyIGVycm9yTWVzc2FnZSA9ICQoJzxwPicpXG4gICAgICAgICAgLmh0bWwodmFsdWUpXG4gICAgICAgICAgLnByb3AoJ2NsYXNzJywgJ2Vycm9yLW1lc3NhZ2UnKVxuICAgICAgICAgIC5wcm9wKCdpZCcsICd2YWxpZGF0aW9uLScgKyBpbmRleCk7XG4gICAgICB9XG5cbiAgICAgICRsYWJlbC5hZnRlcihlcnJvck1lc3NhZ2UpO1xuICAgICAgJHBhcmVudC5hZGRDbGFzcygnZm9ybS1ncm91cC1lcnJvcicpO1xuICAgICAgJGZpZWxkLmF0dHIoe1xuICAgICAgICAnYXJpYS1kZXNjcmliZWRieScgOiAndmFsaWRhdGlvbi0nICsgaW5kZXgsXG4gICAgICAgICdhcmlhLWludmFsaWQnOiAndHJ1ZSdcbiAgICAgIH0pO1xuXG4gICAgfSk7XG5cbiAgfSxcbiAgYnVpbGRGb3JtQW5kU3VibWl0OiBmdW5jdGlvbiAoZGF0YSkge1xuXG4gICAgdmFyICRmb3JtID0gJCgnPGZvcm0gLz4nKS5hdHRyKHtcbiAgICAgIG1ldGhvZDogJ3Bvc3QnLFxuICAgICAgYWN0aW9uOiBkYXRhLmRlc3RpbmF0aW9uLFxuICAgICAgaWQ6ICdkZmVzaWduaW5mb3JtJ1xuICAgIH0pO1xuXG4gICAgJC5lYWNoKGRhdGEucG9zdGJhY2tEYXRhLCBmdW5jdGlvbiggaW5kZXgsIHZhbHVlICkge1xuICAgICAgdmFyICRmaWVsZCA9ICQoJzxpbnB1dCAvPicpLmF0dHIoe1xuICAgICAgICB0eXBlOiAnaGlkZGVuJyxcbiAgICAgICAgbmFtZTogaW5kZXgsXG4gICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgfSk7XG4gICAgICAkZm9ybS5hcHBlbmQoJGZpZWxkKTtcbiAgICB9KTtcblxuICAgICQoJyNkZmVzaWduaW5mb3JtJykucmVtb3ZlKCk7XG4gICAgJCgnYm9keScpLmFwcGVuZCgkZm9ybSk7XG4gICAgJGZvcm0uc3VibWl0KCk7XG4gIH0sXG59O1xuXG5pZiAoJCgnLmZvcm0tc2lnbmluJykubGVuZ3RoID4gMCkge1xuICBOU0Euc2lnbmluLmluaXQoKTtcbn1cblxuZnVuY3Rpb24gZ2V0UGFyYW1ldGVyQnlOYW1lKG5hbWUsIHVybCkge1xuICBpZiAoIXVybCkgdXJsID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XG4gIG5hbWUgPSBuYW1lLnJlcGxhY2UoL1tcXFtcXF1dL2csIFwiXFxcXCQmXCIpO1xuICB2YXIgcmVnZXggPSBuZXcgUmVnRXhwKFwiWz8mXVwiICsgbmFtZSArIFwiKD0oW14mI10qKXwmfCN8JClcIiksXG4gICAgcmVzdWx0cyA9IHJlZ2V4LmV4ZWModXJsKTtcbiAgaWYgKCFyZXN1bHRzKSByZXR1cm4gbnVsbDtcbiAgaWYgKCFyZXN1bHRzWzJdKSByZXR1cm4gJyc7XG4gIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQocmVzdWx0c1syXS5yZXBsYWNlKC9cXCsvZywgXCIgXCIpKTtcbn1cbiIsIlwidXNlIHN0cmljdFwiO1xuXG5mdW5jdGlvbiBzb3J0VGFibGUobikge1xuICB2YXIgdGFibGUsIHJvd3MsIHN3aXRjaGluZywgaSwgeCwgeSwgc2hvdWxkU3dpdGNoLCBkaXJlY3Rpb24sIHN3aXRjaGNvdW50ID0gMDtcbiAgdGFibGUgPSAkKCd0YWJsZS5zb3J0YWJsZScpO1xuICBzd2l0Y2hpbmcgPSB0cnVlO1xuICBkaXJlY3Rpb24gPSAnYSc7XG5cbiAgd2hpbGUgKHN3aXRjaGluZykge1xuXG4gICAgc3dpdGNoaW5nID0gZmFsc2U7XG4gICAgcm93cyA9IHRhYmxlLmZpbmQoJ3RyJyk7XG5cbiAgICBmb3IgKGkgPSAxOyBpIDwgKHJvd3MubGVuZ3RoIC0gMSk7IGkrKykge1xuXG4gICAgICBzaG91bGRTd2l0Y2ggPSBmYWxzZTtcblxuICAgICAgeCA9IHJvd3NbaV0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ1REJylbbl07XG4gICAgICB5ID0gcm93c1tpICsgMV0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ1REJylbbl07XG5cbiAgICAgIGlmIChkaXJlY3Rpb24gPT09ICdhJykge1xuICAgICAgICBpZiAoeC5pbm5lckhUTUwudG9Mb3dlckNhc2UoKSA+IHkuaW5uZXJIVE1MLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgICBzaG91bGRTd2l0Y2ggPSB0cnVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gJ2QnKSB7XG4gICAgICAgIGlmICh4LmlubmVySFRNTC50b0xvd2VyQ2FzZSgpIDwgeS5pbm5lckhUTUwudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICAgIHNob3VsZFN3aXRjaCA9IHRydWU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc2hvdWxkU3dpdGNoKSB7XG5cbiAgICAgIHJvd3NbaV0ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUocm93c1tpICsgMV0sIHJvd3NbaV0pO1xuICAgICAgc3dpdGNoaW5nID0gdHJ1ZTtcblxuICAgICAgc3dpdGNoY291bnQgKys7XG5cbiAgICB9IGVsc2Uge1xuXG4gICAgICBpZiAoc3dpdGNoY291bnQgPT09IDAgJiYgZGlyZWN0aW9uID09PSAnYScpIHtcbiAgICAgICAgZGlyZWN0aW9uID0gJ2QnO1xuICAgICAgICBzd2l0Y2hpbmcgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgfVxuICB9XG4gIHJldHVybiBkaXJlY3Rpb247XG59XG5cbiQoZnVuY3Rpb24gKCkge1xuXG4gICQoJ3RhYmxlLnNvcnRhYmxlIHRoZWFkIHRoJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIGhlYWRpbmdDZWxscyA9ICQoJ3RhYmxlLnNvcnRhYmxlIHRoZWFkIHRyIHRoJyk7XG5cbiAgICBoZWFkaW5nQ2VsbHMucmVtb3ZlQ2xhc3MoJ3NvcnRlZCcpLnJlbW92ZUNsYXNzKCdkaXItYScpLnJlbW92ZUNsYXNzKCdkaXItZCcpO1xuXG4gICAgdmFyIGluZGV4ID0gaGVhZGluZ0NlbGxzLmluZGV4KCQodGhpcykpO1xuXG4gICAgdmFyIGRpcmVjdGlvbiA9IHNvcnRUYWJsZShpbmRleCk7XG5cbiAgICAkKHRoaXMpLmFkZENsYXNzKCdzb3J0ZWQgZGlyLScgKyBkaXJlY3Rpb24pO1xuXG4gIH0pO1xuXG59KTtcbiIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgTlNBID0gTlNBIHx8IHt9O1xuXG5OU0EubW9kYWwgPSB7XG4gIGVsZW1zOiB7XG4gICAgbGlua3M6ICQoJy5tb2RhbC1saW5rJyksXG4gICAgbW9kYWxzOiAkKCcubW9kYWwnKVxuICB9LFxuICBpbml0OiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5tb2RhbEJnKCk7XG4gICAgdGhpcy5zZXRVcEV2ZW50cygpO1xuICB9LFxuICBtb2RhbEJnOiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgIHZhciBiZyA9ICQoJzxkaXY+JykuYWRkQ2xhc3MoJ21vZGFsLWJnJykuaGlkZSgpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHsgdGhhdC5oaWRlTW9kYWxzKCk7IH0pO1xuICAgICQoJ2JvZHknKS5hcHBlbmQoYmcpO1xuICB9LFxuICBzZXRVcEV2ZW50czogZnVuY3Rpb24gKCkge1xuICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICB0aGlzLmVsZW1zLmxpbmtzLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgdGFyZ2V0ID0gJCh0aGlzKS5hdHRyKCdocmVmJyk7XG4gICAgICB0aGF0LnNob3dNb2RhbCgkKHRhcmdldCkpO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuXG4gICAgdGhhdC5lbGVtcy5tb2RhbHMuZmluZCgnLmNsb3NlJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIHRoYXQuaGlkZU1vZGFscygpO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuXG4gICAgJCgnYm9keScpLm9uKCdrZXlkb3duJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlmICgoZS5rZXlDb2RlIHx8IGUud2hpY2gpID09PSAyNylcbiAgICAgICAgdGhhdC5oaWRlTW9kYWxzKCk7XG4gICAgfSk7XG4gIH0sXG4gIHNob3dNb2RhbDogZnVuY3Rpb24gKG1vZGFsKSB7XG4gICAgJCgnaHRtbCcpLmFkZENsYXNzKCdtb2RhbC1vcGVuJyk7XG4gICAgJCgnLm1vZGFsLWJnJykuc2hvdygpO1xuICAgIG1vZGFsLnNob3coKTtcbiAgfSxcbiAgaGlkZU1vZGFsczogZnVuY3Rpb24gKCkge1xuICAgICQoJ2h0bWwnKS5yZW1vdmVDbGFzcygnbW9kYWwtb3BlbicpO1xuICAgICQoJy5tb2RhbC1iZycpLmhpZGUoKTtcbiAgICB0aGlzLmVsZW1zLm1vZGFscy5oaWRlKCk7XG4gIH1cbn1cblxuTlNBLm1vZGFsLmluaXQoKTtcbiIsIjsoZnVuY3Rpb24gKGdsb2JhbCkge1xuICAndXNlIHN0cmljdCdcblxuICB2YXIgJCA9IGdsb2JhbC5qUXVlcnlcbiAgdmFyIEdPVlVLID0gZ2xvYmFsLkdPVlVLIHx8IHt9XG5cbiAgZnVuY3Rpb24gU2hvd0hpZGVDb250ZW50ICgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXNcblxuICAgIC8vIFJhZGlvIGFuZCBDaGVja2JveCBzZWxlY3RvcnNcbiAgICB2YXIgc2VsZWN0b3JzID0ge1xuICAgICAgbmFtZXNwYWNlOiAnU2hvd0hpZGVDb250ZW50JyxcbiAgICAgIHJhZGlvOiAnW2RhdGEtdGFyZ2V0XSA+IGlucHV0W3R5cGU9XCJyYWRpb1wiXScsXG4gICAgICBjaGVja2JveDogJ1tkYXRhLXRhcmdldF0gPiBpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0nLFxuICAgICAgbGluazogJ2EuanMtdG9nZ2xlLWNvbnRlbnQnXG4gICAgfVxuXG4gICAgLy8gRXNjYXBlIG5hbWUgYXR0cmlidXRlIGZvciB1c2UgaW4gRE9NIHNlbGVjdG9yXG4gICAgZnVuY3Rpb24gZXNjYXBlRWxlbWVudE5hbWUgKHN0cikge1xuICAgICAgdmFyIHJlc3VsdCA9IHN0ci5yZXBsYWNlKCdbJywgJ1xcXFxbJykucmVwbGFjZSgnXScsICdcXFxcXScpXG4gICAgICByZXR1cm4gcmVzdWx0XG4gICAgfVxuXG4gICAgLy8gQWRkcyBBUklBIGF0dHJpYnV0ZXMgdG8gY29udHJvbCArIGFzc29jaWF0ZWQgY29udGVudFxuICAgIGZ1bmN0aW9uIGluaXRUb2dnbGVkQ29udGVudCAoKSB7XG4gICAgICB2YXIgJGNvbnRyb2wgPSAkKHRoaXMpXG4gICAgICB2YXIgJGNvbnRlbnQgPSBnZXRUb2dnbGVkQ29udGVudCgkY29udHJvbClcblxuICAgICAgLy8gU2V0IGFyaWEtY29udHJvbHMgYW5kIGRlZmF1bHRzXG4gICAgICBpZiAoJGNvbnRlbnQubGVuZ3RoKSB7XG4gICAgICAgICRjb250cm9sLmF0dHIoJ2FyaWEtY29udHJvbHMnLCAkY29udGVudC5hdHRyKCdpZCcpKVxuICAgICAgICAkY29udHJvbC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJylcbiAgICAgICAgJGNvbnRlbnQuYXR0cignYXJpYS1oaWRkZW4nLCAndHJ1ZScpXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUmV0dXJuIHRvZ2dsZWQgY29udGVudCBmb3IgY29udHJvbFxuICAgIGZ1bmN0aW9uIGdldFRvZ2dsZWRDb250ZW50ICgkY29udHJvbCkge1xuICAgICAgdmFyIGlkID0gJGNvbnRyb2wuYXR0cignYXJpYS1jb250cm9scycpXG5cbiAgICAgIC8vIEFSSUEgYXR0cmlidXRlcyBhcmVuJ3Qgc2V0IGJlZm9yZSBpbml0XG4gICAgICBpZiAoIWlkKSB7XG4gICAgICAgIGlkID0gJGNvbnRyb2wuY2xvc2VzdCgnW2RhdGEtdGFyZ2V0XScpLmRhdGEoJ3RhcmdldCcpXG4gICAgICB9XG5cbiAgICAgIC8vIEZpbmQgc2hvdy9oaWRlIGNvbnRlbnQgYnkgaWRcbiAgICAgIHJldHVybiAkKCcjJyArIGlkKVxuICAgIH1cblxuICAgIC8vIFNob3cgdG9nZ2xlZCBjb250ZW50IGZvciBjb250cm9sXG4gICAgZnVuY3Rpb24gc2hvd1RvZ2dsZWRDb250ZW50ICgkY29udHJvbCwgJGNvbnRlbnQpIHtcbiAgICAgIC8vIFNob3cgY29udGVudFxuICAgICAgaWYgKCRjb250ZW50Lmhhc0NsYXNzKCdqcy1oaWRkZW4nKSkge1xuICAgICAgICAkY29udGVudC5yZW1vdmVDbGFzcygnanMtaGlkZGVuJylcbiAgICAgICAgJGNvbnRlbnQuYXR0cignYXJpYS1oaWRkZW4nLCAnZmFsc2UnKVxuXG4gICAgICAgIC8vIElmIHRoZSBjb250cm9sbGluZyBpbnB1dCwgdXBkYXRlIGFyaWEtZXhwYW5kZWRcbiAgICAgICAgaWYgKCRjb250cm9sLmF0dHIoJ2FyaWEtY29udHJvbHMnKSkge1xuICAgICAgICAgICRjb250cm9sLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCAndHJ1ZScpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBIaWRlIHRvZ2dsZWQgY29udGVudCBmb3IgY29udHJvbFxuICAgIGZ1bmN0aW9uIGhpZGVUb2dnbGVkQ29udGVudCAoJGNvbnRyb2wsICRjb250ZW50KSB7XG4gICAgICAkY29udGVudCA9ICRjb250ZW50IHx8IGdldFRvZ2dsZWRDb250ZW50KCRjb250cm9sKVxuXG4gICAgICAvLyBIaWRlIGNvbnRlbnRcbiAgICAgIGlmICghJGNvbnRlbnQuaGFzQ2xhc3MoJ2pzLWhpZGRlbicpKSB7XG4gICAgICAgICRjb250ZW50LmFkZENsYXNzKCdqcy1oaWRkZW4nKVxuICAgICAgICAkY29udGVudC5hdHRyKCdhcmlhLWhpZGRlbicsICd0cnVlJylcblxuICAgICAgICAvLyBJZiB0aGUgY29udHJvbGxpbmcgaW5wdXQsIHVwZGF0ZSBhcmlhLWV4cGFuZGVkXG4gICAgICAgIGlmICgkY29udHJvbC5hdHRyKCdhcmlhLWNvbnRyb2xzJykpIHtcbiAgICAgICAgICAkY29udHJvbC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJylcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEhhbmRsZSByYWRpbyBzaG93L2hpZGVcbiAgICBmdW5jdGlvbiBoYW5kbGVSYWRpb0NvbnRlbnQgKCRjb250cm9sLCAkY29udGVudCkge1xuICAgICAgLy8gQWxsIHJhZGlvcyBpbiB0aGlzIGdyb3VwIHdoaWNoIGNvbnRyb2wgY29udGVudFxuICAgICAgdmFyIHNlbGVjdG9yID0gc2VsZWN0b3JzLnJhZGlvICsgJ1tuYW1lPScgKyBlc2NhcGVFbGVtZW50TmFtZSgkY29udHJvbC5hdHRyKCduYW1lJykpICsgJ11bYXJpYS1jb250cm9sc10nXG4gICAgICB2YXIgJGZvcm0gPSAkY29udHJvbC5jbG9zZXN0KCdmb3JtJylcbiAgICAgIHZhciAkcmFkaW9zID0gJGZvcm0ubGVuZ3RoID8gJGZvcm0uZmluZChzZWxlY3RvcikgOiAkKHNlbGVjdG9yKVxuXG4gICAgICAvLyBIaWRlIGNvbnRlbnQgZm9yIHJhZGlvcyBpbiBncm91cFxuICAgICAgJHJhZGlvcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaGlkZVRvZ2dsZWRDb250ZW50KCQodGhpcykpXG4gICAgICB9KVxuXG4gICAgICAvLyBTZWxlY3QgY29udGVudCBmb3IgdGhpcyBjb250cm9sXG4gICAgICBpZiAoJGNvbnRyb2wuaXMoJ1thcmlhLWNvbnRyb2xzXScpKSB7XG4gICAgICAgIHNob3dUb2dnbGVkQ29udGVudCgkY29udHJvbCwgJGNvbnRlbnQpXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIGNoZWNrYm94IHNob3cvaGlkZVxuICAgIGZ1bmN0aW9uIGhhbmRsZUNoZWNrYm94Q29udGVudCAoJGNvbnRyb2wsICRjb250ZW50KSB7XG4gICAgICAvLyBTaG93IGNoZWNrYm94IGNvbnRlbnRcbiAgICAgIGlmICgkY29udHJvbC5pcygnOmNoZWNrZWQnKSkge1xuICAgICAgICBzaG93VG9nZ2xlZENvbnRlbnQoJGNvbnRyb2wsICRjb250ZW50KVxuICAgICAgfSBlbHNlIHsgLy8gSGlkZSBjaGVja2JveCBjb250ZW50XG4gICAgICAgIGhpZGVUb2dnbGVkQ29udGVudCgkY29udHJvbCwgJGNvbnRlbnQpXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIGNoZWNrYm94IHNob3cvaGlkZVxuICAgIGZ1bmN0aW9uIGhhbmRsZUxpbmtDb250ZW50ICgkY29udHJvbCwgJGNvbnRlbnQsICRldmVudCkge1xuICAgICAgaWYgKCRjb250ZW50Lmhhc0NsYXNzKCdqcy1oaWRkZW4nKSkge1xuICAgICAgICBzaG93VG9nZ2xlZENvbnRlbnQoJGNvbnRyb2wsICRjb250ZW50KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaGlkZVRvZ2dsZWRDb250ZW50KCRjb250cm9sLCAkY29udGVudClcbiAgICAgIH1cbiAgICAgICRldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgfVxuXG4gICAgLy8gU2V0IHVwIGV2ZW50IGhhbmRsZXJzIGV0Y1xuICAgIGZ1bmN0aW9uIGluaXQgKCRjb250YWluZXIsIGVsZW1lbnRTZWxlY3RvciwgZXZlbnRTZWxlY3RvcnMsIGhhbmRsZXIpIHtcbiAgICAgICRjb250YWluZXIgPSAkY29udGFpbmVyIHx8ICQoZG9jdW1lbnQuYm9keSlcblxuICAgICAgLy8gSGFuZGxlIGNvbnRyb2wgY2xpY2tzXG4gICAgICBmdW5jdGlvbiBkZWZlcnJlZCAoZXZlbnQpIHtcbiAgICAgICAgdmFyICRjb250cm9sID0gJCh0aGlzKVxuICAgICAgICBoYW5kbGVyKCRjb250cm9sLCBnZXRUb2dnbGVkQ29udGVudCgkY29udHJvbCksIGV2ZW50KVxuICAgICAgfVxuXG4gICAgICAvLyBQcmVwYXJlIEFSSUEgYXR0cmlidXRlc1xuICAgICAgdmFyICRjb250cm9scyA9ICQoZWxlbWVudFNlbGVjdG9yKVxuICAgICAgJGNvbnRyb2xzLmVhY2goaW5pdFRvZ2dsZWRDb250ZW50KVxuXG4gICAgICAvLyBIYW5kbGUgZXZlbnRzXG4gICAgICAkLmVhY2goZXZlbnRTZWxlY3RvcnMsIGZ1bmN0aW9uIChpZHgsIGV2ZW50U2VsZWN0b3IpIHtcbiAgICAgICAgJGNvbnRhaW5lci5vbignY2xpY2suJyArIHNlbGVjdG9ycy5uYW1lc3BhY2UsIGV2ZW50U2VsZWN0b3IsIGRlZmVycmVkKVxuICAgICAgfSlcblxuICAgICAgLy8gQW55IGFscmVhZHkgOmNoZWNrZWQgb24gaW5pdD9cbiAgICAgIGlmICgkY29udHJvbHMuaXMoJzpjaGVja2VkJykpIHtcbiAgICAgICAgJGNvbnRyb2xzLmZpbHRlcignOmNoZWNrZWQnKS5lYWNoKGRlZmVycmVkKVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEdldCBldmVudCBzZWxlY3RvcnMgZm9yIGFsbCByYWRpbyBncm91cHNcbiAgICBmdW5jdGlvbiBnZXRFdmVudFNlbGVjdG9yc0ZvclJhZGlvR3JvdXBzICgpIHtcbiAgICAgIHZhciByYWRpb0dyb3VwcyA9IFtdXG5cbiAgICAgIC8vIEJ1aWxkIGFuIGFycmF5IG9mIHJhZGlvIGdyb3VwIHNlbGVjdG9yc1xuICAgICAgcmV0dXJuICQoc2VsZWN0b3JzLnJhZGlvKS5tYXAoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZ3JvdXBOYW1lID0gJCh0aGlzKS5hdHRyKCduYW1lJylcblxuICAgICAgICBpZiAoJC5pbkFycmF5KGdyb3VwTmFtZSwgcmFkaW9Hcm91cHMpID09PSAtMSkge1xuICAgICAgICAgIHJhZGlvR3JvdXBzLnB1c2goZ3JvdXBOYW1lKVxuICAgICAgICAgIHJldHVybiAnaW5wdXRbdHlwZT1cInJhZGlvXCJdW25hbWU9XCInICsgJCh0aGlzKS5hdHRyKCduYW1lJykgKyAnXCJdJ1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsXG4gICAgICB9KVxuICAgIH1cblxuICAgIC8vIFNldCB1cCByYWRpbyBzaG93L2hpZGUgY29udGVudCBmb3IgY29udGFpbmVyXG4gICAgc2VsZi5zaG93SGlkZVJhZGlvVG9nZ2xlZENvbnRlbnQgPSBmdW5jdGlvbiAoJGNvbnRhaW5lcikge1xuICAgICAgaW5pdCgkY29udGFpbmVyLCBzZWxlY3RvcnMucmFkaW8sIGdldEV2ZW50U2VsZWN0b3JzRm9yUmFkaW9Hcm91cHMoKSwgaGFuZGxlUmFkaW9Db250ZW50KVxuICAgIH1cblxuICAgIC8vIFNldCB1cCBjaGVja2JveCBzaG93L2hpZGUgY29udGVudCBmb3IgY29udGFpbmVyXG4gICAgc2VsZi5zaG93SGlkZUNoZWNrYm94VG9nZ2xlZENvbnRlbnQgPSBmdW5jdGlvbiAoJGNvbnRhaW5lcikge1xuICAgICAgaW5pdCgkY29udGFpbmVyLCBzZWxlY3RvcnMuY2hlY2tib3gsIFtzZWxlY3RvcnMuY2hlY2tib3hdLCBoYW5kbGVDaGVja2JveENvbnRlbnQpXG4gICAgfVxuXG4gICAgLy8gU2V0IHVwIGxpbmtzIHNob3cvaGlkZSBjb250ZW50IGZvciBjb250YWluZXJcbiAgICBzZWxmLnNob3dIaWRlTGlua1RvZ2dsZWRDb250ZW50ID0gZnVuY3Rpb24gKCRjb250YWluZXIpIHtcbiAgICAgIGluaXQoJGNvbnRhaW5lciwgc2VsZWN0b3JzLmxpbmssIFtzZWxlY3RvcnMubGlua10sIGhhbmRsZUxpbmtDb250ZW50KVxuICAgIH1cblxuICAgIC8vIFJlbW92ZSBldmVudCBoYW5kbGVyc1xuICAgIHNlbGYuZGVzdHJveSA9IGZ1bmN0aW9uICgkY29udGFpbmVyKSB7XG4gICAgICAkY29udGFpbmVyID0gJGNvbnRhaW5lciB8fCAkKGRvY3VtZW50LmJvZHkpXG4gICAgICAkY29udGFpbmVyLm9mZignLicgKyBzZWxlY3RvcnMubmFtZXNwYWNlKVxuICAgIH1cbiAgfVxuXG4gIFNob3dIaWRlQ29udGVudC5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICgkY29udGFpbmVyKSB7XG4gICAgdGhpcy5zaG93SGlkZVJhZGlvVG9nZ2xlZENvbnRlbnQoJGNvbnRhaW5lcilcbiAgICB0aGlzLnNob3dIaWRlQ2hlY2tib3hUb2dnbGVkQ29udGVudCgkY29udGFpbmVyKVxuICAgIHRoaXMuc2hvd0hpZGVMaW5rVG9nZ2xlZENvbnRlbnQoJGNvbnRhaW5lcilcbiAgfVxuXG4gIEdPVlVLLlNob3dIaWRlQ29udGVudCA9IFNob3dIaWRlQ29udGVudFxuICBnbG9iYWwuR09WVUsgPSBHT1ZVS1xufSkod2luZG93KVxuIiwidmFyIHRvZ2dsZVRpcHMgPSAkKCcudG9nZ2xlLWhlbHAnKTtcblxudG9nZ2xlVGlwcy5lYWNoKGZ1bmN0aW9uICgpIHtcblxuICB2YXIgJHRoYXQsXG4gICAgbGl2ZVJlZ2lvbixcbiAgICBjb250YWluZXIsXG4gICAgdG9nZ2xlVGlwO1xuXG4gICR0aGF0ID0gJCh0aGlzKTtcblxuICBjb250YWluZXIgPSAkKCc8c3BhbiAvPicpLmF0dHIoJ2NsYXNzJywgJ3RvZ2dsZXRpcCcpO1xuXG4gIHRvZ2dsZVRpcCA9ICQoJzxidXR0b24gLz4nKVxuICAgIC5hdHRyKCd0eXBlJywgJ2J1dHRvbicpXG4gICAgLmF0dHIoJ2FyaWEtbGFiZWwnLCAnSGVscCcpXG4gICAgLmF0dHIoJ2RhdGEtdG9nZ2xldGlwLWNvbnRlbnQnLCAkdGhhdC5odG1sKCkpXG4gICAgLnRleHQoJz8nKVxuICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgbWVzc2FnZSA9ICQodGhpcykuZGF0YSgndG9nZ2xldGlwLWNvbnRlbnQnKTtcbiAgICAgIHZhciBsaXZlUmVnaW9uID0gJCh0aGlzKS5uZXh0KCk7XG4gICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxpdmVSZWdpb24uaHRtbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuICQoJzxzcGFuIC8+JylcbiAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuICR0aGF0Lmh0bWwoKS5sZW5ndGggPiA1MCA/ICdidWJibGUgbG9uZycgOiAnYnViYmxlJ1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC50ZXh0KG1lc3NhZ2UpXG4gICAgICAgIH0pXG4gICAgICB9LCAxMDApO1xuICAgIH0pXG4gICAgLm9uKCdrZXlkb3duJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlmICgoZS5rZXlDb2RlIHx8IGUud2hpY2gpID09PSAyNylcbiAgICAgICAgbGl2ZVJlZ2lvbi5odG1sKCcnKTtcbiAgICB9KTtcblxuICBsaXZlUmVnaW9uID0gJCgnPHNwYW4gLz4nKVxuICAgIC5hdHRyKCdyb2xlJywgJ3N0YXR1cycpO1xuXG4gIGNvbnRhaW5lci5hcHBlbmQodG9nZ2xlVGlwLCBsaXZlUmVnaW9uKTtcblxuICAkdGhhdC5iZWZvcmUoY29udGFpbmVyKS5yZW1vdmUoKTtcblxuICAkKGRvY3VtZW50KS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgIGlmICgkdGhhdFswXSAhPT0gJChlLnRhcmdldCkpIHtcbiAgICAgIGxpdmVSZWdpb24uaHRtbCgnJyk7XG4gICAgfVxuICB9KTtcblxufSk7XG4iLCJ2YXIgZm9ybXMgPSAkKCcjY29udGVudCBmb3JtJyk7XG4vL3ZhciBpbnB1dHMgPSBmb3Jtcy5maW5kKCcuZm9ybS1ncm91cCBpbnB1dCcpO1xuXG5mb3Jtcy5hdHRyKCdub3ZhbGlkYXRlJywgJ25vdmFsaWRhdGUnKTtcblxuLypcbmZvcm1zLm9uKCdzdWJtaXQnLCBmdW5jdGlvbiAoKSB7XG4gIGlucHV0cy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcmVzdWx0ID0gdGhpcy5jaGVja1ZhbGlkaXR5KCk7XG4gICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgIHNob3dWYWxpZGF0aW9uTWVzc2FnZSh0aGlzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaGlkZVZhbGlkYXRpb25NZXNzYWdlKHRoaXMpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiB0aGlzLmNoZWNrVmFsaWRpdHkoKTtcbn0pO1xuXG5pbnB1dHMub24oJ2JsdXInLCBmdW5jdGlvbiAoKSB7XG4gIHZhciByZXN1bHQgPSB0aGlzLmNoZWNrVmFsaWRpdHkoKTtcbiAgaWYgKCFyZXN1bHQpIHtcbiAgICBzaG93VmFsaWRhdGlvbk1lc3NhZ2UodGhpcyk7XG4gIH0gZWxzZSB7XG4gICAgaGlkZVZhbGlkYXRpb25NZXNzYWdlKHRoaXMpO1xuICB9XG59KTtcblxudmFyIHNob3dWYWxpZGF0aW9uTWVzc2FnZSA9IGZ1bmN0aW9uIChmaWVsZCkge1xuXG4gIHZhciBmaWVsZCA9IGZpZWxkLFxuICAgICRmaWVsZCA9ICQoZmllbGQpLFxuICAgICRwYXJlbnQgPSAkZmllbGQucGFyZW50KCk7XG5cbiAgaWYgKCRwYXJlbnQuaGFzQ2xhc3MoJ3Nob3ctcGFzc3dvcmQnKSkge1xuICAgICRwYXJlbnQgPSAkcGFyZW50LnBhcmVudCgpO1xuICB9XG5cbiAgaWYgKCEkcGFyZW50Lmhhc0NsYXNzKCdmb3JtLWdyb3VwLWVycm9yJykpIHtcblxuICAgIHZhciBsYWJlbFRleHQgPSAkZmllbGQuZGF0YSgnbGFiZWwnKSB8fCAkKFwibGFiZWxbZm9yPSdcIiArICRmaWVsZC5hdHRyKCdpZCcpICsgXCInXVwiKS50ZXh0KCksXG4gICAgICBlcnJvck1lc3NhZ2VUZXh0ID0gJ0VudGVyIGEgdmFsaWQgJyArIGxhYmVsVGV4dC50b0xvd2VyQ2FzZSgpLFxuICAgICAgZXJyb3JNZXNzYWdlID0gJCgnPHA+JylcbiAgICAgICAgLmh0bWwoZXJyb3JNZXNzYWdlVGV4dClcbiAgICAgICAgLnByb3AoJ2NsYXNzJywgJ2Vycm9yLW1lc3NhZ2UnKVxuICAgICAgICAucHJvcCgnaWQnLCAndmFsaWRhdGlvbi0nICsgc2x1Z2lmeShsYWJlbFRleHQpKTtcblxuICAgICRmaWVsZC5iZWZvcmUoZXJyb3JNZXNzYWdlKTtcbiAgICAkcGFyZW50LmFkZENsYXNzKCdmb3JtLWdyb3VwLWVycm9yJyk7XG4gICAgJGZpZWxkLmF0dHIoe1xuICAgICAgJ2FyaWEtZGVzY3JpYmVkYnknIDogJ3ZhbGlkYXRpb24tJyArIHNsdWdpZnkobGFiZWxUZXh0KSxcbiAgICAgICdhcmlhLWludmFsaWQnOiAndHJ1ZSdcbiAgICB9KTtcbiAgfVxufVxuXG52YXIgaGlkZVZhbGlkYXRpb25NZXNzYWdlID0gZnVuY3Rpb24gKGZpZWxkKSB7XG4gIHZhciBmaWVsZCA9IGZpZWxkLFxuICAgICRmaWVsZCA9ICQoZmllbGQpLFxuICAgICRwYXJlbnQgPSAkZmllbGQucGFyZW50KCk7XG5cbiAgaWYgKCRwYXJlbnQuaGFzQ2xhc3MoJ3Nob3ctcGFzc3dvcmQnKSkge1xuICAgICRwYXJlbnQgPSAkcGFyZW50LnBhcmVudCgpO1xuICB9XG5cbiAgJHBhcmVudC5yZW1vdmVDbGFzcygnZm9ybS1ncm91cC1lcnJvcicpO1xuICAkcGFyZW50LmZpbmQoJ3AuZXJyb3ItbWVzc2FnZScpLnJlbW92ZSgpO1xuICAkZmllbGQucmVtb3ZlQXR0cignYXJpYS1kZXNjcmliZWRieScpO1xuICAkZmllbGQucmVtb3ZlQXR0cignYXJpYS1pbnZhbGlkJyk7XG59XG5cbnZhciBzbHVnaWZ5ID0gZnVuY3Rpb24gKHRleHQpIHtcbiAgcmV0dXJuIHRleHQudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpXG4gICAgLnJlcGxhY2UoL1xccysvZywgJy0nKVxuICAgIC5yZXBsYWNlKC9bXlxcd1xcLV0rL2csICcnKVxuICAgIC5yZXBsYWNlKC9cXC1cXC0rL2csICctJylcbiAgICAucmVwbGFjZSgvXi0rLywgJycpXG4gICAgLnJlcGxhY2UoLy0rJC8sICcnKTtcbn1cblxuKi9cbiIsInZhciBOU0EgPSBOU0EgfHwge307XG5cbk5TQSA9IHtcbiAgc2hvd1Bhc3N3b3JkIDogZnVuY3Rpb24gKCkge1xuICAgIHZhciAkc2hvd1Bhc3N3b3JkID0gJCgnLnNob3ctcGFzc3dvcmQnKTtcbiAgICAkc2hvd1Bhc3N3b3JkLmVhY2goZnVuY3Rpb24gKGkpIHtcbiAgICAgIHZhciAkdGhhdCA9ICQodGhpcyk7XG4gICAgICB2YXIgJHB3ZEZsZCA9ICR0aGF0LmZpbmQoJ2lucHV0OnBhc3N3b3JkJyk7XG4gICAgICB2YXIgJGNoZWNrTGJsID0gJCgnPGxhYmVsIC8+JykucHJvcCh7IGZvcjogJ3Nob3ctcGFzc3dvcmQtJyArIGkgfSkuaHRtbCgnU2hvdycpO1xuICAgICAgdmFyICRjaGVja0JveCA9ICQoJzxpbnB1dCAvPicpLnByb3AoeyB0eXBlOiAnY2hlY2tib3gnLCBpZDogJ3Nob3ctcGFzc3dvcmQtJyArIGkgfSkub24oJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyICR0aGF0ID0gJCh0aGlzKTtcbiAgICAgICAgJHB3ZEZsZC5wcm9wKCd0eXBlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiAkdGhhdC5wcm9wKCdjaGVja2VkJykgPyAndGV4dCcgOiAncGFzc3dvcmQnO1xuICAgICAgICB9KTtcbiAgICAgICAgJGNoZWNrTGJsLmh0bWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiAkdGhhdC5wcm9wKCdjaGVja2VkJykgPyAnSGlkZScgOiAnU2hvdyc7XG4gICAgICAgIH0pO1xuICAgICAgICAkdGhhdC5wYXJlbnQoKS5yZW1vdmVDbGFzcygndHlwZS1wYXNzd29yZCcpO1xuICAgICAgICBpZiAoJHRoYXQucHJvcCgnY2hlY2tlZCcpKSB7XG4gICAgICAgICAgJHRoYXQucGFyZW50KCkuYWRkQ2xhc3MoJ3R5cGUtcGFzc3dvcmQnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICB2YXIgJGNiV3JhcCA9ICQoJzxkaXYgLz4nKS5wcm9wKCdjbGFzcycsICdzaG93LXBhc3N3b3JkLWNvbnRyb2wnKS5hcHBlbmQoJGNoZWNrQm94LCAkY2hlY2tMYmwpO1xuICAgICAgJHB3ZEZsZC5hZnRlcigkY2JXcmFwKTtcbiAgICB9KTtcbiAgfSxcbiAgYmFja0xpbms6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYmFja0xpbmsgPSAkKCc8YT4nKVxuICAgICAgLmF0dHIoeyAnaHJlZic6ICcjJywgJ2NsYXNzJzogJ2xpbmstYmFjaycgfSlcbiAgICAgIC50ZXh0KCdCYWNrJylcbiAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkgeyB3aW5kb3cuaGlzdG9yeS5iYWNrKCk7IGUucHJldmVudERlZmF1bHQoKTsgfSk7XG4gICAgJCgnLmpzLWJhY2stbGluaycpLmh0bWwoYmFja0xpbmspO1xuICB9LFxufTtcblxuXG5pZiAoJCgnc2VsZWN0LnNlbGVjdDInKS5sZW5ndGggPiAwKSB7XG4gICQoJ3NlbGVjdC5zZWxlY3QyJykuc2VsZWN0Mih7bWF0Y2hlcjogc2VsZWN0Mk1vZGVsTWF0Y2hlcn0pO1xufVxuXG5mdW5jdGlvbiBzZWxlY3QyTW9kZWxNYXRjaGVyIChwYXJhbXMsIGRhdGEpIHtcbiAgZGF0YS5wYXJlbnRUZXh0ID0gZGF0YS5wYXJlbnRUZXh0IHx8IFwiXCI7XG4gIGlmICgkLnRyaW0ocGFyYW1zLnRlcm0pID09PSAnJykge1xuICAgIHJldHVybiBkYXRhO1xuICB9XG4gIGlmIChkYXRhLmNoaWxkcmVuICYmIGRhdGEuY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuICAgIHZhciBtYXRjaCA9ICQuZXh0ZW5kKHRydWUsIHt9LCBkYXRhKTtcbiAgICBmb3IgKHZhciBjID0gZGF0YS5jaGlsZHJlbi5sZW5ndGggLSAxOyBjID49IDA7IGMtLSkge1xuICAgICAgdmFyIGNoaWxkID0gZGF0YS5jaGlsZHJlbltjXTtcbiAgICAgIGNoaWxkLnBhcmVudFRleHQgKz0gZGF0YS5wYXJlbnRUZXh0ICsgXCIgXCIgKyBkYXRhLnRleHQ7XG4gICAgICB2YXIgbWF0Y2hlcyA9IHNlbGVjdDJNb2RlbE1hdGNoZXIocGFyYW1zLCBjaGlsZCk7XG4gICAgICBpZiAobWF0Y2hlcyA9PSBudWxsKSB7XG4gICAgICAgIG1hdGNoLmNoaWxkcmVuLnNwbGljZShjLCAxKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG1hdGNoLmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiBtYXRjaDtcbiAgICB9XG4gICAgcmV0dXJuIHNlbGVjdDJNb2RlbE1hdGNoZXIocGFyYW1zLCBtYXRjaCk7XG4gIH1cbiAgdmFyIG9yaWdpbmFsID0gKGRhdGEucGFyZW50VGV4dCArICcgJyArIGRhdGEudGV4dCkudG9VcHBlckNhc2UoKTtcbiAgdmFyIHRlcm0gPSBwYXJhbXMudGVybS50b1VwcGVyQ2FzZSgpO1xuICBpZiAob3JpZ2luYWwuaW5kZXhPZih0ZXJtKSA+IC0xKSB7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbmlmICgkKCcuc2hvdy1wYXNzd29yZCcpLmxlbmd0aCA+IDApIHtcbiAgTlNBLnNob3dQYXNzd29yZCgpO1xufVxuXG5pZiAoJCgnLmpzLWJhY2stbGluaycpKSB7XG4gIE5TQS5iYWNrTGluaygpO1xufVxuXG4kKCcudW5kZXItY29uc3RydWN0aW9uJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgYWxlcnQoJ1RoaXMgZnVuY3Rpb25hbGl0eSBpcyBub3QgYXZhaWxhYmxlIHlldCcpO1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG59KTtcblxuaWYgKCQoJy5ub3RpZmljYXRpb24gc3Bhbi5pY29uJykubGVuZ3RoID4gMCkge1xuICAkKCcubm90aWZpY2F0aW9uIHNwYW4uaWNvbicpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAkKHRoaXMpLnBhcmVudCgpLmhpZGUoKTtcbiAgfSk7XG59XG5cbmlmICgkKCdhcnRpY2xlLm9yZ2FuaXNhdGlvbi1zZXJ2aWNlcycpLmxlbmd0aCA+IDApIHtcblxuICAkKCcuaW5mb3JtYXRpb24nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgIHZhciBpbmZvID0gJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5maW5kKCcuc2VydmljZS1kZXNjcmlwdGlvbicpO1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBpbmZvLnRvZ2dsZSgpO1xuICB9KTtcblxuICAkKCcuaW5mby1saW5rJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgbWV0YSA9ICQodGhpcykucGFyZW50KCkubmV4dCgpO1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBtZXRhLnRvZ2dsZSgpO1xuICB9KTtcbn1cblxudmFyIHNlYXJjaEZpZWxkcyA9ICQoJ2Zvcm0gLnNlYXJjaC1maWVsZCcpO1xuXG5pZiAoc2VhcmNoRmllbGRzLmxlbmd0aCA+IDApIHtcblxuICB2YXIgbG9hZGVyID0gJCgnPHNwYW4gLz4nKS5hZGRDbGFzcygnbG9hZGVyIHNwaW5uZXItaW5saW5lJyk7XG4gIHZhciBiMSA9ICQoJzxzcGFuIC8+JykuYWRkQ2xhc3MoJ2JhbGwgYi0xJyk7XG4gIHZhciBiMiA9ICQoJzxzcGFuIC8+JykuYWRkQ2xhc3MoJ2JhbGwgYi0yJyk7XG4gIGxvYWRlci5hcHBlbmQoYjEpLmFwcGVuZChiMik7XG5cbiAgc2VhcmNoRmllbGRzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgIHZhciBmb3JtID0gJCh0aGlzKS5wYXJlbnQoKTtcbiAgICB2YXIgYnV0dG9uID0gZm9ybS5maW5kKCdidXR0b24nKTtcbiAgICBmb3JtLm9uKCdzdWJtaXQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICBidXR0b24uYWZ0ZXIobG9hZGVyKS5oaWRlKCk7XG4gICAgfSk7XG4gIH0pO1xufVxuXG52YXIgcmVkaXJlY3QgPSAkKCcjcmVkaXJlY3QtdXJsJyk7XG5cbiQoJyNhZGQtcmVkaXJlY3QnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgJCgnPHA+PGxhYmVsIGZvcj1cInJlZGlyZWN0LXVybFwiPjxpbnB1dCBjbGFzcz1cImZvcm0tY29udHJvbCBpbnB1dENvbmZpZ1wiIG5hbWU9XCJyZWRpcmVjdF91cmlzXCI+PC9sYWJlbD48L3A+JykuYXBwZW5kVG8ocmVkaXJlY3QpO1xuICByZXR1cm4gZmFsc2U7XG59KTtcblxudmFyIGxvZ291dCA9ICQoJyNsb2dvdXQtdXJsJyk7XG5cbiQoJyNhZGQtbG9nb3V0Jykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICQoJzxwPjxsYWJlbCBmb3I9XCJsb2dvdXQtdXJsXCI+PGlucHV0IGNsYXNzPVwiZm9ybS1jb250cm9sIGlucHV0Q29uZmlnXCIgbmFtZT1cInBvc3RfbG9nb3V0X3JlZGlyZWN0X3VyaXNcIj48L2xhYmVsPjwvcD4nKS5hcHBlbmRUbyhsb2dvdXQpO1xuICByZXR1cm4gZmFsc2U7XG59KTtcblxuXG4kKCcjZ2VuZXJhdGUtY2xpZW50LXNlY3JldCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICB2YXIgc2VjcmV0QXJyYXkgPSB3aW5kb3cubmljZXdhcmUuZ2VuZXJhdGVQYXNzcGhyYXNlKDgpO1xuICB2YXIgc2VjcmV0ID0gc2VjcmV0QXJyYXkuam9pbignLScpO1xuICB2YXIgaXNDb25maXJtID0gY29uZmlybSgnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIHJlZ2VuZXJhdGUgdGhlIGNsaWVudCBzZWNyZXQ/Jyk7XG4gIGlmIChpc0NvbmZpcm0pIHtcbiAgICAkKCdpbnB1dCNjbGllbnRTZWNyZXQnKS5hdHRyKCd2YWx1ZScsIHNlY3JldCk7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufSk7XG5cbiQoJyNnZW5lcmF0ZS1hcGktc2VjcmV0Jykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gIHZhciBzZWNyZXRBcnJheSA9IHdpbmRvdy5uaWNld2FyZS5nZW5lcmF0ZVBhc3NwaHJhc2UoOCk7XG4gIHZhciBzZWNyZXQgPSBzZWNyZXRBcnJheS5qb2luKCctJyk7XG4gIHZhciBpc0NvbmZpcm0gPSBjb25maXJtKCdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gcmVnZW5lcmF0ZSB0aGUgYXBpIHNlY3JldD8nKTtcbiAgaWYgKGlzQ29uZmlybSkge1xuICAgICQoJ2lucHV0I2FwaVNlY3JldCcpLmF0dHIoJ3ZhbHVlJywgc2VjcmV0KTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59KTtcblxudmFyIGZvcm1SZWdpc3RlciA9ICQoJy5wcmV2ZW50LWZvcm0tZG91YmxlLXN1Ym1pc3Npb24nKTtcblxuaWYgKGZvcm1SZWdpc3Rlci5sZW5ndGggPiAwKSB7XG4gIGZvcm1SZWdpc3Rlci5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgJHN1Ym1pdEJ1dHRvbnMgPSAkKGZvcm1SZWdpc3RlcikuZmluZCgnYnV0dG9uOnN1Ym1pdCcpLCAkc3VibWl0QnV0dG9uID0gJHN1Ym1pdEJ1dHRvbnMuZXEoMCk7XG4gICAgZm9ybVJlZ2lzdGVyLm9uKCdzdWJtaXQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAkc3VibWl0QnV0dG9ucy5hdHRyKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xuXG4gICAgICAkc3VibWl0QnV0dG9uLmNzcygnbWluLXdpZHRoJywgJHN1Ym1pdEJ1dHRvbi5vdXRlcldpZHRoKCkgKyAncHgnKTtcblxuICAgICAgJHN1Ym1pdEJ1dHRvbi5hcHBlbmQoXCI8c3BhbiBjbGFzcz0nbG9hZGVyIHNwaW5uZXItaW5saW5lJz4gPHNwYW4gY2xhc3M9J2JhbGwgYi0xJz48L3NwYW4+IDxzcGFuIGNsYXNzPSdiYWxsIGItMic+PC9zcGFuPiA8c3BhbiBjbGFzcz0nYmFsbCBiLTMnPjwvc3Bhbj4gPC9zcGFuPlwiKTtcblxuICAgIH0pO1xuICB9KTtcbn1cblxudmFyIHNob3dIaWRlQ29udGVudCA9IG5ldyBHT1ZVSy5TaG93SGlkZUNvbnRlbnQoKVxuc2hvd0hpZGVDb250ZW50LmluaXQoKVxuXG5HT1ZVSy5kZXRhaWxzLmluaXQoKVxuXG4iXX0=
