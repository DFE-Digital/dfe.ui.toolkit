var COOKIE_NAMES={PREFERENCES_SET:"cookies_preferences_set",POLICY:"cookies_policy",GA:"_ga",GA_GID:"_gid",GA_GAT:"_gat",USER_BANNER_LAST_SEEN:"user_banner_last_seen"},GOVUK_COOKIE_OPTIONS={expires:365,secure:!0,domain:".education.gov.uk"},GovUKCookie={getRaw:function(e){if(window.Cookies)return window.Cookies.get(e)},get:function(e){if(window.Cookies){var t=window.Cookies.get(e);return t?JSON.parse(t):t}},set:function(e,t){if(window.Cookies)return window.Cookies.set(e,t,GOVUK_COOKIE_OPTIONS)},remove:function(e){if(window.Cookies)return window.Cookies.remove(e,GOVUK_COOKIE_OPTIONS)}};function checkConditionForUsersBanner(){var e=GovUKCookie.getRaw(COOKIE_NAMES.USER_BANNER_LAST_SEEN);return!e||((new Date).getTime()-e)/864e5>90}function showReviewUsersBanner(){$("#review-users-banner").show()}function setReviewUsersBannerLastSeen(){GovUKCookie.set(COOKIE_NAMES.USER_BANNER_LAST_SEEN,(new Date).getTime())}function loadReviewUsersBanner(){checkConditionForUsersBanner()&&showReviewUsersBanner()}function updateCookieReviewUsersBanner(){checkConditionForUsersBanner()&&setReviewUsersBannerLastSeen()}GovUKCookie.remove(COOKIE_NAMES.POLICY),GovUKCookie.remove(COOKIE_NAMES.PREFERENCES_SET),GovUKCookie.remove(COOKIE_NAMES.GA),GovUKCookie.remove(COOKIE_NAMES.GA_GAT),GovUKCookie.remove(COOKIE_NAMES.GA_GID),function(e){"use strict";var t=e.GOVUK||{};t.details={NATIVE_DETAILS:"boolean"==typeof document.createElement("details").open,KEY_ENTER:13,KEY_SPACE:32,started:!1,addEvent:function(e,t,n){e.addEventListener?e.addEventListener(t,(function(e){n(e,e.target)}),!1):e.attachEvent&&e.attachEvent("on"+t,(function(e){n(e,e.srcElement)}))},removeEvent:function(e,t){e.removeEventListener?e.removeEventListener(t,(function(e){}),!1):e.detachEvent&&e.detachEvent("on"+t,(function(e){}))},charCode:function(e){return"number"==typeof e.which?e.which:e.keyCode},preventDefault:function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},addClickEvent:function(e,n){t.details.addEvent(e,"keypress",(function(e,a){t.details.charCode(e)!==t.details.KEY_ENTER&&t.details.charCode(e)!==t.details.KEY_SPACE||"summary"===a.nodeName.toLowerCase()&&(t.details.preventDefault(e),a.click?a.click():n(e,a))})),t.details.addEvent(e,"keyup",(function(e,n){t.details.charCode(e)===t.details.KEY_SPACE&&"SUMMARY"===n.nodeName&&t.details.preventDefault(e)})),t.details.addEvent(e,"click",(function(e,t){n(e,t)}))},getAncestor:function(e,t){do{if(!e||e.nodeName.toLowerCase()===t)break;e=e.parentNode}while(e);return e},addDetailsPolyfill:function(e,n){if(n=n||document.body,!t.details.started&&(t.details.started=!0,0!==(e=n.getElementsByTagName("details")).length)){for(var a=e.length,o=0;o<a;o++){var i=e[o];if(i.__summary=i.getElementsByTagName("summary").item(0),i.__content=i.getElementsByTagName("div").item(0),!i.__summary||!i.__content)return;i.__content.id||(i.__content.id="details-content-"+o),i.setAttribute("role","group"),i.__summary.setAttribute("role","button"),i.__summary.setAttribute("aria-controls",i.__content.id),t.details.NATIVE_DETAILS||(i.__summary.tabIndex=0);var r=null!==i.getAttribute("open");if(!0===r?(i.__summary.setAttribute("aria-expanded","true"),i.__content.setAttribute("aria-hidden","false")):(i.__summary.setAttribute("aria-expanded","false"),i.__content.setAttribute("aria-hidden","true"),t.details.NATIVE_DETAILS||(i.__content.style.display="none")),i.__summary.__details=i,!t.details.NATIVE_DETAILS){var s=document.createElement("i");!0===r?(s.className="arrow arrow-open",s.appendChild(document.createTextNode("▼"))):(s.className="arrow arrow-closed",s.appendChild(document.createTextNode("►"))),i.__summary.__twisty=i.__summary.insertBefore(s,i.__summary.firstChild),i.__summary.__twisty.setAttribute("aria-hidden","true")}}t.details.addClickEvent(n,(function(e,n){return!(n=t.details.getAncestor(n,"summary"))||t.details.statechange(n)}))}},statechange:function(e){var n="true"===e.__details.__summary.getAttribute("aria-expanded"),a="true"===e.__details.__content.getAttribute("aria-hidden");(e.__details.__summary.setAttribute("aria-expanded",n?"false":"true"),e.__details.__content.setAttribute("aria-hidden",a?"false":"true"),t.details.NATIVE_DETAILS)||(e.__details.__content.style.display=n?"none":"",null!==e.__details.getAttribute("open")?e.__details.removeAttribute("open"):e.__details.setAttribute("open","open"));return e.__twisty&&(e.__twisty.firstChild.nodeValue=n?"►":"▼",e.__twisty.setAttribute("class",n?"arrow arrow-closed":"arrow arrow-open")),!0},destroy:function(e){t.details.removeEvent(e,"click")},init:function(e){t.details.addEvent(document,"DOMContentLoaded",t.details.addDetailsPolyfill),t.details.addEvent(window,"load",t.details.addDetailsPolyfill)}},e.GOVUK=t}(window);var NSA=NSA||{},filterBoxes=$(".filter-box");function getParameterByName(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}function sortTable(e){var t,n,a,o,i,r,s,l,d=0;for(t=$("table.sortable"),a=!0,l="a";a;){for(a=!1,n=t.find("tr"),o=1;o<n.length-1;o++)if(s=!1,i=n[o].getElementsByTagName("TD")[e],r=n[o+1].getElementsByTagName("TD")[e],"a"===l){if(i.innerHTML.toLowerCase()>r.innerHTML.toLowerCase()){s=!0;break}}else if("d"===l&&i.innerHTML.toLowerCase()<r.innerHTML.toLowerCase()){s=!0;break}s?(n[o].parentNode.insertBefore(n[o+1],n[o]),a=!0,d++):0===d&&"a"===l&&(l="d",a=!0)}return l}NSA.filters={init:function(){filterBoxes.each((function(){var e=$(this),t=e.find(".container-head"),n=t.find(".option-select-label"),a=e.find("input:checkbox"),o=$("<button />").addClass("js-container-head"),i=$("<div />").addClass("js-selected-counter");o.on("click",(function(e){var t=$(this).next();$(this).hasClass("closed")?(t.show(),$(this).removeClass("closed").attr("aria-expanded",!0)):(t.hide(),$(this).addClass("closed").attr("aria-expanded",!1)),e.preventDefault()})).append(n,i),t.replaceWith(o),a.on("change",(function(){i.text((function(){return a.filter(":checked").length>0?a.filter(":checked").length+" selected":""}))}))}))}},filterBoxes.length>0&&NSA.filters.init(),(NSA=NSA||{}).modal={elems:{links:$(".modal-link"),modals:$(".modal")},init:function(){this.modalBg(),this.setUpEvents()},modalBg:function(){var e=this,t=$("<div>").addClass("modal-bg").hide().on("click",(function(){e.hideModals()}));$("body").append(t)},setUpEvents:function(){var e=this;this.elems.links.on("click",(function(t){var n=$(this).attr("href");e.showModal($(n)),t.preventDefault()})),e.elems.modals.find(".close").on("click",(function(t){e.hideModals(),t.preventDefault()})),$("body").on("keydown",(function(t){27===(t.keyCode||t.which)&&e.hideModals()}))},showModal:function(e){$("html").addClass("modal-open"),$(".modal-bg").show(),e.show()},hideModals:function(){$("html").removeClass("modal-open"),$(".modal-bg").hide(),this.elems.modals.hide()}},NSA.modal.init(),function(e){"use strict";var t=e.jQuery,n=e.GOVUK||{};function a(){var e=this,n="ShowHideContent",a='[data-target] > input[type="radio"]',o='[data-target] > input[type="checkbox"]',i="a.js-toggle-content";function r(){var e=t(this),n=s(e);n.length&&(e.attr("aria-controls",n.attr("id")),e.attr("aria-expanded","false"),n.attr("aria-hidden","true"))}function s(e){var n=e.attr("aria-controls");return n||(n=e.closest("[data-target]").data("target")),t("#"+n)}function l(e,t){t.hasClass("js-hidden")&&(t.removeClass("js-hidden"),t.attr("aria-hidden","false"),e.attr("aria-controls")&&e.attr("aria-expanded","true"))}function d(e,t){(t=t||s(e)).hasClass("js-hidden")||(t.addClass("js-hidden"),t.attr("aria-hidden","true"),e.attr("aria-controls")&&e.attr("aria-expanded","false"))}function c(e,n){var o=a+"[name="+(e.attr("name").replace("[","\\[").replace("]","\\]")+"][aria-controls]"),i=e.closest("form");(i.length?i.find(o):t(o)).each((function(){d(t(this))})),e.is("[aria-controls]")&&l(e,n)}function u(e,t){e.is(":checked")?l(e,t):d(e,t)}function h(e,t,n){t.hasClass("js-hidden")?l(e,t):d(e,t),n.preventDefault()}function f(e,a,o,i){function l(e){var n=t(this);i(n,s(n),e)}e=e||t(document.body);var d=t(a);d.each(r),t.each(o,(function(t,a){e.on("click."+n,a,l)})),d.is(":checked")&&d.filter(":checked").each(l)}e.showHideRadioToggledContent=function(e){var n;f(e,a,(n=[],t(a).map((function(){var e=t(this).attr("name");return-1===t.inArray(e,n)?(n.push(e),'input[type="radio"][name="'+t(this).attr("name")+'"]'):null}))),c)},e.showHideCheckboxToggledContent=function(e){f(e,o,[o],u)},e.showHideLinkToggledContent=function(e){f(e,i,[i],h)},e.destroy=function(e){(e=e||t(document.body)).off("."+n)}}a.prototype.init=function(e){this.showHideRadioToggledContent(e),this.showHideCheckboxToggledContent(e),this.showHideLinkToggledContent(e)},n.ShowHideContent=a,e.GOVUK=n}(window),(NSA=NSA||{}).signin={form:$(".form-signin"),init:function(){this.setupEvents()},setupEvents:function(){this.form.on("submit",this,this.handleSubmit)},handleSubmit:function(e){var t=$(this),n=t.find("input").not(":checkbox"),a={},o=$(this).find("button:submit"),i=o.eq(0);o.attr("disabled","disabled"),i.css("min-width",i.outerWidth()+"px"),i.find(".loader").removeClass("vh"),n.each((function(){a[this.name]=$(this).val()})),$(".password-input").each((function(e){$(this).attr("type","password"),$(this).siblings(".show-password").html("Show")})),$.ajax({type:"POST",data:a,url:t.attr("action"),context:e.data,dataType:"json",success:function(e){e.redirect?(window.location.href=e.uri,$("title").html("DfE Sign-in")):e.isFailedLogin?(this.resetValidation(t),$("title").html("Error: DfE Sign-in"),e.delayTill?this.showValidationMessage(e.validationMessages,!0):(this.showValidationMessage(e.validationMessages),o.removeAttr("disabled")),this.showInlineValidation(e.validationMessages),i.find(".loader").addClass("vh")):this.buildFormAndSubmit(e)},error:function(){this.resetValidation(t),this.showValidationMessage(),o.removeAttr("disabled"),i.find(".loader").addClass("vh")}}),e.preventDefault()},resetValidation:function(e){$(".govuk-error-summary").remove(),e.find(".govuk-form-group").each((function(){var e=$(this).find("input").eq(0);$(this).hasClass("govuk-form-group--error")&&($(this).removeClass("govuk-form-group--error"),$(this).find("span.govuk-error-message").remove(),e.removeAttr("aria-describedby").removeAttr("aria-invalid"))}))},showValidationMessage:function(e,t){var n=$("<div />").attr("class","govuk-error-summary govuk-!-margin-top-6").attr("role","alert").attr("tabindex","-1").attr("aria-labelledby","error-summary-title"),a=$("<h2 />").attr("class","govuk-error-summary__title").attr("id","error-summary"),o=$("<div />").attr("class","govuk-error-summary__body"),i=$("<ul />").attr("class","govuk-list govuk-error-summary__list");if(e){if(a.text("There is a problem"),$.each(e,(function(e,t){"loginError"===e&&(e="username");var n=$("<a />").attr("class","govuk-link").attr("href","#"+e).text(t),a=$("<li />").append(n);i.append(a)})),t){var r=$("<a />").attr("class","govuk-link-bold").attr("href","").attr("onclick","window.location.reload()").text("Refresh this page").css("color","#1d70b8"),s=$("<li />").append(r);i.append(s)}}else{a.text("There has been an error");s=$("<li />").html('Please try again later. If the problem continues, follow the link to <a href="https://help.signin.education.gov.uk/contact/form">submit a support request</a>');i.append(s)}n.append(a).append(o.append(i)),$("main").prepend(n),$("html, body").animate({scrollTop:n.offset().top-15},300)},showInlineValidation:function(e){$.each(e,(function(e,t){var n=$("input[name="+e+"]"),a=n.parent(),o=a.find("label").first();if(!a.hasClass("govuk-form-group--error"))var i=$('<span class="govuk-body">').html('<span class="govuk-visually-hidden">Error:</span>'+t).prop("class","govuk-error-message").prop("id","validation-"+e);o.after(i),a.addClass("govuk-form-group--error"),n.attr({"aria-describedby":"validation-"+e,"aria-invalid":"true"})}))},buildFormAndSubmit:function(e){var t=$("<form />").attr({method:"post",action:e.destination,id:"dfesigninform"});$.each(e.postbackData,(function(e,n){var a=$("<input />").attr({type:"hidden",name:e,value:n});t.append(a)})),$("#dfesigninform").remove(),$("body").append(t),t.submit()}},$(".form-signin").length>0&&NSA.signin.init(),$((function(){$("table.sortable thead th").on("click",(function(){var e=$("table.sortable thead tr th");e.removeClass("sorted").removeClass("dir-a").removeClass("dir-d");var t=sortTable(e.index($(this)));$(this).addClass("sorted dir-"+t)}))}));var toggleTips=$(".toggle-help");function validatePassword(){var e=$(this).attr("id"),t=[{Pattern:/(.*[A-Z]){2}/,Target:`upper-case-${e}`},{Pattern:/(.*[a-z]){2}/,Target:`lower-case-${e}`},{Pattern:/(.*\d){2}/,Target:`numbers-${e}`}],n=$(this).val();$(`#length-${e}`).removeClass(n.length>7?"icon-remove":"icon-ok"),$(`#length-${e}`).addClass(n.length>7?"icon-ok":"icon-remove");for(var a=0;a<t.length;a++)$("#"+t[a].Target).removeClass(new RegExp(t[a].Pattern).test(n)?"icon-remove":"icon-ok"),$("#"+t[a].Target).addClass(new RegExp(t[a].Pattern).test(n)?"icon-ok":"icon-remove")}toggleTips.each((function(){var e,t,n,a;e=$(this),n=$("<span />").attr("class","toggletip"),a=$("<button />").attr("type","button").attr("aria-label","Help").attr("data-toggletip-content",e.html()).text("?").on("click",(function(){var t=$(this).data("toggletip-content"),n=$(this).next();window.setTimeout((function(){n.html((function(){return $("<span />").attr("class",(function(){return e.html().length>50?"bubble long":"bubble"})).text(t)}))}),100)})).on("keydown",(function(e){27===(e.keyCode||e.which)&&t.html("")})),t=$("<span />").attr("role","status"),n.append(a,t),e.before(n).remove(),$(document).on("click",(function(n){e[0]!==$(n.target)&&t.html("")}))})),$(".password-input-check").each((function(e,t){var n=$(this),a=n.attr("id"),o=$(`<div id='validation-feedback-${a}'>`).append(`<div id='length-${a}' class='icon-remove'>8 characters minimum</div>`).append(`<div id='upper-case-${a}' class='icon-remove'>contain at least 2 upper-case characters</div>`).append(`<div id='lower-case-${a}' class='icon-remove'>contain at least 2 lower-case characters</div>`).append(`<div id='numbers-${a}' class='icon-remove' style='margin-bottom: 6px;'>contain at least 2 numbers</div>`);n.before(o)})),$(".password-input-check").on("keyup",validatePassword);var forms=$("#content form");forms.attr("novalidate","novalidate");NSA=NSA||{};function select2ModelMatcher(e,t){if(t.parentText=t.parentText||"",void 0===e.term||!e.term||""===e.term.trim())return t;if(t.children&&t.children.length>0){for(var n=$.extend(!0,{},t),a=t.children.length-1;a>=0;a--){var o=t.children[a];o.parentText+=t.parentText+" "+t.text,null==select2ModelMatcher(e,o)&&n.children.splice(a,1)}return n.children.length>0?n:select2ModelMatcher(e,n)}var i=(t.parentText+" "+t.text).toUpperCase(),r=e.term.toUpperCase();return i.indexOf(r)>-1?t:null}NSA={initialiseShowPassword:function(){$(".password-input").each((function(e){var t=$(this),n=$("<button />").prop({type:"button",class:"show-password govuk-button govuk-button--secondary govuk-!-margin-bottom-1",ariaLabel:ariaLabel="Show password"});n.html("Show"),n.on("click",(function(){"password"===t.attr("type")?(t.attr("type","text"),n.text("Hide")):(t.attr("type","password"),n.text("Show"))})),t.after(n)}))},backLink:function(){var e=$("<a>").attr({href:"#",class:"govuk-back-link-bold"}).text("Back").on("click",(function(e){window.history.back(),e.preventDefault()}));$(".js-back-link").html(e)}},$("select.select2").length>0&&$("select.select2").select2({matcher:select2ModelMatcher}),$(".password-input").length>0&&NSA.initialiseShowPassword(),$(".js-back-link")&&NSA.backLink(),$(".under-construction").on("click",(function(e){alert("This functionality is not available yet"),e.preventDefault()})),$(".notification span.icon").length>0&&$(".notification span.icon").on("click",(function(){$(this).parent().hide()})),$("article.organisation-services").length>0&&($(".information").on("click",(function(e){var t=$(this).parent().parent().find(".service-description");e.preventDefault(),t.toggle()})),$(".info-link").on("click",(function(e){var t=$(this).parent().next();e.preventDefault(),t.toggle()})));var searchFields=$("form .search-field");if(searchFields.length>0){var loader=$("<span />").addClass("loader spinner-inline"),b1=$("<span />").addClass("ball b-1"),b2=$("<span />").addClass("ball b-2");loader.append(b1).append(b2),searchFields.each((function(){var e=$(this).parent(),t=e.find("button");e.on("submit",(function(){t.after(loader).hide()}))}))}var redirect=$("#redirect-url");$("#add-redirect").on("click",(function(){return $('<p class="govuk-body"><label for="redirect-url"><input class="form-control inputConfig govuk-input" name="redirect_uris"></label></p>').appendTo(redirect),!1}));var logout=$("#logout-url");$("#add-logout").on("click",(function(){return $('<p class="govuk-body"><label for="logout-url"><input class="form-control inputConfig govuk-input" name="post_logout_redirect_uris"></label></p>').appendTo(logout),!1})),$("#generate-client-secret").on("click",(function(){var e=window.niceware.generatePassphrase(8).join("-");return confirm("Are you sure you want to regenerate the client secret?")&&$("input#clientSecret").attr("value",e),!1})),$("#generate-api-secret").on("click",(function(){var e=window.niceware.generatePassphrase(8).join("-");return confirm("Are you sure you want to regenerate the api secret?")&&$("input#apiSecret").attr("value",e),!1}));var formRegister=$(".prevent-form-double-submission");function sessionTimeout(){localStorage.removeItem("uri"),setTimeout((function(){localStorage.setItem("tabs","1"),$(".session-timeout-overlay").show(),$("#modal-signin").focus(),startTimer()}),84e4)}function startTimer(){var e="4 minutes and 60 seconds",t=setInterval((function(){"0"===localStorage.getItem("tabs")&&location.reload();var n=e.split("and"),a=parseInt(n[0],10),o=parseInt(n[1],10);a=--o<0?--a:a,o=(o=o<0?59:o)<10?"0"+o:o,$("#minutes").html(a),$("#seconds").html(o),(a<0||o<=0&&a<=0)&&(localStorage.setItem("uri",location.pathname),location.href="/signout",clearInterval(t)),e=a+" minutes and "+o+" seconds"}),1e3)}formRegister.length>0&&formRegister.each((function(){var e=$(formRegister).find("button:submit"),t=e.eq(0);formRegister.on("submit",(function(){e.attr("disabled","disabled"),t.css("min-width",t.outerWidth()+"px"),t.append("<span class='loader spinner-inline'> <span class='ball b-1'></span> <span class='ball b-2'></span> <span class='ball b-3'></span> </span>")}))})),$(".auto-scroll-on-change").on("change",(function(e){$(window).scrollTop($(".auto-scroll-dest").position().top)})),$(".close-button").on("click",(function(e){e.target.closest(".govuk-notification-banner").remove()})),$(".toggle-open").on("click",(function(e){var t=$(this).next();e.preventDefault(),t.removeClass("govuk-visually-hidden"),$(this).addClass("govuk-visually-hidden")})),$("#modal-signin").on("click",(()=>{localStorage.setItem("tabs","0"),location.reload()})),$("#modal-signout").on("click",(()=>{location.href="/signout"}));var showHideContent=new GOVUK.ShowHideContent;showHideContent.init(),GOVUK.details.init();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl9jb29raWVzLmpzIiwiX2RldGFpbHMucG9seWZpbGwuanMiLCJfZmlsdGVyLWJveGVzLmpzIiwiX3NpZ25pbi5qcyIsIl90YWJsZXNvcnQuanMiLCJfbW9kYWwuanMiLCJfc2hvdy1oaWRlLWNvbnRlbnQuanMiLCJfdG9vbHRpcC5qcyIsIl92YWxpZGF0ZS1wYXNzd29yZC5qcyIsIl92YWxpZGF0aW9uLmpzIiwiYXBwLmpzIl0sIm5hbWVzIjpbIkNPT0tJRV9OQU1FUyIsIlBSRUZFUkVOQ0VTX1NFVCIsIlBPTElDWSIsIkdBIiwiR0FfR0lEIiwiR0FfR0FUIiwiVVNFUl9CQU5ORVJfTEFTVF9TRUVOIiwiR09WVUtfQ09PS0lFX09QVElPTlMiLCJleHBpcmVzIiwic2VjdXJlIiwiZG9tYWluIiwiR292VUtDb29raWUiLCJnZXRSYXciLCJuYW1lIiwid2luZG93IiwiQ29va2llcyIsImdldCIsInZhbHVlIiwiSlNPTiIsInBhcnNlIiwic2V0IiwicmVtb3ZlIiwiY2hlY2tDb25kaXRpb25Gb3JVc2Vyc0Jhbm5lciIsImxhc3RTZWVuIiwiRGF0ZSIsImdldFRpbWUiLCJzaG93UmV2aWV3VXNlcnNCYW5uZXIiLCIkIiwic2hvdyIsInNldFJldmlld1VzZXJzQmFubmVyTGFzdFNlZW4iLCJsb2FkUmV2aWV3VXNlcnNCYW5uZXIiLCJ1cGRhdGVDb29raWVSZXZpZXdVc2Vyc0Jhbm5lciIsImdsb2JhbCIsIkdPVlVLIiwiZGV0YWlscyIsIk5BVElWRV9ERVRBSUxTIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwib3BlbiIsIktFWV9FTlRFUiIsIktFWV9TUEFDRSIsInN0YXJ0ZWQiLCJhZGRFdmVudCIsIm5vZGUiLCJ0eXBlIiwiY2FsbGJhY2siLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInRhcmdldCIsImF0dGFjaEV2ZW50Iiwic3JjRWxlbWVudCIsInJlbW92ZUV2ZW50IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRldGFjaEV2ZW50IiwiY2hhckNvZGUiLCJ3aGljaCIsImtleUNvZGUiLCJwcmV2ZW50RGVmYXVsdCIsInJldHVyblZhbHVlIiwiYWRkQ2xpY2tFdmVudCIsIm5vZGVOYW1lIiwidG9Mb3dlckNhc2UiLCJjbGljayIsImdldEFuY2VzdG9yIiwibWF0Y2giLCJwYXJlbnROb2RlIiwiYWRkRGV0YWlsc1BvbHlmaWxsIiwibGlzdCIsImNvbnRhaW5lciIsImJvZHkiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImxlbmd0aCIsIm4iLCJpIiwiX19zdW1tYXJ5IiwiaXRlbSIsIl9fY29udGVudCIsImlkIiwic2V0QXR0cmlidXRlIiwidGFiSW5kZXgiLCJvcGVuQXR0ciIsImdldEF0dHJpYnV0ZSIsInN0eWxlIiwiZGlzcGxheSIsIl9fZGV0YWlscyIsInR3aXN0eSIsImNsYXNzTmFtZSIsImFwcGVuZENoaWxkIiwiY3JlYXRlVGV4dE5vZGUiLCJfX3R3aXN0eSIsImluc2VydEJlZm9yZSIsImZpcnN0Q2hpbGQiLCJzdW1tYXJ5Iiwic3RhdGVjaGFuZ2UiLCJleHBhbmRlZCIsImhpZGRlbiIsInJlbW92ZUF0dHJpYnV0ZSIsIm5vZGVWYWx1ZSIsImRlc3Ryb3kiLCJpbml0IiwiJGNvbnRhaW5lciIsIk5TQSIsImZpbHRlckJveGVzIiwiZ2V0UGFyYW1ldGVyQnlOYW1lIiwidXJsIiwibG9jYXRpb24iLCJocmVmIiwicmVwbGFjZSIsInJlc3VsdHMiLCJSZWdFeHAiLCJleGVjIiwiZGVjb2RlVVJJQ29tcG9uZW50Iiwic29ydFRhYmxlIiwidGFibGUiLCJyb3dzIiwic3dpdGNoaW5nIiwieCIsInkiLCJzaG91bGRTd2l0Y2giLCJkaXJlY3Rpb24iLCJzd2l0Y2hjb3VudCIsImZpbmQiLCJpbm5lckhUTUwiLCJmaWx0ZXJzIiwiZWFjaCIsIiR0aGF0IiwidGhpcyIsImhlYWRlciIsInRpdGxlIiwiY2hlY2tib3hlcyIsImJ1dHRvbiIsImFkZENsYXNzIiwiY2hlY2tDb3VudCIsIm9uIiwib3B0aW9ucyIsIm5leHQiLCJoYXNDbGFzcyIsInJlbW92ZUNsYXNzIiwiYXR0ciIsImhpZGUiLCJhcHBlbmQiLCJyZXBsYWNlV2l0aCIsInRleHQiLCJmaWx0ZXIiLCJtb2RhbCIsImVsZW1zIiwibGlua3MiLCJtb2RhbHMiLCJtb2RhbEJnIiwic2V0VXBFdmVudHMiLCJ0aGF0IiwiYmciLCJoaWRlTW9kYWxzIiwic2hvd01vZGFsIiwialF1ZXJ5IiwiU2hvd0hpZGVDb250ZW50Iiwic2VsZiIsInNlbGVjdG9ycyIsImluaXRUb2dnbGVkQ29udGVudCIsIiRjb250cm9sIiwiJGNvbnRlbnQiLCJnZXRUb2dnbGVkQ29udGVudCIsImNsb3Nlc3QiLCJkYXRhIiwic2hvd1RvZ2dsZWRDb250ZW50IiwiaGlkZVRvZ2dsZWRDb250ZW50IiwiaGFuZGxlUmFkaW9Db250ZW50Iiwic2VsZWN0b3IiLCIkZm9ybSIsImlzIiwiaGFuZGxlQ2hlY2tib3hDb250ZW50IiwiaGFuZGxlTGlua0NvbnRlbnQiLCIkZXZlbnQiLCJlbGVtZW50U2VsZWN0b3IiLCJldmVudFNlbGVjdG9ycyIsImhhbmRsZXIiLCJkZWZlcnJlZCIsImV2ZW50IiwiJGNvbnRyb2xzIiwiaWR4IiwiZXZlbnRTZWxlY3RvciIsInNob3dIaWRlUmFkaW9Ub2dnbGVkQ29udGVudCIsInJhZGlvR3JvdXBzIiwibWFwIiwiZ3JvdXBOYW1lIiwiaW5BcnJheSIsInB1c2giLCJzaG93SGlkZUNoZWNrYm94VG9nZ2xlZENvbnRlbnQiLCJzaG93SGlkZUxpbmtUb2dnbGVkQ29udGVudCIsIm9mZiIsInByb3RvdHlwZSIsInNpZ25pbiIsImZvcm0iLCJzZXR1cEV2ZW50cyIsImhhbmRsZVN1Ym1pdCIsIiRpbnB1dHMiLCJub3QiLCJwb3N0RGF0YSIsIiRzdWJtaXRCdXR0b25zIiwiJHN1Ym1pdEJ1dHRvbiIsImVxIiwiY3NzIiwib3V0ZXJXaWR0aCIsInZhbCIsInNpYmxpbmdzIiwiaHRtbCIsImFqYXgiLCJjb250ZXh0IiwiZGF0YVR5cGUiLCJzdWNjZXNzIiwicmVkaXJlY3QiLCJ1cmkiLCJpc0ZhaWxlZExvZ2luIiwicmVzZXRWYWxpZGF0aW9uIiwiZGVsYXlUaWxsIiwic2hvd1ZhbGlkYXRpb25NZXNzYWdlIiwidmFsaWRhdGlvbk1lc3NhZ2VzIiwicmVtb3ZlQXR0ciIsInNob3dJbmxpbmVWYWxpZGF0aW9uIiwiYnVpbGRGb3JtQW5kU3VibWl0IiwiZXJyb3IiLCIkZmllbGQiLCJtZXNzYWdlcyIsInNob3dSZWZyZXNoTGluayIsIiRkaXYiLCIkaDIiLCIkdWxDb250YWluZXIiLCIkdWwiLCJpbmRleCIsIiRhIiwiJGxpIiwicHJlcGVuZCIsImFuaW1hdGUiLCJzY3JvbGxUb3AiLCJvZmZzZXQiLCJ0b3AiLCIkcGFyZW50IiwicGFyZW50IiwiJGxhYmVsIiwiZmlyc3QiLCJlcnJvck1lc3NhZ2UiLCJwcm9wIiwiYWZ0ZXIiLCJtZXRob2QiLCJhY3Rpb24iLCJkZXN0aW5hdGlvbiIsInBvc3RiYWNrRGF0YSIsInN1Ym1pdCIsImhlYWRpbmdDZWxscyIsInRvZ2dsZVRpcHMiLCJ2YWxpZGF0ZVBhc3N3b3JkIiwicnVsZXMiLCJQYXR0ZXJuIiwiVGFyZ2V0IiwicGFzc3dvcmQiLCJ0ZXN0IiwibGl2ZVJlZ2lvbiIsInRvZ2dsZVRpcCIsIm1lc3NhZ2UiLCJzZXRUaW1lb3V0IiwiYmVmb3JlIiwiZWxlbWVudCIsIiRwYXNzd29yZElucHV0IiwidmFsaWRhdGVQYXNzd29yZEh0bWwiLCJmb3JtcyIsInNlbGVjdDJNb2RlbE1hdGNoZXIiLCJwYXJhbXMiLCJwYXJlbnRUZXh0IiwidGVybSIsInRyaW0iLCJjaGlsZHJlbiIsImV4dGVuZCIsImMiLCJjaGlsZCIsInNwbGljZSIsIm9yaWdpbmFsIiwidG9VcHBlckNhc2UiLCJpbmRleE9mIiwiaW5pdGlhbGlzZVNob3dQYXNzd29yZCIsIiRzaG93QnV0dG9uIiwiY2xhc3MiLCJhcmlhTGFiZWwiLCJiYWNrTGluayIsImhpc3RvcnkiLCJiYWNrIiwic2VsZWN0MiIsIm1hdGNoZXIiLCJhbGVydCIsImluZm8iLCJ0b2dnbGUiLCJtZXRhIiwic2VhcmNoRmllbGRzIiwibG9hZGVyIiwiYjEiLCJiMiIsImFwcGVuZFRvIiwibG9nb3V0Iiwic2VjcmV0IiwibmljZXdhcmUiLCJnZW5lcmF0ZVBhc3NwaHJhc2UiLCJqb2luIiwiY29uZmlybSIsImZvcm1SZWdpc3RlciIsInNlc3Npb25UaW1lb3V0IiwibG9jYWxTdG9yYWdlIiwicmVtb3ZlSXRlbSIsInNldEl0ZW0iLCJmb2N1cyIsInN0YXJ0VGltZXIiLCJ0aW1lUGxhY2VIb2xkZXIiLCJ0aW1lb3V0VGltZXIiLCJzZXRJbnRlcnZhbCIsImdldEl0ZW0iLCJyZWxvYWQiLCJ0aW1lciIsInNwbGl0IiwibWludXRlcyIsInBhcnNlSW50Iiwic2Vjb25kcyIsInBhdGhuYW1lIiwiY2xlYXJJbnRlcnZhbCIsInBvc2l0aW9uIiwic2hvd0hpZGVDb250ZW50Il0sIm1hcHBpbmdzIjoiQUFBQSxJQUFBQSxhQUFBLENBQ0FDLGdCQUFBLDBCQUNBQyxPQUFBLGlCQUNBQyxHQUFBLE1BQ0FDLE9BQUEsT0FDQUMsT0FBQSxPQUNBQyxzQkFBQSx5QkFHQUMscUJBQUEsQ0FDQUMsUUFBQSxJQUNBQyxRQUFBLEVBQ0FDLE9BQUEscUJBR0FDLFlBQUEsQ0FDQUMsT0FBQSxTQUFBQyxHQUNBLEdBQUFDLE9BQUFDLFFBSUEsT0FBQUQsT0FBQUMsUUFBQUMsSUFBQUgsSUFFQUcsSUFBQSxTQUFBSCxHQUNBLEdBQUFDLE9BQUFDLFFBQUEsQ0FJQSxJQUFBRSxFQUFBSCxPQUFBQyxRQUFBQyxJQUFBSCxHQUNBLE9BQUFJLEVBQ0FDLEtBQUFDLE1BQUFGLEdBRUFBLElBRUFHLElBQUEsU0FBQVAsRUFBQUksR0FDQSxHQUFBSCxPQUFBQyxRQUlBLE9BQUFELE9BQUFDLFFBQUFLLElBQ0FQLEVBQ0FJLEVBQ0FWLHVCQUdBYyxPQUFBLFNBQUFSLEdBQ0EsR0FBQUMsT0FBQUMsUUFJQSxPQUFBRCxPQUFBQyxRQUFBTSxPQUNBUixFQUNBTix3QkFvQkEsU0FBQWUsK0JBQ0EsSUFBQUMsRUFBQVosWUFBQUMsT0FBQVosYUFBQU0sdUJBQ0EsT0FBQWlCLEtBQ0EsSUFB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WUFJQU0sRUFBQSxnQkFBQTBHLEdBQUEsU0FBQSxTQUFBdEYsR0FDQSxJQUFBbVAsRUFBQXZRLEVBQUFtRyxNQUFBUyxPQUNBeEYsRUFBQVUsaUJBQ0F5TyxFQUFBekosWUFBQSx5QkFDQTlHLEVBQUFtRyxNQUFBSyxTQUFBLDRCQWNBeEcsRUFBQSxpQkFBQTBHLEdBQUEsU0FBQSxLQUNBMkssYUFBQUUsUUFBQSxPQUFBLEtBQ0F6TSxTQUFBZ04sWUFHQTlSLEVBQUEsa0JBQUEwRyxHQUFBLFNBQUEsS0FDQTVCLFNBQUFDLEtBQUEsY0FtQ0EsSUFBQXdOLGdCQUFBLElBQUFqUyxNQUFBMEgsZ0JBQ0F1SyxnQkFBQS9OLE9BRUFsRSxNQUFBQyxRQUFBaUUiLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBDT09LSUVfTkFNRVMgPSB7XG4gIFBSRUZFUkVOQ0VTX1NFVDogJ2Nvb2tpZXNfcHJlZmVyZW5jZXNfc2V0JyxcbiAgUE9MSUNZOiAnY29va2llc19wb2xpY3knLFxuICBHQTogJ19nYScsXG4gIEdBX0dJRDogJ19naWQnLFxuICBHQV9HQVQ6ICdfZ2F0JyxcbiAgVVNFUl9CQU5ORVJfTEFTVF9TRUVOOiAndXNlcl9iYW5uZXJfbGFzdF9zZWVuJ1xufTtcblxudmFyIEdPVlVLX0NPT0tJRV9PUFRJT05TID0ge1xuICBleHBpcmVzOiAzNjUsIC8vIGRheXNcbiAgc2VjdXJlOiB0cnVlLFxuICBkb21haW46ICcuZWR1Y2F0aW9uLmdvdi51aydcbn07XG5cbnZhciBHb3ZVS0Nvb2tpZSA9IHtcbiAgZ2V0UmF3OiBmdW5jdGlvbiAobmFtZSkge1xuICAgIGlmICghd2luZG93LkNvb2tpZXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByZXR1cm4gd2luZG93LkNvb2tpZXMuZ2V0KG5hbWUpO1xuICB9LFxuICBnZXQ6IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgaWYgKCF3aW5kb3cuQ29va2llcykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciB2YWx1ZSA9IHdpbmRvdy5Db29raWVzLmdldChuYW1lKTtcbiAgICBpZiAodmFsdWUpIHtcbiAgICAgIHJldHVybiBKU09OLnBhcnNlKHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9LFxuICBzZXQ6IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xuICAgIGlmICghd2luZG93LkNvb2tpZXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByZXR1cm4gd2luZG93LkNvb2tpZXMuc2V0KFxuICAgICAgbmFtZSxcbiAgICAgIHZhbHVlLFxuICAgICAgR09WVUtfQ09PS0lFX09QVElPTlNcbiAgICApO1xuICB9LFxuICByZW1vdmU6IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgaWYgKCF3aW5kb3cuQ29va2llcykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJldHVybiB3aW5kb3cuQ29va2llcy5yZW1vdmUoXG4gICAgICBuYW1lLFxuICAgICAgR09WVUtfQ09PS0lFX09QVElPTlNcbiAgICApO1xuICB9XG59O1xuXG4vLyBmdW5jdGlvbiB0aGF0IHdpbGwgcmVtb3ZlIGFueSBleGlzdGluZyB0cmFja2luZyBjb29raWVzIG9uIHBhZ2UgbG9hZFxuKGZ1bmN0aW9uICgpIHtcbiAgR292VUtDb29raWUucmVtb3ZlKENPT0tJRV9OQU1FUy5QT0xJQ1kpO1xuICBHb3ZVS0Nvb2tpZS5yZW1vdmUoQ09PS0lFX05BTUVTLlBSRUZFUkVOQ0VTX1NFVCk7XG4gIEdvdlVLQ29va2llLnJlbW92ZShDT09LSUVfTkFNRVMuR0EpO1xuICBHb3ZVS0Nvb2tpZS5yZW1vdmUoQ09PS0lFX05BTUVTLkdBX0dBVCk7XG4gIEdvdlVLQ29va2llLnJlbW92ZShDT09LSUVfTkFNRVMuR0FfR0lEKTtcbn0pKCk7XG5cblxuLyoqXG4gKiBTZWN0aW9uIHRvIGhhbmRsZSByZXZpZXcgdXNlcnMgYmFubmVyXG4gKiBJdCB1c2VzIGEgZGVkaWNhdGVkIGNvb2tpZSAndXNlcl9iYW5uZXJfbGFzdF9zZWVuJ1xuICovXG5cbmZ1bmN0aW9uIGNoZWNrQ29uZGl0aW9uRm9yVXNlcnNCYW5uZXIoKSB7XG4gIHZhciBsYXN0U2VlbiA9IEdvdlVLQ29va2llLmdldFJhdyhDT09LSUVfTkFNRVMuVVNFUl9CQU5ORVJfTEFTVF9TRUVOKTtcbiAgaWYgKCEhbGFzdFNlZW4pIHtcbiAgICB2YXIgbnVtYmVyT2ZEYXlzID0gKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gbGFzdFNlZW4pIC8gKDEwMDAgKiAzNjAwICogMjQpO1xuICAgIGlmIChudW1iZXJPZkRheXMgPiA5MCkge1xuICAgICAgLy8gaWYgdGhlIHBlcmlvZCBpcyBsb25nZXIgdGhhbiA5MCBkYXlzIHNob3cvdXBkYXRlIHRoZSBiYW5uZXJcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBpZiB0aGVyZSBpcyBubyB2YWx1ZSB0aGVuIHNob3cvdXBkYXRlIHRoZSBiYW5uZXJcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIHNob3dSZXZpZXdVc2Vyc0Jhbm5lcigpIHtcbiAgJCgnI3Jldmlldy11c2Vycy1iYW5uZXInKS5zaG93KCk7XG59XG5cbmZ1bmN0aW9uIHNldFJldmlld1VzZXJzQmFubmVyTGFzdFNlZW4oKSB7XG4gIEdvdlVLQ29va2llLnNldChDT09LSUVfTkFNRVMuVVNFUl9CQU5ORVJfTEFTVF9TRUVOLCBuZXcgRGF0ZSgpLmdldFRpbWUoKSk7XG59XG5cbmZ1bmN0aW9uIGxvYWRSZXZpZXdVc2Vyc0Jhbm5lcigpIHtcbiAgaWYgKGNoZWNrQ29uZGl0aW9uRm9yVXNlcnNCYW5uZXIoKSkge1xuICAgIHNob3dSZXZpZXdVc2Vyc0Jhbm5lcigpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUNvb2tpZVJldmlld1VzZXJzQmFubmVyKCkge1xuICBpZiAoY2hlY2tDb25kaXRpb25Gb3JVc2Vyc0Jhbm5lcigpKSB7XG4gICAgc2V0UmV2aWV3VXNlcnNCYW5uZXJMYXN0U2VlbigpO1xuICB9XG59XG4iLCIvLyA8ZGV0YWlscz4gcG9seWZpbGxcbi8vIGh0dHA6Ly9jYW5pdXNlLmNvbS8jZmVhdD1kZXRhaWxzXG5cbi8vIEZGIFN1cHBvcnQgZm9yIEhUTUw1J3MgPGRldGFpbHM+IGFuZCA8c3VtbWFyeT5cbi8vIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTU5MTczN1xuXG4vLyBodHRwOi8vd3d3LnNpdGVwb2ludC5jb20vZml4aW5nLXRoZS1kZXRhaWxzLWVsZW1lbnQvXG5cbjsoZnVuY3Rpb24gKGdsb2JhbCkge1xuICAndXNlIHN0cmljdCdcblxuICB2YXIgR09WVUsgPSBnbG9iYWwuR09WVUsgfHwge31cblxuICBHT1ZVSy5kZXRhaWxzID0ge1xuICAgIE5BVElWRV9ERVRBSUxTOiB0eXBlb2YgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGV0YWlscycpLm9wZW4gPT09ICdib29sZWFuJyxcbiAgICBLRVlfRU5URVI6IDEzLFxuICAgIEtFWV9TUEFDRTogMzIsXG5cbiAgICAvLyBDcmVhdGUgYSBzdGFydGVkIGZsYWcgc28gd2UgY2FuIHByZXZlbnQgdGhlIGluaXRpYWxpc2F0aW9uXG4gICAgLy8gZnVuY3Rpb24gZmlyaW5nIGZyb20gYm90aCBET01Db250ZW50TG9hZGVkIGFuZCB3aW5kb3cub25sb2FkXG4gICAgc3RhcnRlZDogZmFsc2UsXG5cbiAgICAvLyBBZGQgZXZlbnQgY29uc3RydWN0IGZvciBtb2Rlcm4gYnJvd3NlcnMgb3IgSUVcbiAgICAvLyB3aGljaCBmaXJlcyB0aGUgY2FsbGJhY2sgd2l0aCBhIHByZS1jb252ZXJ0ZWQgdGFyZ2V0IHJlZmVyZW5jZVxuICAgIGFkZEV2ZW50OiBmdW5jdGlvbiAobm9kZSwgdHlwZSwgY2FsbGJhY2spIHtcbiAgICAgIGlmIChub2RlLmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgY2FsbGJhY2soZSwgZS50YXJnZXQpXG4gICAgICAgIH0sIGZhbHNlKVxuICAgICAgfSBlbHNlIGlmIChub2RlLmF0dGFjaEV2ZW50KSB7XG4gICAgICAgIG5vZGUuYXR0YWNoRXZlbnQoJ29uJyArIHR5cGUsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgY2FsbGJhY2soZSwgZS5zcmNFbGVtZW50KVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0sXG5cbiAgICByZW1vdmVFdmVudDogZnVuY3Rpb24gKG5vZGUsIHR5cGUpIHtcbiAgICAgIGlmIChub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIH0sIGZhbHNlKVxuICAgICAgfSBlbHNlIGlmIChub2RlLmRldGFjaEV2ZW50KSB7XG4gICAgICAgIG5vZGUuZGV0YWNoRXZlbnQoJ29uJyArIHR5cGUsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSxcblxuICAgIC8vIENyb3NzLWJyb3dzZXIgY2hhcmFjdGVyIGNvZGUgLyBrZXkgcHJlc3NlZFxuICAgIGNoYXJDb2RlOiBmdW5jdGlvbiAoZSkge1xuICAgICAgcmV0dXJuICh0eXBlb2YgZS53aGljaCA9PT0gJ251bWJlcicpID8gZS53aGljaCA6IGUua2V5Q29kZVxuICAgIH0sXG5cbiAgICAvLyBDcm9zcy1icm93c2VyIHByZXZlbnRpbmcgZGVmYXVsdCBhY3Rpb25cbiAgICBwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlmIChlLnByZXZlbnREZWZhdWx0KSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZS5yZXR1cm5WYWx1ZSA9IGZhbHNlXG4gICAgICB9XG4gICAgfSxcblxuICAgIC8vIEhhbmRsZSBjcm9zcy1tb2RhbCBjbGljayBldmVudHNcbiAgICBhZGRDbGlja0V2ZW50OiBmdW5jdGlvbiAobm9kZSwgY2FsbGJhY2spIHtcbiAgICAgIEdPVlVLLmRldGFpbHMuYWRkRXZlbnQobm9kZSwgJ2tleXByZXNzJywgZnVuY3Rpb24gKGUsIHRhcmdldCkge1xuICAgICAgICAvLyBXaGVuIHRoZSBrZXkgZ2V0cyBwcmVzc2VkIC0gY2hlY2sgaWYgaXQgaXMgZW50ZXIgb3Igc3BhY2VcbiAgICAgICAgaWYgKEdPVlVLLmRldGFpbHMuY2hhckNvZGUoZSkgPT09IEdPVlVLLmRldGFpbHMuS0VZX0VOVEVSIHx8IEdPVlVLLmRldGFpbHMuY2hhckNvZGUoZSkgPT09IEdPVlVLLmRldGFpbHMuS0VZX1NQQUNFKSB7XG4gICAgICAgICAgaWYgKHRhcmdldC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnc3VtbWFyeScpIHtcbiAgICAgICAgICAgIC8vIFByZXZlbnQgc3BhY2UgZnJvbSBzY3JvbGxpbmcgdGhlIHBhZ2VcbiAgICAgICAgICAgIC8vIGFuZCBlbnRlciBmcm9tIHN1Ym1pdHRpbmcgYSBmb3JtXG4gICAgICAgICAgICBHT1ZVSy5kZXRhaWxzLnByZXZlbnREZWZhdWx0KGUpXG4gICAgICAgICAgICAvLyBDbGljayB0byBsZXQgdGhlIGNsaWNrIGV2ZW50IGRvIGFsbCB0aGUgbmVjZXNzYXJ5IGFjdGlvblxuICAgICAgICAgICAgaWYgKHRhcmdldC5jbGljaykge1xuICAgICAgICAgICAgICB0YXJnZXQuY2xpY2soKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gZXhjZXB0IFNhZmFyaSA1LjEgYW5kIHVuZGVyIGRvbid0IHN1cHBvcnQgLmNsaWNrKCkgaGVyZVxuICAgICAgICAgICAgICBjYWxsYmFjayhlLCB0YXJnZXQpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KVxuXG4gICAgICAvLyBQcmV2ZW50IGtleXVwIHRvIHByZXZlbnQgY2xpY2tpbmcgdHdpY2UgaW4gRmlyZWZveCB3aGVuIHVzaW5nIHNwYWNlIGtleVxuICAgICAgR09WVUsuZGV0YWlscy5hZGRFdmVudChub2RlLCAna2V5dXAnLCBmdW5jdGlvbiAoZSwgdGFyZ2V0KSB7XG4gICAgICAgIGlmIChHT1ZVSy5kZXRhaWxzLmNoYXJDb2RlKGUpID09PSBHT1ZVSy5kZXRhaWxzLktFWV9TUEFDRSkge1xuICAgICAgICAgIGlmICh0YXJnZXQubm9kZU5hbWUgPT09ICdTVU1NQVJZJykge1xuICAgICAgICAgICAgR09WVUsuZGV0YWlscy5wcmV2ZW50RGVmYXVsdChlKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSlcblxuICAgICAgR09WVUsuZGV0YWlscy5hZGRFdmVudChub2RlLCAnY2xpY2snLCBmdW5jdGlvbiAoZSwgdGFyZ2V0KSB7XG4gICAgICAgIGNhbGxiYWNrKGUsIHRhcmdldClcbiAgICAgIH0pXG4gICAgfSxcblxuICAgIC8vIEdldCB0aGUgbmVhcmVzdCBhbmNlc3RvciBlbGVtZW50IG9mIGEgbm9kZSB0aGF0IG1hdGNoZXMgYSBnaXZlbiB0YWcgbmFtZVxuICAgIGdldEFuY2VzdG9yOiBmdW5jdGlvbiAobm9kZSwgbWF0Y2gpIHtcbiAgICAgIGRvIHtcbiAgICAgICAgaWYgKCFub2RlIHx8IG5vZGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbWF0Y2gpIHtcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGVcbiAgICAgIH0gd2hpbGUgKG5vZGUpXG5cbiAgICAgIHJldHVybiBub2RlXG4gICAgfSxcblxuICAgIC8vIEluaXRpYWxpc2F0aW9uIGZ1bmN0aW9uXG4gICAgYWRkRGV0YWlsc1BvbHlmaWxsOiBmdW5jdGlvbiAobGlzdCwgY29udGFpbmVyKSB7XG4gICAgICBjb250YWluZXIgPSBjb250YWluZXIgfHwgZG9jdW1lbnQuYm9keVxuICAgICAgLy8gSWYgdGhpcyBoYXMgYWxyZWFkeSBoYXBwZW5lZCwganVzdCByZXR1cm5cbiAgICAgIC8vIGVsc2Ugc2V0IHRoZSBmbGFnIHNvIGl0IGRvZXNuJ3QgaGFwcGVuIGFnYWluXG4gICAgICBpZiAoR09WVUsuZGV0YWlscy5zdGFydGVkKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgR09WVUsuZGV0YWlscy5zdGFydGVkID0gdHJ1ZVxuICAgICAgLy8gR2V0IHRoZSBjb2xsZWN0aW9uIG9mIGRldGFpbHMgZWxlbWVudHMsIGJ1dCBpZiB0aGF0J3MgZW1wdHlcbiAgICAgIC8vIHRoZW4gd2UgZG9uJ3QgbmVlZCB0byBib3RoZXIgd2l0aCB0aGUgcmVzdCBvZiB0aGUgc2NyaXB0aW5nXG4gICAgICBpZiAoKGxpc3QgPSBjb250YWluZXIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2RldGFpbHMnKSkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgLy8gZWxzZSBpdGVyYXRlIHRocm91Z2ggdGhlbSB0byBhcHBseSB0aGVpciBpbml0aWFsIHN0YXRlXG4gICAgICB2YXIgbiA9IGxpc3QubGVuZ3RoXG4gICAgICB2YXIgaSA9IDBcbiAgICAgIGZvciAoaTsgaSA8IG47IGkrKykge1xuICAgICAgICB2YXIgZGV0YWlscyA9IGxpc3RbaV1cblxuICAgICAgICAvLyBTYXZlIHNob3J0Y3V0cyB0byB0aGUgaW5uZXIgc3VtbWFyeSBhbmQgY29udGVudCBlbGVtZW50c1xuICAgICAgICBkZXRhaWxzLl9fc3VtbWFyeSA9IGRldGFpbHMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3N1bW1hcnknKS5pdGVtKDApXG4gICAgICAgIGRldGFpbHMuX19jb250ZW50ID0gZGV0YWlscy5nZXRFbGVtZW50c0J5VGFnTmFtZSgnZGl2JykuaXRlbSgwKVxuXG4gICAgICAgIGlmICghZGV0YWlscy5fX3N1bW1hcnkgfHwgIWRldGFpbHMuX19jb250ZW50KSB7XG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgdGhlIGNvbnRlbnQgZG9lc24ndCBoYXZlIGFuIElELCBhc3NpZ24gaXQgb25lIG5vd1xuICAgICAgICAvLyB3aGljaCB3ZSdsbCBuZWVkIGZvciB0aGUgc3VtbWFyeSdzIGFyaWEtY29udHJvbHMgYXNzaWdubWVudFxuICAgICAgICBpZiAoIWRldGFpbHMuX19jb250ZW50LmlkKSB7XG4gICAgICAgICAgZGV0YWlscy5fX2NvbnRlbnQuaWQgPSAnZGV0YWlscy1jb250ZW50LScgKyBpXG4gICAgICAgIH1cblxuICAgICAgICAvLyBBZGQgQVJJQSByb2xlPVwiZ3JvdXBcIiB0byBkZXRhaWxzXG4gICAgICAgIGRldGFpbHMuc2V0QXR0cmlidXRlKCdyb2xlJywgJ2dyb3VwJylcblxuICAgICAgICAvLyBBZGQgcm9sZT1idXR0b24gdG8gc3VtbWFyeVxuICAgICAgICBkZXRhaWxzLl9fc3VtbWFyeS5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnYnV0dG9uJylcblxuICAgICAgICAvLyBBZGQgYXJpYS1jb250cm9sc1xuICAgICAgICBkZXRhaWxzLl9fc3VtbWFyeS5zZXRBdHRyaWJ1dGUoJ2FyaWEtY29udHJvbHMnLCBkZXRhaWxzLl9fY29udGVudC5pZClcblxuICAgICAgICAvLyBTZXQgdGFiSW5kZXggc28gdGhlIHN1bW1hcnkgaXMga2V5Ym9hcmQgYWNjZXNzaWJsZSBmb3Igbm9uLW5hdGl2ZSBlbGVtZW50c1xuICAgICAgICAvLyBodHRwOi8vd3d3LnNhbGllbmNlcy5jb20vYnJvd3NlckJ1Z3MvdGFiSW5kZXguaHRtbFxuICAgICAgICBpZiAoIUdPVlVLLmRldGFpbHMuTkFUSVZFX0RFVEFJTFMpIHtcbiAgICAgICAgICBkZXRhaWxzLl9fc3VtbWFyeS50YWJJbmRleCA9IDBcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERldGVjdCBpbml0aWFsIG9wZW4gc3RhdGVcbiAgICAgICAgdmFyIG9wZW5BdHRyID0gZGV0YWlscy5nZXRBdHRyaWJ1dGUoJ29wZW4nKSAhPT0gbnVsbFxuICAgICAgICBpZiAob3BlbkF0dHIgPT09IHRydWUpIHtcbiAgICAgICAgICBkZXRhaWxzLl9fc3VtbWFyeS5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAndHJ1ZScpXG4gICAgICAgICAgZGV0YWlscy5fX2NvbnRlbnQuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICdmYWxzZScpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGV0YWlscy5fX3N1bW1hcnkuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJylcbiAgICAgICAgICBkZXRhaWxzLl9fY29udGVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKVxuICAgICAgICAgIGlmICghR09WVUsuZGV0YWlscy5OQVRJVkVfREVUQUlMUykge1xuICAgICAgICAgICAgZGV0YWlscy5fX2NvbnRlbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENyZWF0ZSBhIGNpcmN1bGFyIHJlZmVyZW5jZSBmcm9tIHRoZSBzdW1tYXJ5IGJhY2sgdG8gaXRzXG4gICAgICAgIC8vIHBhcmVudCBkZXRhaWxzIGVsZW1lbnQsIGZvciBjb252ZW5pZW5jZSBpbiB0aGUgY2xpY2sgaGFuZGxlclxuICAgICAgICBkZXRhaWxzLl9fc3VtbWFyeS5fX2RldGFpbHMgPSBkZXRhaWxzXG5cbiAgICAgICAgLy8gSWYgdGhpcyBpcyBub3QgYSBuYXRpdmUgaW1wbGVtZW50YXRpb24sIGNyZWF0ZSBhbiBhcnJvd1xuICAgICAgICAvLyBpbnNpZGUgdGhlIHN1bW1hcnlcbiAgICAgICAgaWYgKCFHT1ZVSy5kZXRhaWxzLk5BVElWRV9ERVRBSUxTKSB7XG4gICAgICAgICAgdmFyIHR3aXN0eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2knKVxuXG4gICAgICAgICAgaWYgKG9wZW5BdHRyID09PSB0cnVlKSB7XG4gICAgICAgICAgICB0d2lzdHkuY2xhc3NOYW1lID0gJ2Fycm93IGFycm93LW9wZW4nXG4gICAgICAgICAgICB0d2lzdHkuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJ1xcdTI1YmMnKSlcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdHdpc3R5LmNsYXNzTmFtZSA9ICdhcnJvdyBhcnJvdy1jbG9zZWQnXG4gICAgICAgICAgICB0d2lzdHkuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJ1xcdTI1YmEnKSlcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBkZXRhaWxzLl9fc3VtbWFyeS5fX3R3aXN0eSA9IGRldGFpbHMuX19zdW1tYXJ5Lmluc2VydEJlZm9yZSh0d2lzdHksIGRldGFpbHMuX19zdW1tYXJ5LmZpcnN0Q2hpbGQpXG4gICAgICAgICAgZGV0YWlscy5fX3N1bW1hcnkuX190d2lzdHkuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJylcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBCaW5kIGEgY2xpY2sgZXZlbnQgdG8gaGFuZGxlIHN1bW1hcnkgZWxlbWVudHNcbiAgICAgIEdPVlVLLmRldGFpbHMuYWRkQ2xpY2tFdmVudChjb250YWluZXIsIGZ1bmN0aW9uIChlLCBzdW1tYXJ5KSB7XG4gICAgICAgIGlmICghKHN1bW1hcnkgPSBHT1ZVSy5kZXRhaWxzLmdldEFuY2VzdG9yKHN1bW1hcnksICdzdW1tYXJ5JykpKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gR09WVUsuZGV0YWlscy5zdGF0ZWNoYW5nZShzdW1tYXJ5KVxuICAgICAgfSlcbiAgICB9LFxuXG4gICAgLy8gRGVmaW5lIGEgc3RhdGVjaGFuZ2UgZnVuY3Rpb24gdGhhdCB1cGRhdGVzIGFyaWEtZXhwYW5kZWQgYW5kIHN0eWxlLmRpc3BsYXlcbiAgICAvLyBBbHNvIHVwZGF0ZSB0aGUgYXJyb3cgcG9zaXRpb25cbiAgICBzdGF0ZWNoYW5nZTogZnVuY3Rpb24gKHN1bW1hcnkpIHtcbiAgICAgIHZhciBleHBhbmRlZCA9IHN1bW1hcnkuX19kZXRhaWxzLl9fc3VtbWFyeS5nZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnKSA9PT0gJ3RydWUnXG4gICAgICB2YXIgaGlkZGVuID0gc3VtbWFyeS5fX2RldGFpbHMuX19jb250ZW50LmdldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nKSA9PT0gJ3RydWUnXG5cbiAgICAgIHN1bW1hcnkuX19kZXRhaWxzLl9fc3VtbWFyeS5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAoZXhwYW5kZWQgPyAnZmFsc2UnIDogJ3RydWUnKSlcbiAgICAgIHN1bW1hcnkuX19kZXRhaWxzLl9fY29udGVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgKGhpZGRlbiA/ICdmYWxzZScgOiAndHJ1ZScpKVxuXG4gICAgICBpZiAoIUdPVlVLLmRldGFpbHMuTkFUSVZFX0RFVEFJTFMpIHtcbiAgICAgICAgc3VtbWFyeS5fX2RldGFpbHMuX19jb250ZW50LnN0eWxlLmRpc3BsYXkgPSAoZXhwYW5kZWQgPyAnbm9uZScgOiAnJylcblxuICAgICAgICB2YXIgaGFzT3BlbkF0dHIgPSBzdW1tYXJ5Ll9fZGV0YWlscy5nZXRBdHRyaWJ1dGUoJ29wZW4nKSAhPT0gbnVsbFxuICAgICAgICBpZiAoIWhhc09wZW5BdHRyKSB7XG4gICAgICAgICAgc3VtbWFyeS5fX2RldGFpbHMuc2V0QXR0cmlidXRlKCdvcGVuJywgJ29wZW4nKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN1bW1hcnkuX19kZXRhaWxzLnJlbW92ZUF0dHJpYnV0ZSgnb3BlbicpXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHN1bW1hcnkuX190d2lzdHkpIHtcbiAgICAgICAgc3VtbWFyeS5fX3R3aXN0eS5maXJzdENoaWxkLm5vZGVWYWx1ZSA9IChleHBhbmRlZCA/ICdcXHUyNWJhJyA6ICdcXHUyNWJjJylcbiAgICAgICAgc3VtbWFyeS5fX3R3aXN0eS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgKGV4cGFuZGVkID8gJ2Fycm93IGFycm93LWNsb3NlZCcgOiAnYXJyb3cgYXJyb3ctb3BlbicpKVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH0sXG5cbiAgICBkZXN0cm95OiBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgR09WVUsuZGV0YWlscy5yZW1vdmVFdmVudChub2RlLCAnY2xpY2snKVxuICAgIH0sXG5cbiAgICAvLyBCaW5kIHR3byBsb2FkIGV2ZW50cyBmb3IgbW9kZXJuIGFuZCBvbGRlciBicm93c2Vyc1xuICAgIC8vIElmIHRoZSBmaXJzdCBvbmUgZmlyZXMgaXQgd2lsbCBzZXQgYSBmbGFnIHRvIGJsb2NrIHRoZSBzZWNvbmQgb25lXG4gICAgLy8gYnV0IGlmIGl0J3Mgbm90IHN1cHBvcnRlZCB0aGVuIHRoZSBzZWNvbmQgb25lIHdpbGwgZmlyZVxuICAgIGluaXQ6IGZ1bmN0aW9uICgkY29udGFpbmVyKSB7XG4gICAgICBHT1ZVSy5kZXRhaWxzLmFkZEV2ZW50KGRvY3VtZW50LCAnRE9NQ29udGVudExvYWRlZCcsIEdPVlVLLmRldGFpbHMuYWRkRGV0YWlsc1BvbHlmaWxsKVxuICAgICAgR09WVUsuZGV0YWlscy5hZGRFdmVudCh3aW5kb3csICdsb2FkJywgR09WVUsuZGV0YWlscy5hZGREZXRhaWxzUG9seWZpbGwpXG4gICAgfVxuICB9XG4gIGdsb2JhbC5HT1ZVSyA9IEdPVlVLXG59KSh3aW5kb3cpXG4iLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIE5TQSA9IE5TQSB8fCB7fTtcbnZhciBmaWx0ZXJCb3hlcyA9ICQoJy5maWx0ZXItYm94Jyk7XG5cbk5TQS5maWx0ZXJzID0ge1xuICBpbml0OiBmdW5jdGlvbiAoKSB7XG4gICAgZmlsdGVyQm94ZXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoYXQgPSAkKHRoaXMpLFxuICAgICAgICAgIGhlYWRlciA9ICR0aGF0LmZpbmQoJy5jb250YWluZXItaGVhZCcpLFxuICAgICAgICAgIHRpdGxlID0gaGVhZGVyLmZpbmQoJy5vcHRpb24tc2VsZWN0LWxhYmVsJyksXG4gICAgICAgICAgY2hlY2tib3hlcyA9ICR0aGF0LmZpbmQoJ2lucHV0OmNoZWNrYm94JyksXG4gICAgICAgICAgYnV0dG9uID0gJCgnPGJ1dHRvbiAvPicpLmFkZENsYXNzKCdqcy1jb250YWluZXItaGVhZCcpLFxuICAgICAgICAgIGNoZWNrQ291bnQgPSAkKCc8ZGl2IC8+JykuYWRkQ2xhc3MoJ2pzLXNlbGVjdGVkLWNvdW50ZXInKTtcblxuICAgICAgYnV0dG9uLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gJCh0aGlzKS5uZXh0KCk7XG4gICAgICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKCdjbG9zZWQnKSkge1xuICAgICAgICAgIG9wdGlvbnMuc2hvdygpO1xuICAgICAgICAgICQodGhpcylcbiAgICAgICAgICAgIC5yZW1vdmVDbGFzcygnY2xvc2VkJylcbiAgICAgICAgICAgIC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgdHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3B0aW9ucy5oaWRlKCk7XG4gICAgICAgICAgJCh0aGlzKVxuICAgICAgICAgICAgLmFkZENsYXNzKCdjbG9zZWQnKVxuICAgICAgICAgICAgLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfSkuYXBwZW5kKHRpdGxlLCBjaGVja0NvdW50KTtcblxuICAgICAgaGVhZGVyLnJlcGxhY2VXaXRoKGJ1dHRvbik7XG5cbiAgICAgIGNoZWNrYm94ZXMub24oJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2hlY2tDb3VudC50ZXh0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBjaGVja2JveGVzLmZpbHRlcignOmNoZWNrZWQnKS5sZW5ndGggPiAwID8gY2hlY2tib3hlcy5maWx0ZXIoJzpjaGVja2VkJykubGVuZ3RoICsgJyBzZWxlY3RlZCcgOiAnJztcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxufVxuXG5pZiAoZmlsdGVyQm94ZXMubGVuZ3RoID4gMCkge1xuICBOU0EuZmlsdGVycy5pbml0KCk7XG59XG4iLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIE5TQSA9IE5TQSB8fCB7fTtcblxuTlNBLnNpZ25pbiA9IHtcbiAgZm9ybTogJCgnLmZvcm0tc2lnbmluJyksXG4gIGluaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLnNldHVwRXZlbnRzKCk7XG4gIH0sXG4gIHNldHVwRXZlbnRzOiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mb3JtLm9uKCdzdWJtaXQnLCB0aGlzLCB0aGlzLmhhbmRsZVN1Ym1pdCk7XG4gIH0sXG4gIGhhbmRsZVN1Ym1pdDogZnVuY3Rpb24gKGUpIHtcblxuICAgIHZhciAkZm9ybSA9ICQodGhpcyk7XG4gICAgdmFyICRpbnB1dHMgPSAkZm9ybS5maW5kKCdpbnB1dCcpLm5vdCgnOmNoZWNrYm94JyksIHBvc3REYXRhID0ge30sICRzdWJtaXRCdXR0b25zID0gJCh0aGlzKS5maW5kKCdidXR0b246c3VibWl0JyksICRzdWJtaXRCdXR0b24gPSAkc3VibWl0QnV0dG9ucy5lcSgwKTtcblxuICAgICRzdWJtaXRCdXR0b25zLmF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG5cbiAgICAkc3VibWl0QnV0dG9uLmNzcygnbWluLXdpZHRoJywgJHN1Ym1pdEJ1dHRvbi5vdXRlcldpZHRoKCkgKyAncHgnKVxuXG4gICAgJHN1Ym1pdEJ1dHRvbi5maW5kKCcubG9hZGVyJykucmVtb3ZlQ2xhc3MoJ3ZoJyk7XG5cbiAgICAkaW5wdXRzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICBwb3N0RGF0YVt0aGlzLm5hbWVdID0gJCh0aGlzKS52YWwoKTtcbiAgICB9KTtcblxuICAgIC8vIEhpZGUgYW55IHBhc3N3b3JkIGlucHV0cyB3ZSBtYXkgaGF2ZSBpbiB0aGUgZm9ybVxuICAgIHZhciAkcGFzc3dvcmRJbnB1dHMgPSAkKCcucGFzc3dvcmQtaW5wdXQnKTtcbiAgICAkcGFzc3dvcmRJbnB1dHMuZWFjaChmdW5jdGlvbiAoaSkge1xuICAgICAgLy8gSGlkZSBwYXNzd29yZFxuICAgICAgJCh0aGlzKS5hdHRyKFwidHlwZVwiLCBcInBhc3N3b3JkXCIpO1xuICAgICAgLy8gVXBkYXRlIHRleHQgaW4gc2hvdy9oaWRlIGJ1dHRvblxuICAgICAgJCh0aGlzKS5zaWJsaW5ncygnLnNob3ctcGFzc3dvcmQnKS5odG1sKCdTaG93Jyk7XG4gICAgfSk7XG5cbiAgICAkLmFqYXgoe1xuICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgZGF0YTogcG9zdERhdGEsXG4gICAgICB1cmw6ICRmb3JtLmF0dHIoJ2FjdGlvbicpLFxuICAgICAgY29udGV4dDogZS5kYXRhLFxuICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIGlmIChkYXRhLnJlZGlyZWN0KSB7XG4gICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBkYXRhLnVyaTtcbiAgICAgICAgICAkKCd0aXRsZScpLmh0bWwoJ0RmRSBTaWduLWluJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGRhdGEuaXNGYWlsZWRMb2dpbikge1xuICAgICAgICAgICAgdGhpcy5yZXNldFZhbGlkYXRpb24oJGZvcm0pO1xuICAgICAgICAgICAgJCgndGl0bGUnKS5odG1sKCdFcnJvcjogRGZFIFNpZ24taW4nKTtcbiAgICAgICAgICAgIGlmIChkYXRhLmRlbGF5VGlsbCkge1xuICAgICAgICAgICAgICB0aGlzLnNob3dWYWxpZGF0aW9uTWVzc2FnZShkYXRhLnZhbGlkYXRpb25NZXNzYWdlcywgdHJ1ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0aGlzLnNob3dWYWxpZGF0aW9uTWVzc2FnZShkYXRhLnZhbGlkYXRpb25NZXNzYWdlcyk7XG4gICAgICAgICAgICAgICRzdWJtaXRCdXR0b25zLnJlbW92ZUF0dHIoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNob3dJbmxpbmVWYWxpZGF0aW9uKGRhdGEudmFsaWRhdGlvbk1lc3NhZ2VzKTtcbiAgICAgICAgICAgICRzdWJtaXRCdXR0b24uZmluZCgnLmxvYWRlcicpLmFkZENsYXNzKCd2aCcpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmJ1aWxkRm9ybUFuZFN1Ym1pdChkYXRhKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBlcnJvcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMucmVzZXRWYWxpZGF0aW9uKCRmb3JtKTtcbiAgICAgICAgdGhpcy5zaG93VmFsaWRhdGlvbk1lc3NhZ2UoKTtcbiAgICAgICAgJHN1Ym1pdEJ1dHRvbnMucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcbiAgICAgICAgJHN1Ym1pdEJ1dHRvbi5maW5kKCcubG9hZGVyJykuYWRkQ2xhc3MoJ3ZoJyk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICB9LFxuICByZXNldFZhbGlkYXRpb246IGZ1bmN0aW9uICgkZm9ybSkge1xuXG4gICAgJCgnLmdvdnVrLWVycm9yLXN1bW1hcnknKS5yZW1vdmUoKTtcblxuICAgIHZhciAkZm9ybUdyb3VwcyA9ICRmb3JtLmZpbmQoJy5nb3Z1ay1mb3JtLWdyb3VwJyk7XG5cbiAgICAkZm9ybUdyb3Vwcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkZmllbGQgPSAkKHRoaXMpLmZpbmQoJ2lucHV0JykuZXEoMCk7XG4gICAgICBpZiAoJCh0aGlzKS5oYXNDbGFzcygnZ292dWstZm9ybS1ncm91cC0tZXJyb3InKSkge1xuICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdnb3Z1ay1mb3JtLWdyb3VwLS1lcnJvcicpO1xuICAgICAgICAkKHRoaXMpLmZpbmQoJ3NwYW4uZ292dWstZXJyb3ItbWVzc2FnZScpLnJlbW92ZSgpO1xuICAgICAgICAkZmllbGQucmVtb3ZlQXR0cignYXJpYS1kZXNjcmliZWRieScpLnJlbW92ZUF0dHIoJ2FyaWEtaW52YWxpZCcpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuXG4gIHNob3dWYWxpZGF0aW9uTWVzc2FnZTogZnVuY3Rpb24gKG1lc3NhZ2VzLCBzaG93UmVmcmVzaExpbmspIHtcblxuICAgIHZhciAkZGl2ID0gJCgnPGRpdiAvPicpLmF0dHIoJ2NsYXNzJywgJ2dvdnVrLWVycm9yLXN1bW1hcnkgZ292dWstIS1tYXJnaW4tdG9wLTYnKS5hdHRyKCdyb2xlJywgJ2FsZXJ0JykuYXR0cigndGFiaW5kZXgnLCAnLTEnKS5hdHRyKCdhcmlhLWxhYmVsbGVkYnknLCAnZXJyb3Itc3VtbWFyeS10aXRsZScpO1xuICAgIHZhciAkaDIgPSAkKCc8aDIgLz4nKS5hdHRyKCdjbGFzcycsICdnb3Z1ay1lcnJvci1zdW1tYXJ5X190aXRsZScpLmF0dHIoJ2lkJywgJ2Vycm9yLXN1bW1hcnknKTtcbiAgICB2YXIgJHVsQ29udGFpbmVyID0gJCgnPGRpdiAvPicpLmF0dHIoJ2NsYXNzJywgJ2dvdnVrLWVycm9yLXN1bW1hcnlfX2JvZHknKTtcbiAgICB2YXIgJHVsID0gJCgnPHVsIC8+JykuYXR0cignY2xhc3MnLCAnZ292dWstbGlzdCBnb3Z1ay1lcnJvci1zdW1tYXJ5X19saXN0Jyk7XG5cbiAgICBpZiAobWVzc2FnZXMpIHtcbiAgICAgICRoMi50ZXh0KCdUaGVyZSBpcyBhIHByb2JsZW0nKTtcbiAgICAgICQuZWFjaChtZXNzYWdlcywgZnVuY3Rpb24gKGluZGV4LCB2YWx1ZSkge1xuICAgICAgICBpZiAoaW5kZXggPT09ICdsb2dpbkVycm9yJykge1xuICAgICAgICAgIGluZGV4ID0gJ3VzZXJuYW1lJztcbiAgICAgICAgfVxuICAgICAgICB2YXIgJGEgPSAkKCc8YSAvPicpLmF0dHIoJ2NsYXNzJywgJ2dvdnVrLWxpbmsnKS5hdHRyKCdocmVmJywgJyMnICsgaW5kZXgpLnRleHQodmFsdWUpO1xuICAgICAgICB2YXIgJGxpID0gJCgnPGxpIC8+JykuYXBwZW5kKCRhKTtcbiAgICAgICAgJHVsLmFwcGVuZCgkbGkpO1xuICAgICAgfSk7XG4gICAgICBpZiAoc2hvd1JlZnJlc2hMaW5rKSB7XG4gICAgICAgIHZhciAkYSA9ICQoJzxhIC8+JykuYXR0cignY2xhc3MnLCAnZ292dWstbGluay1ib2xkJykuYXR0cignaHJlZicsICcnKS5hdHRyKCdvbmNsaWNrJywgJ3dpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKScpLnRleHQoJ1JlZnJlc2ggdGhpcyBwYWdlJykuY3NzKCdjb2xvcicsICcjMWQ3MGI4Jyk7XG4gICAgICAgIHZhciAkbGkgPSAkKCc8bGkgLz4nKS5hcHBlbmQoJGEpO1xuICAgICAgICAkdWwuYXBwZW5kKCRsaSk7XG4gICAgICB9XG5cbiAgICB9IGVsc2Uge1xuICAgICAgJGgyLnRleHQoJ1RoZXJlIGhhcyBiZWVuIGFuIGVycm9yJyk7XG4gICAgICB2YXIgJGxpID0gJCgnPGxpIC8+JykuaHRtbCgnUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci4gSWYgdGhlIHByb2JsZW0gY29udGludWVzLCBmb2xsb3cgdGhlIGxpbmsgdG8gPGEgaHJlZj1cImh0dHBzOi8vaGVscC5zaWduaW4uZWR1Y2F0aW9uLmdvdi51ay9jb250YWN0L2Zvcm1cIj5zdWJtaXQgYSBzdXBwb3J0IHJlcXVlc3Q8L2E+Jyk7XG4gICAgICAkdWwuYXBwZW5kKCRsaSk7XG4gICAgfVxuICAgICRkaXYuYXBwZW5kKCRoMikuYXBwZW5kKCR1bENvbnRhaW5lci5hcHBlbmQoJHVsKSk7XG4gICAgJCgnbWFpbicpLnByZXBlbmQoJGRpdik7XG5cbiAgICAkKCdodG1sLCBib2R5JykuYW5pbWF0ZSh7XG4gICAgICBzY3JvbGxUb3A6ICRkaXYub2Zmc2V0KCkudG9wIC0gMTVcbiAgICB9LCAzMDApO1xuXG4gIH0sXG4gIHNob3dJbmxpbmVWYWxpZGF0aW9uOiBmdW5jdGlvbihtZXNzYWdlcykge1xuXG4gICAgJC5lYWNoKG1lc3NhZ2VzLCBmdW5jdGlvbiggaW5kZXgsIHZhbHVlICkge1xuICAgICAgdmFyICRmaWVsZCA9ICQoJ2lucHV0W25hbWU9JyArIGluZGV4ICsgJ10nKSxcbiAgICAgICAgJHBhcmVudCA9ICRmaWVsZC5wYXJlbnQoKTtcblxuICAgICAgdmFyICRsYWJlbCA9ICRwYXJlbnQuZmluZCgnbGFiZWwnKS5maXJzdCgpO1xuXG4gICAgICBpZiAoISRwYXJlbnQuaGFzQ2xhc3MoJ2dvdnVrLWZvcm0tZ3JvdXAtLWVycm9yJykpIHtcblxuICAgICAgICB2YXIgZXJyb3JNZXNzYWdlID0gJCgnPHNwYW4gY2xhc3M9XCJnb3Z1ay1ib2R5XCI+JylcbiAgICAgICAgICAuaHRtbCgnPHNwYW4gY2xhc3M9XCJnb3Z1ay12aXN1YWxseS1oaWRkZW5cIj5FcnJvcjo8L3NwYW4+JyArIHZhbHVlKVxuICAgICAgICAgIC5wcm9wKCdjbGFzcycsICdnb3Z1ay1lcnJvci1tZXNzYWdlJylcbiAgICAgICAgICAucHJvcCgnaWQnLCAndmFsaWRhdGlvbi0nICsgaW5kZXgpO1xuICAgICAgfVxuXG4gICAgICAkbGFiZWwuYWZ0ZXIoZXJyb3JNZXNzYWdlKTtcbiAgICAgICRwYXJlbnQuYWRkQ2xhc3MoJ2dvdnVrLWZvcm0tZ3JvdXAtLWVycm9yJyk7XG4gICAgICAkZmllbGQuYXR0cih7XG4gICAgICAgICdhcmlhLWRlc2NyaWJlZGJ5JyA6ICd2YWxpZGF0aW9uLScgKyBpbmRleCxcbiAgICAgICAgJ2FyaWEtaW52YWxpZCc6ICd0cnVlJ1xuICAgICAgfSk7XG5cbiAgICB9KTtcblxuICB9LFxuICBidWlsZEZvcm1BbmRTdWJtaXQ6IGZ1bmN0aW9uIChkYXRhKSB7XG5cbiAgICB2YXIgJGZvcm0gPSAkKCc8Zm9ybSAvPicpLmF0dHIoe1xuICAgICAgbWV0aG9kOiAncG9zdCcsXG4gICAgICBhY3Rpb246IGRhdGEuZGVzdGluYXRpb24sXG4gICAgICBpZDogJ2RmZXNpZ25pbmZvcm0nXG4gICAgfSk7XG5cbiAgICAkLmVhY2goZGF0YS5wb3N0YmFja0RhdGEsIGZ1bmN0aW9uKCBpbmRleCwgdmFsdWUgKSB7XG4gICAgICB2YXIgJGZpZWxkID0gJCgnPGlucHV0IC8+JykuYXR0cih7XG4gICAgICAgIHR5cGU6ICdoaWRkZW4nLFxuICAgICAgICBuYW1lOiBpbmRleCxcbiAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICB9KTtcbiAgICAgICRmb3JtLmFwcGVuZCgkZmllbGQpO1xuICAgIH0pO1xuXG4gICAgJCgnI2RmZXNpZ25pbmZvcm0nKS5yZW1vdmUoKTtcbiAgICAkKCdib2R5JykuYXBwZW5kKCRmb3JtKTtcbiAgICAkZm9ybS5zdWJtaXQoKTtcbiAgfSxcbn07XG5cbmlmICgkKCcuZm9ybS1zaWduaW4nKS5sZW5ndGggPiAwKSB7XG4gIE5TQS5zaWduaW4uaW5pdCgpO1xufVxuXG5mdW5jdGlvbiBnZXRQYXJhbWV0ZXJCeU5hbWUobmFtZSwgdXJsKSB7XG4gIGlmICghdXJsKSB1cmwgPSB3aW5kb3cubG9jYXRpb24uaHJlZjtcbiAgbmFtZSA9IG5hbWUucmVwbGFjZSgvW1xcW1xcXV0vZywgXCJcXFxcJCZcIik7XG4gIHZhciByZWdleCA9IG5ldyBSZWdFeHAoXCJbPyZdXCIgKyBuYW1lICsgXCIoPShbXiYjXSopfCZ8I3wkKVwiKSxcbiAgICByZXN1bHRzID0gcmVnZXguZXhlYyh1cmwpO1xuICBpZiAoIXJlc3VsdHMpIHJldHVybiBudWxsO1xuICBpZiAoIXJlc3VsdHNbMl0pIHJldHVybiAnJztcbiAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChyZXN1bHRzWzJdLnJlcGxhY2UoL1xcKy9nLCBcIiBcIikpO1xufVxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmZ1bmN0aW9uIHNvcnRUYWJsZShuKSB7XG4gIHZhciB0YWJsZSwgcm93cywgc3dpdGNoaW5nLCBpLCB4LCB5LCBzaG91bGRTd2l0Y2gsIGRpcmVjdGlvbiwgc3dpdGNoY291bnQgPSAwO1xuICB0YWJsZSA9ICQoJ3RhYmxlLnNvcnRhYmxlJyk7XG4gIHN3aXRjaGluZyA9IHRydWU7XG4gIGRpcmVjdGlvbiA9ICdhJztcblxuICB3aGlsZSAoc3dpdGNoaW5nKSB7XG5cbiAgICBzd2l0Y2hpbmcgPSBmYWxzZTtcbiAgICByb3dzID0gdGFibGUuZmluZCgndHInKTtcblxuICAgIGZvciAoaSA9IDE7IGkgPCAocm93cy5sZW5ndGggLSAxKTsgaSsrKSB7XG5cbiAgICAgIHNob3VsZFN3aXRjaCA9IGZhbHNlO1xuXG4gICAgICB4ID0gcm93c1tpXS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnVEQnKVtuXTtcbiAgICAgIHkgPSByb3dzW2kgKyAxXS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnVEQnKVtuXTtcblxuICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gJ2EnKSB7XG4gICAgICAgIGlmICh4LmlubmVySFRNTC50b0xvd2VyQ2FzZSgpID4geS5pbm5lckhUTUwudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICAgIHNob3VsZFN3aXRjaCA9IHRydWU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSAnZCcpIHtcbiAgICAgICAgaWYgKHguaW5uZXJIVE1MLnRvTG93ZXJDYXNlKCkgPCB5LmlubmVySFRNTC50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgICAgc2hvdWxkU3dpdGNoID0gdHJ1ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzaG91bGRTd2l0Y2gpIHtcblxuICAgICAgcm93c1tpXS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShyb3dzW2kgKyAxXSwgcm93c1tpXSk7XG4gICAgICBzd2l0Y2hpbmcgPSB0cnVlO1xuXG4gICAgICBzd2l0Y2hjb3VudCArKztcblxuICAgIH0gZWxzZSB7XG5cbiAgICAgIGlmIChzd2l0Y2hjb3VudCA9PT0gMCAmJiBkaXJlY3Rpb24gPT09ICdhJykge1xuICAgICAgICBkaXJlY3Rpb24gPSAnZCc7XG4gICAgICAgIHN3aXRjaGluZyA9IHRydWU7XG4gICAgICB9XG5cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGRpcmVjdGlvbjtcbn1cblxuJChmdW5jdGlvbiAoKSB7XG5cbiAgJCgndGFibGUuc29ydGFibGUgdGhlYWQgdGgnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG5cbiAgICB2YXIgaGVhZGluZ0NlbGxzID0gJCgndGFibGUuc29ydGFibGUgdGhlYWQgdHIgdGgnKTtcblxuICAgIGhlYWRpbmdDZWxscy5yZW1vdmVDbGFzcygnc29ydGVkJykucmVtb3ZlQ2xhc3MoJ2Rpci1hJykucmVtb3ZlQ2xhc3MoJ2Rpci1kJyk7XG5cbiAgICB2YXIgaW5kZXggPSBoZWFkaW5nQ2VsbHMuaW5kZXgoJCh0aGlzKSk7XG5cbiAgICB2YXIgZGlyZWN0aW9uID0gc29ydFRhYmxlKGluZGV4KTtcblxuICAgICQodGhpcykuYWRkQ2xhc3MoJ3NvcnRlZCBkaXItJyArIGRpcmVjdGlvbik7XG5cbiAgfSk7XG5cbn0pO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBOU0EgPSBOU0EgfHwge307XG5cbk5TQS5tb2RhbCA9IHtcbiAgZWxlbXM6IHtcbiAgICBsaW5rczogJCgnLm1vZGFsLWxpbmsnKSxcbiAgICBtb2RhbHM6ICQoJy5tb2RhbCcpXG4gIH0sXG4gIGluaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLm1vZGFsQmcoKTtcbiAgICB0aGlzLnNldFVwRXZlbnRzKCk7XG4gIH0sXG4gIG1vZGFsQmc6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgdmFyIGJnID0gJCgnPGRpdj4nKS5hZGRDbGFzcygnbW9kYWwtYmcnKS5oaWRlKCkub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkgeyB0aGF0LmhpZGVNb2RhbHMoKTsgfSk7XG4gICAgJCgnYm9keScpLmFwcGVuZChiZyk7XG4gIH0sXG4gIHNldFVwRXZlbnRzOiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgIHRoaXMuZWxlbXMubGlua3Mub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciB0YXJnZXQgPSAkKHRoaXMpLmF0dHIoJ2hyZWYnKTtcbiAgICAgIHRoYXQuc2hvd01vZGFsKCQodGFyZ2V0KSk7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG5cbiAgICB0aGF0LmVsZW1zLm1vZGFscy5maW5kKCcuY2xvc2UnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgdGhhdC5oaWRlTW9kYWxzKCk7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG5cbiAgICAkKCdib2R5Jykub24oJ2tleWRvd24nLCBmdW5jdGlvbiAoZSkge1xuICAgICAgaWYgKChlLmtleUNvZGUgfHwgZS53aGljaCkgPT09IDI3KVxuICAgICAgICB0aGF0LmhpZGVNb2RhbHMoKTtcbiAgICB9KTtcbiAgfSxcbiAgc2hvd01vZGFsOiBmdW5jdGlvbiAobW9kYWwpIHtcbiAgICAkKCdodG1sJykuYWRkQ2xhc3MoJ21vZGFsLW9wZW4nKTtcbiAgICAkKCcubW9kYWwtYmcnKS5zaG93KCk7XG4gICAgbW9kYWwuc2hvdygpO1xuICB9LFxuICBoaWRlTW9kYWxzOiBmdW5jdGlvbiAoKSB7XG4gICAgJCgnaHRtbCcpLnJlbW92ZUNsYXNzKCdtb2RhbC1vcGVuJyk7XG4gICAgJCgnLm1vZGFsLWJnJykuaGlkZSgpO1xuICAgIHRoaXMuZWxlbXMubW9kYWxzLmhpZGUoKTtcbiAgfVxufVxuXG5OU0EubW9kYWwuaW5pdCgpO1xuIiwiOyhmdW5jdGlvbiAoZ2xvYmFsKSB7XG4gICd1c2Ugc3RyaWN0J1xuXG4gIHZhciAkID0gZ2xvYmFsLmpRdWVyeVxuICB2YXIgR09WVUsgPSBnbG9iYWwuR09WVUsgfHwge31cblxuICBmdW5jdGlvbiBTaG93SGlkZUNvbnRlbnQgKCkge1xuICAgIHZhciBzZWxmID0gdGhpc1xuXG4gICAgLy8gUmFkaW8gYW5kIENoZWNrYm94IHNlbGVjdG9yc1xuICAgIHZhciBzZWxlY3RvcnMgPSB7XG4gICAgICBuYW1lc3BhY2U6ICdTaG93SGlkZUNvbnRlbnQnLFxuICAgICAgcmFkaW86ICdbZGF0YS10YXJnZXRdID4gaW5wdXRbdHlwZT1cInJhZGlvXCJdJyxcbiAgICAgIGNoZWNrYm94OiAnW2RhdGEtdGFyZ2V0XSA+IGlucHV0W3R5cGU9XCJjaGVja2JveFwiXScsXG4gICAgICBsaW5rOiAnYS5qcy10b2dnbGUtY29udGVudCdcbiAgICB9XG5cbiAgICAvLyBFc2NhcGUgbmFtZSBhdHRyaWJ1dGUgZm9yIHVzZSBpbiBET00gc2VsZWN0b3JcbiAgICBmdW5jdGlvbiBlc2NhcGVFbGVtZW50TmFtZSAoc3RyKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gc3RyLnJlcGxhY2UoJ1snLCAnXFxcXFsnKS5yZXBsYWNlKCddJywgJ1xcXFxdJylcbiAgICAgIHJldHVybiByZXN1bHRcbiAgICB9XG5cbiAgICAvLyBBZGRzIEFSSUEgYXR0cmlidXRlcyB0byBjb250cm9sICsgYXNzb2NpYXRlZCBjb250ZW50XG4gICAgZnVuY3Rpb24gaW5pdFRvZ2dsZWRDb250ZW50ICgpIHtcbiAgICAgIHZhciAkY29udHJvbCA9ICQodGhpcylcbiAgICAgIHZhciAkY29udGVudCA9IGdldFRvZ2dsZWRDb250ZW50KCRjb250cm9sKVxuXG4gICAgICAvLyBTZXQgYXJpYS1jb250cm9scyBhbmQgZGVmYXVsdHNcbiAgICAgIGlmICgkY29udGVudC5sZW5ndGgpIHtcbiAgICAgICAgJGNvbnRyb2wuYXR0cignYXJpYS1jb250cm9scycsICRjb250ZW50LmF0dHIoJ2lkJykpXG4gICAgICAgICRjb250cm9sLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnKVxuICAgICAgICAkY29udGVudC5hdHRyKCdhcmlhLWhpZGRlbicsICd0cnVlJylcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSZXR1cm4gdG9nZ2xlZCBjb250ZW50IGZvciBjb250cm9sXG4gICAgZnVuY3Rpb24gZ2V0VG9nZ2xlZENvbnRlbnQgKCRjb250cm9sKSB7XG4gICAgICB2YXIgaWQgPSAkY29udHJvbC5hdHRyKCdhcmlhLWNvbnRyb2xzJylcblxuICAgICAgLy8gQVJJQSBhdHRyaWJ1dGVzIGFyZW4ndCBzZXQgYmVmb3JlIGluaXRcbiAgICAgIGlmICghaWQpIHtcbiAgICAgICAgaWQgPSAkY29udHJvbC5jbG9zZXN0KCdbZGF0YS10YXJnZXRdJykuZGF0YSgndGFyZ2V0JylcbiAgICAgIH1cblxuICAgICAgLy8gRmluZCBzaG93L2hpZGUgY29udGVudCBieSBpZFxuICAgICAgcmV0dXJuICQoJyMnICsgaWQpXG4gICAgfVxuXG4gICAgLy8gU2hvdyB0b2dnbGVkIGNvbnRlbnQgZm9yIGNvbnRyb2xcbiAgICBmdW5jdGlvbiBzaG93VG9nZ2xlZENvbnRlbnQgKCRjb250cm9sLCAkY29udGVudCkge1xuICAgICAgLy8gU2hvdyBjb250ZW50XG4gICAgICBpZiAoJGNvbnRlbnQuaGFzQ2xhc3MoJ2pzLWhpZGRlbicpKSB7XG4gICAgICAgICRjb250ZW50LnJlbW92ZUNsYXNzKCdqcy1oaWRkZW4nKVxuICAgICAgICAkY29udGVudC5hdHRyKCdhcmlhLWhpZGRlbicsICdmYWxzZScpXG5cbiAgICAgICAgLy8gSWYgdGhlIGNvbnRyb2xsaW5nIGlucHV0LCB1cGRhdGUgYXJpYS1leHBhbmRlZFxuICAgICAgICBpZiAoJGNvbnRyb2wuYXR0cignYXJpYS1jb250cm9scycpKSB7XG4gICAgICAgICAgJGNvbnRyb2wuYXR0cignYXJpYS1leHBhbmRlZCcsICd0cnVlJylcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEhpZGUgdG9nZ2xlZCBjb250ZW50IGZvciBjb250cm9sXG4gICAgZnVuY3Rpb24gaGlkZVRvZ2dsZWRDb250ZW50ICgkY29udHJvbCwgJGNvbnRlbnQpIHtcbiAgICAgICRjb250ZW50ID0gJGNvbnRlbnQgfHwgZ2V0VG9nZ2xlZENvbnRlbnQoJGNvbnRyb2wpXG5cbiAgICAgIC8vIEhpZGUgY29udGVudFxuICAgICAgaWYgKCEkY29udGVudC5oYXNDbGFzcygnanMtaGlkZGVuJykpIHtcbiAgICAgICAgJGNvbnRlbnQuYWRkQ2xhc3MoJ2pzLWhpZGRlbicpXG4gICAgICAgICRjb250ZW50LmF0dHIoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKVxuXG4gICAgICAgIC8vIElmIHRoZSBjb250cm9sbGluZyBpbnB1dCwgdXBkYXRlIGFyaWEtZXhwYW5kZWRcbiAgICAgICAgaWYgKCRjb250cm9sLmF0dHIoJ2FyaWEtY29udHJvbHMnKSkge1xuICAgICAgICAgICRjb250cm9sLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIHJhZGlvIHNob3cvaGlkZVxuICAgIGZ1bmN0aW9uIGhhbmRsZVJhZGlvQ29udGVudCAoJGNvbnRyb2wsICRjb250ZW50KSB7XG4gICAgICAvLyBBbGwgcmFkaW9zIGluIHRoaXMgZ3JvdXAgd2hpY2ggY29udHJvbCBjb250ZW50XG4gICAgICB2YXIgc2VsZWN0b3IgPSBzZWxlY3RvcnMucmFkaW8gKyAnW25hbWU9JyArIGVzY2FwZUVsZW1lbnROYW1lKCRjb250cm9sLmF0dHIoJ25hbWUnKSkgKyAnXVthcmlhLWNvbnRyb2xzXSdcbiAgICAgIHZhciAkZm9ybSA9ICRjb250cm9sLmNsb3Nlc3QoJ2Zvcm0nKVxuICAgICAgdmFyICRyYWRpb3MgPSAkZm9ybS5sZW5ndGggPyAkZm9ybS5maW5kKHNlbGVjdG9yKSA6ICQoc2VsZWN0b3IpXG5cbiAgICAgIC8vIEhpZGUgY29udGVudCBmb3IgcmFkaW9zIGluIGdyb3VwXG4gICAgICAkcmFkaW9zLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICBoaWRlVG9nZ2xlZENvbnRlbnQoJCh0aGlzKSlcbiAgICAgIH0pXG5cbiAgICAgIC8vIFNlbGVjdCBjb250ZW50IGZvciB0aGlzIGNvbnRyb2xcbiAgICAgIGlmICgkY29udHJvbC5pcygnW2FyaWEtY29udHJvbHNdJykpIHtcbiAgICAgICAgc2hvd1RvZ2dsZWRDb250ZW50KCRjb250cm9sLCAkY29udGVudClcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgY2hlY2tib3ggc2hvdy9oaWRlXG4gICAgZnVuY3Rpb24gaGFuZGxlQ2hlY2tib3hDb250ZW50ICgkY29udHJvbCwgJGNvbnRlbnQpIHtcbiAgICAgIC8vIFNob3cgY2hlY2tib3ggY29udGVudFxuICAgICAgaWYgKCRjb250cm9sLmlzKCc6Y2hlY2tlZCcpKSB7XG4gICAgICAgIHNob3dUb2dnbGVkQ29udGVudCgkY29udHJvbCwgJGNvbnRlbnQpXG4gICAgICB9IGVsc2UgeyAvLyBIaWRlIGNoZWNrYm94IGNvbnRlbnRcbiAgICAgICAgaGlkZVRvZ2dsZWRDb250ZW50KCRjb250cm9sLCAkY29udGVudClcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgY2hlY2tib3ggc2hvdy9oaWRlXG4gICAgZnVuY3Rpb24gaGFuZGxlTGlua0NvbnRlbnQgKCRjb250cm9sLCAkY29udGVudCwgJGV2ZW50KSB7XG4gICAgICBpZiAoJGNvbnRlbnQuaGFzQ2xhc3MoJ2pzLWhpZGRlbicpKSB7XG4gICAgICAgIHNob3dUb2dnbGVkQ29udGVudCgkY29udHJvbCwgJGNvbnRlbnQpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBoaWRlVG9nZ2xlZENvbnRlbnQoJGNvbnRyb2wsICRjb250ZW50KVxuICAgICAgfVxuICAgICAgJGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICB9XG5cbiAgICAvLyBTZXQgdXAgZXZlbnQgaGFuZGxlcnMgZXRjXG4gICAgZnVuY3Rpb24gaW5pdCAoJGNvbnRhaW5lciwgZWxlbWVudFNlbGVjdG9yLCBldmVudFNlbGVjdG9ycywgaGFuZGxlcikge1xuICAgICAgJGNvbnRhaW5lciA9ICRjb250YWluZXIgfHwgJChkb2N1bWVudC5ib2R5KVxuXG4gICAgICAvLyBIYW5kbGUgY29udHJvbCBjbGlja3NcbiAgICAgIGZ1bmN0aW9uIGRlZmVycmVkIChldmVudCkge1xuICAgICAgICB2YXIgJGNvbnRyb2wgPSAkKHRoaXMpXG4gICAgICAgIGhhbmRsZXIoJGNvbnRyb2wsIGdldFRvZ2dsZWRDb250ZW50KCRjb250cm9sKSwgZXZlbnQpXG4gICAgICB9XG5cbiAgICAgIC8vIFByZXBhcmUgQVJJQSBhdHRyaWJ1dGVzXG4gICAgICB2YXIgJGNvbnRyb2xzID0gJChlbGVtZW50U2VsZWN0b3IpXG4gICAgICAkY29udHJvbHMuZWFjaChpbml0VG9nZ2xlZENvbnRlbnQpXG5cbiAgICAgIC8vIEhhbmRsZSBldmVudHNcbiAgICAgICQuZWFjaChldmVudFNlbGVjdG9ycywgZnVuY3Rpb24gKGlkeCwgZXZlbnRTZWxlY3Rvcikge1xuICAgICAgICAkY29udGFpbmVyLm9uKCdjbGljay4nICsgc2VsZWN0b3JzLm5hbWVzcGFjZSwgZXZlbnRTZWxlY3RvciwgZGVmZXJyZWQpXG4gICAgICB9KVxuXG4gICAgICAvLyBBbnkgYWxyZWFkeSA6Y2hlY2tlZCBvbiBpbml0P1xuICAgICAgaWYgKCRjb250cm9scy5pcygnOmNoZWNrZWQnKSkge1xuICAgICAgICAkY29udHJvbHMuZmlsdGVyKCc6Y2hlY2tlZCcpLmVhY2goZGVmZXJyZWQpXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gR2V0IGV2ZW50IHNlbGVjdG9ycyBmb3IgYWxsIHJhZGlvIGdyb3Vwc1xuICAgIGZ1bmN0aW9uIGdldEV2ZW50U2VsZWN0b3JzRm9yUmFkaW9Hcm91cHMgKCkge1xuICAgICAgdmFyIHJhZGlvR3JvdXBzID0gW11cblxuICAgICAgLy8gQnVpbGQgYW4gYXJyYXkgb2YgcmFkaW8gZ3JvdXAgc2VsZWN0b3JzXG4gICAgICByZXR1cm4gJChzZWxlY3RvcnMucmFkaW8pLm1hcChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBncm91cE5hbWUgPSAkKHRoaXMpLmF0dHIoJ25hbWUnKVxuXG4gICAgICAgIGlmICgkLmluQXJyYXkoZ3JvdXBOYW1lLCByYWRpb0dyb3VwcykgPT09IC0xKSB7XG4gICAgICAgICAgcmFkaW9Hcm91cHMucHVzaChncm91cE5hbWUpXG4gICAgICAgICAgcmV0dXJuICdpbnB1dFt0eXBlPVwicmFkaW9cIl1bbmFtZT1cIicgKyAkKHRoaXMpLmF0dHIoJ25hbWUnKSArICdcIl0nXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgLy8gU2V0IHVwIHJhZGlvIHNob3cvaGlkZSBjb250ZW50IGZvciBjb250YWluZXJcbiAgICBzZWxmLnNob3dIaWRlUmFkaW9Ub2dnbGVkQ29udGVudCA9IGZ1bmN0aW9uICgkY29udGFpbmVyKSB7XG4gICAgICBpbml0KCRjb250YWluZXIsIHNlbGVjdG9ycy5yYWRpbywgZ2V0RXZlbnRTZWxlY3RvcnNGb3JSYWRpb0dyb3VwcygpLCBoYW5kbGVSYWRpb0NvbnRlbnQpXG4gICAgfVxuXG4gICAgLy8gU2V0IHVwIGNoZWNrYm94IHNob3cvaGlkZSBjb250ZW50IGZvciBjb250YWluZXJcbiAgICBzZWxmLnNob3dIaWRlQ2hlY2tib3hUb2dnbGVkQ29udGVudCA9IGZ1bmN0aW9uICgkY29udGFpbmVyKSB7XG4gICAgICBpbml0KCRjb250YWluZXIsIHNlbGVjdG9ycy5jaGVja2JveCwgW3NlbGVjdG9ycy5jaGVja2JveF0sIGhhbmRsZUNoZWNrYm94Q29udGVudClcbiAgICB9XG5cbiAgICAvLyBTZXQgdXAgbGlua3Mgc2hvdy9oaWRlIGNvbnRlbnQgZm9yIGNvbnRhaW5lclxuICAgIHNlbGYuc2hvd0hpZGVMaW5rVG9nZ2xlZENvbnRlbnQgPSBmdW5jdGlvbiAoJGNvbnRhaW5lcikge1xuICAgICAgaW5pdCgkY29udGFpbmVyLCBzZWxlY3RvcnMubGluaywgW3NlbGVjdG9ycy5saW5rXSwgaGFuZGxlTGlua0NvbnRlbnQpXG4gICAgfVxuXG4gICAgLy8gUmVtb3ZlIGV2ZW50IGhhbmRsZXJzXG4gICAgc2VsZi5kZXN0cm95ID0gZnVuY3Rpb24gKCRjb250YWluZXIpIHtcbiAgICAgICRjb250YWluZXIgPSAkY29udGFpbmVyIHx8ICQoZG9jdW1lbnQuYm9keSlcbiAgICAgICRjb250YWluZXIub2ZmKCcuJyArIHNlbGVjdG9ycy5uYW1lc3BhY2UpXG4gICAgfVxuICB9XG5cbiAgU2hvd0hpZGVDb250ZW50LnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKCRjb250YWluZXIpIHtcbiAgICB0aGlzLnNob3dIaWRlUmFkaW9Ub2dnbGVkQ29udGVudCgkY29udGFpbmVyKVxuICAgIHRoaXMuc2hvd0hpZGVDaGVja2JveFRvZ2dsZWRDb250ZW50KCRjb250YWluZXIpXG4gICAgdGhpcy5zaG93SGlkZUxpbmtUb2dnbGVkQ29udGVudCgkY29udGFpbmVyKVxuICB9XG5cbiAgR09WVUsuU2hvd0hpZGVDb250ZW50ID0gU2hvd0hpZGVDb250ZW50XG4gIGdsb2JhbC5HT1ZVSyA9IEdPVlVLXG59KSh3aW5kb3cpXG4iLCJ2YXIgdG9nZ2xlVGlwcyA9ICQoJy50b2dnbGUtaGVscCcpO1xuXG50b2dnbGVUaXBzLmVhY2goZnVuY3Rpb24gKCkge1xuXG4gIHZhciAkdGhhdCxcbiAgICBsaXZlUmVnaW9uLFxuICAgIGNvbnRhaW5lcixcbiAgICB0b2dnbGVUaXA7XG5cbiAgJHRoYXQgPSAkKHRoaXMpO1xuXG4gIGNvbnRhaW5lciA9ICQoJzxzcGFuIC8+JykuYXR0cignY2xhc3MnLCAndG9nZ2xldGlwJyk7XG5cbiAgdG9nZ2xlVGlwID0gJCgnPGJ1dHRvbiAvPicpXG4gICAgLmF0dHIoJ3R5cGUnLCAnYnV0dG9uJylcbiAgICAuYXR0cignYXJpYS1sYWJlbCcsICdIZWxwJylcbiAgICAuYXR0cignZGF0YS10b2dnbGV0aXAtY29udGVudCcsICR0aGF0Lmh0bWwoKSlcbiAgICAudGV4dCgnPycpXG4gICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBtZXNzYWdlID0gJCh0aGlzKS5kYXRhKCd0b2dnbGV0aXAtY29udGVudCcpO1xuICAgICAgdmFyIGxpdmVSZWdpb24gPSAkKHRoaXMpLm5leHQoKTtcbiAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbGl2ZVJlZ2lvbi5odG1sKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gJCgnPHNwYW4gLz4nKVxuICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICByZXR1cm4gJHRoYXQuaHRtbCgpLmxlbmd0aCA+IDUwID8gJ2J1YmJsZSBsb25nJyA6ICdidWJibGUnXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnRleHQobWVzc2FnZSlcbiAgICAgICAgfSlcbiAgICAgIH0sIDEwMCk7XG4gICAgfSlcbiAgICAub24oJ2tleWRvd24nLCBmdW5jdGlvbiAoZSkge1xuICAgICAgaWYgKChlLmtleUNvZGUgfHwgZS53aGljaCkgPT09IDI3KVxuICAgICAgICBsaXZlUmVnaW9uLmh0bWwoJycpO1xuICAgIH0pO1xuXG4gIGxpdmVSZWdpb24gPSAkKCc8c3BhbiAvPicpXG4gICAgLmF0dHIoJ3JvbGUnLCAnc3RhdHVzJyk7XG5cbiAgY29udGFpbmVyLmFwcGVuZCh0b2dnbGVUaXAsIGxpdmVSZWdpb24pO1xuXG4gICR0aGF0LmJlZm9yZShjb250YWluZXIpLnJlbW92ZSgpO1xuXG4gICQoZG9jdW1lbnQpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgaWYgKCR0aGF0WzBdICE9PSAkKGUudGFyZ2V0KSkge1xuICAgICAgbGl2ZVJlZ2lvbi5odG1sKCcnKTtcbiAgICB9XG4gIH0pO1xuXG59KTtcbiIsImZ1bmN0aW9uIHZhbGlkYXRlUGFzc3dvcmQoKSB7XG4gIHZhciBpZCA9ICAkKHRoaXMpLmF0dHIoXCJpZFwiKVxuICAvKkFycmF5IG9mIHJ1bGVzIGFuZCB0aGUgaW5mb3JtYXRpb24gdGFyZ2V0Ki9cbiAgdmFyIHJ1bGVzID0gW3tcbiAgICAgIFBhdHRlcm46IC8oLipbQS1aXSl7Mn0vLFxuICAgICAgVGFyZ2V0OiBgdXBwZXItY2FzZS0ke2lkfWBcbiAgICB9LFxuICAgIHtcbiAgICAgIFBhdHRlcm46IC8oLipbYS16XSl7Mn0vLFxuICAgICAgVGFyZ2V0OiBgbG93ZXItY2FzZS0ke2lkfWBcbiAgICB9LFxuICAgIHtcbiAgICAgIFBhdHRlcm46IC8oLipcXGQpezJ9LyxcbiAgICAgIFRhcmdldDogYG51bWJlcnMtJHtpZH1gXG4gICAgfSxcbiAgXTtcbiAgdmFyIHBhc3N3b3JkID0gJCh0aGlzKS52YWwoKTtcbiAgJChgI2xlbmd0aC0ke2lkfWApLnJlbW92ZUNsYXNzKHBhc3N3b3JkLmxlbmd0aCA+IDcgPyBcImljb24tcmVtb3ZlXCIgOiBcImljb24tb2tcIik7XG4gICQoYCNsZW5ndGgtJHtpZH1gKS5hZGRDbGFzcyhwYXNzd29yZC5sZW5ndGggPiA3ID8gXCJpY29uLW9rXCIgOiBcImljb24tcmVtb3ZlXCIpO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcnVsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAkKFwiI1wiICsgcnVsZXNbaV0uVGFyZ2V0KS5yZW1vdmVDbGFzcyhuZXcgUmVnRXhwKHJ1bGVzW2ldLlBhdHRlcm4pLnRlc3QocGFzc3dvcmQpID8gXCJpY29uLXJlbW92ZVwiIDogXCJpY29uLW9rXCIpOyBcbiAgICAkKFwiI1wiICsgcnVsZXNbaV0uVGFyZ2V0KS5hZGRDbGFzcyhuZXcgUmVnRXhwKHJ1bGVzW2ldLlBhdHRlcm4pLnRlc3QocGFzc3dvcmQpID8gXCJpY29uLW9rXCIgOiBcImljb24tcmVtb3ZlXCIpO1xuICB9XG59XG5cbiQoJy5wYXNzd29yZC1pbnB1dC1jaGVjaycpLmVhY2goXG4gIGZ1bmN0aW9uKGluZGV4LCBlbGVtZW50KSB7XG4gICAgdmFyICRwYXNzd29yZElucHV0ID0gJCh0aGlzKVxuICAgIHZhciBpZCA9ICRwYXNzd29yZElucHV0LmF0dHIoXCJpZFwiKVxuICAgIHZhciB2YWxpZGF0ZVBhc3N3b3JkSHRtbCA9ICQoYDxkaXYgaWQ9J3ZhbGlkYXRpb24tZmVlZGJhY2stJHtpZH0nPmApXG4gICAgLmFwcGVuZChgPGRpdiBpZD0nbGVuZ3RoLSR7aWR9JyBjbGFzcz0naWNvbi1yZW1vdmUnPjggY2hhcmFjdGVycyBtaW5pbXVtPC9kaXY+YClcbiAgICAuYXBwZW5kKGA8ZGl2IGlkPSd1cHBlci1jYXNlLSR7aWR9JyBjbGFzcz0naWNvbi1yZW1vdmUnPmNvbnRhaW4gYXQgbGVhc3QgMiB1cHBlci1jYXNlIGNoYXJhY3RlcnM8L2Rpdj5gKVxuICAgIC5hcHBlbmQoYDxkaXYgaWQ9J2xvd2VyLWNhc2UtJHtpZH0nIGNsYXNzPSdpY29uLXJlbW92ZSc+Y29udGFpbiBhdCBsZWFzdCAyIGxvd2VyLWNhc2UgY2hhcmFjdGVyczwvZGl2PmApXG4gICAgLmFwcGVuZChgPGRpdiBpZD0nbnVtYmVycy0ke2lkfScgY2xhc3M9J2ljb24tcmVtb3ZlJyBzdHlsZT0nbWFyZ2luLWJvdHRvbTogNnB4Oyc+Y29udGFpbiBhdCBsZWFzdCAyIG51bWJlcnM8L2Rpdj5gKTtcbiAgXG4gICAgJHBhc3N3b3JkSW5wdXQuYmVmb3JlKHZhbGlkYXRlUGFzc3dvcmRIdG1sKTtcbiAgfVxuKTtcblxuJCgnLnBhc3N3b3JkLWlucHV0LWNoZWNrJykub24oJ2tleXVwJywgdmFsaWRhdGVQYXNzd29yZCk7IiwidmFyIGZvcm1zID0gJCgnI2NvbnRlbnQgZm9ybScpO1xuLy92YXIgaW5wdXRzID0gZm9ybXMuZmluZCgnLmZvcm0tZ3JvdXAgaW5wdXQnKTtcblxuZm9ybXMuYXR0cignbm92YWxpZGF0ZScsICdub3ZhbGlkYXRlJyk7XG5cbi8qXG5mb3Jtcy5vbignc3VibWl0JywgZnVuY3Rpb24gKCkge1xuICBpbnB1dHMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHJlc3VsdCA9IHRoaXMuY2hlY2tWYWxpZGl0eSgpO1xuICAgIGlmICghcmVzdWx0KSB7XG4gICAgICBzaG93VmFsaWRhdGlvbk1lc3NhZ2UodGhpcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhpZGVWYWxpZGF0aW9uTWVzc2FnZSh0aGlzKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gdGhpcy5jaGVja1ZhbGlkaXR5KCk7XG59KTtcblxuaW5wdXRzLm9uKCdibHVyJywgZnVuY3Rpb24gKCkge1xuICB2YXIgcmVzdWx0ID0gdGhpcy5jaGVja1ZhbGlkaXR5KCk7XG4gIGlmICghcmVzdWx0KSB7XG4gICAgc2hvd1ZhbGlkYXRpb25NZXNzYWdlKHRoaXMpO1xuICB9IGVsc2Uge1xuICAgIGhpZGVWYWxpZGF0aW9uTWVzc2FnZSh0aGlzKTtcbiAgfVxufSk7XG5cbnZhciBzaG93VmFsaWRhdGlvbk1lc3NhZ2UgPSBmdW5jdGlvbiAoZmllbGQpIHtcblxuICB2YXIgZmllbGQgPSBmaWVsZCxcbiAgICAkZmllbGQgPSAkKGZpZWxkKSxcbiAgICAkcGFyZW50ID0gJGZpZWxkLnBhcmVudCgpO1xuXG4gIGlmICgkcGFyZW50Lmhhc0NsYXNzKCdzaG93LXBhc3N3b3JkJykpIHtcbiAgICAkcGFyZW50ID0gJHBhcmVudC5wYXJlbnQoKTtcbiAgfVxuXG4gIGlmICghJHBhcmVudC5oYXNDbGFzcygnZ292dWstZm9ybS1ncm91cC0tZXJyb3InKSkge1xuXG4gICAgdmFyIGxhYmVsVGV4dCA9ICRmaWVsZC5kYXRhKCdsYWJlbCcpIHx8ICQoXCJsYWJlbFtmb3I9J1wiICsgJGZpZWxkLmF0dHIoJ2lkJykgKyBcIiddXCIpLnRleHQoKSxcbiAgICAgIGVycm9yTWVzc2FnZVRleHQgPSAnRW50ZXIgYSB2YWxpZCAnICsgbGFiZWxUZXh0LnRvTG93ZXJDYXNlKCksXG4gICAgICBlcnJvck1lc3NhZ2UgPSAkKCc8cCBjbGFzcz1cImdvdnVrLWJvZHlcIj4nKVxuICAgICAgICAuaHRtbChlcnJvck1lc3NhZ2VUZXh0KVxuICAgICAgICAucHJvcCgnY2xhc3MnLCAnZXJyb3ItbWVzc2FnZScpXG4gICAgICAgIC5wcm9wKCdpZCcsICd2YWxpZGF0aW9uLScgKyBzbHVnaWZ5KGxhYmVsVGV4dCkpO1xuXG4gICAgJGZpZWxkLmJlZm9yZShlcnJvck1lc3NhZ2UpO1xuICAgICRwYXJlbnQuYWRkQ2xhc3MoJ2dvdnVrLWZvcm0tZ3JvdXAtLWVycm9yJyk7XG4gICAgJGZpZWxkLmF0dHIoe1xuICAgICAgJ2FyaWEtZGVzY3JpYmVkYnknIDogJ3ZhbGlkYXRpb24tJyArIHNsdWdpZnkobGFiZWxUZXh0KSxcbiAgICAgICdhcmlhLWludmFsaWQnOiAndHJ1ZSdcbiAgICB9KTtcbiAgfVxufVxuXG52YXIgaGlkZVZhbGlkYXRpb25NZXNzYWdlID0gZnVuY3Rpb24gKGZpZWxkKSB7XG4gIHZhciBmaWVsZCA9IGZpZWxkLFxuICAgICRmaWVsZCA9ICQoZmllbGQpLFxuICAgICRwYXJlbnQgPSAkZmllbGQucGFyZW50KCk7XG5cbiAgaWYgKCRwYXJlbnQuaGFzQ2xhc3MoJ3Nob3ctcGFzc3dvcmQnKSkge1xuICAgICRwYXJlbnQgPSAkcGFyZW50LnBhcmVudCgpO1xuICB9XG5cbiAgJHBhcmVudC5yZW1vdmVDbGFzcygnZ292dWstZm9ybS1ncm91cC0tZXJyb3InKTtcbiAgJHBhcmVudC5maW5kKCdwLmVycm9yLW1lc3NhZ2UnKS5yZW1vdmUoKTtcbiAgJGZpZWxkLnJlbW92ZUF0dHIoJ2FyaWEtZGVzY3JpYmVkYnknKTtcbiAgJGZpZWxkLnJlbW92ZUF0dHIoJ2FyaWEtaW52YWxpZCcpO1xufVxuXG52YXIgc2x1Z2lmeSA9IGZ1bmN0aW9uICh0ZXh0KSB7XG4gIHJldHVybiB0ZXh0LnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKVxuICAgIC5yZXBsYWNlKC9cXHMrL2csICctJylcbiAgICAucmVwbGFjZSgvW15cXHdcXC1dKy9nLCAnJylcbiAgICAucmVwbGFjZSgvXFwtXFwtKy9nLCAnLScpXG4gICAgLnJlcGxhY2UoL14tKy8sICcnKVxuICAgIC5yZXBsYWNlKC8tKyQvLCAnJyk7XG59XG5cbiovXG4iLCJ2YXIgTlNBID0gTlNBIHx8IHt9O1xuXG5OU0EgPSB7XG5cbiAgaW5pdGlhbGlzZVNob3dQYXNzd29yZCA6IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBHZXQgYWxsIHRoZSBwYXNzd29yZCBpbnB1dHMgaW4gdGhlIHBhZ2UgYW5kIGxvb3AgdGhyb3VnaCB0aGVtIHRvIGFkZCB0aGUgc2hvdy9oaWRlIGJ1dHRvblxuICAgIHZhciAkcGFzc3dvcmRJbnB1dHMgPSAkKCcucGFzc3dvcmQtaW5wdXQnKTtcbiAgICAkcGFzc3dvcmRJbnB1dHMuZWFjaChmdW5jdGlvbiAoaSkge1xuICAgICAgdmFyICR0aGF0ID0gJCh0aGlzKTtcbiAgICAgIC8vIENyZWF0ZSBzaG93L2hpZGUgYnV0dG9uXG4gICAgICB2YXIgJHNob3dCdXR0b24gPSAkKCc8YnV0dG9uIC8+JykucHJvcCh7IHR5cGU6ICdidXR0b24nLCBjbGFzczogJ3Nob3ctcGFzc3dvcmQgZ292dWstYnV0dG9uIGdvdnVrLWJ1dHRvbi0tc2Vjb25kYXJ5IGdvdnVrLSEtbWFyZ2luLWJvdHRvbS0xJywgYXJpYUxhYmVsID0gJ1Nob3cgcGFzc3dvcmQnIH0pO1xuICAgICAgJHNob3dCdXR0b24uaHRtbCgnU2hvdycpO1xuICAgICAgLy8gV2hlbiBjbGlja2luZyBvbiB0aGF0IGJ1dHRvbiB3ZSB3aWxsIHNob3cvaGlkZSB0aGUgcGFzc3dvcmQgYWNjb3JkaW5nbHlcbiAgICAgICRzaG93QnV0dG9uLm9uKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gICAgICAgIGlmKCR0aGF0LmF0dHIoJ3R5cGUnKSA9PT0gJ3Bhc3N3b3JkJyl7XG4gICAgICAgICAgJHRoYXQuYXR0cihcInR5cGVcIiwgXCJ0ZXh0XCIpO1xuICAgICAgICAgICRzaG93QnV0dG9uLnRleHQoXCJIaWRlXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICR0aGF0LmF0dHIoXCJ0eXBlXCIsIFwicGFzc3dvcmRcIik7XG4gICAgICAgICAgJHNob3dCdXR0b24udGV4dChcIlNob3dcIik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgLy8gQWRkIGJ1dHRvbiB0byB0aGUgZG9jdW1lbnRcbiAgICAgICR0aGF0LmFmdGVyKCRzaG93QnV0dG9uKTtcbiAgICB9KTtcbiAgfSxcblxuICBiYWNrTGluazogZnVuY3Rpb24gKCkge1xuICAgIHZhciBiYWNrTGluayA9ICQoJzxhPicpXG4gICAgICAuYXR0cih7ICdocmVmJzogJyMnLCBcImNsYXNzXCI6IFwiZ292dWstYmFjay1saW5rLWJvbGRcIiB9KVxuICAgICAgLnRleHQoJ0JhY2snKVxuICAgICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7IHdpbmRvdy5oaXN0b3J5LmJhY2soKTsgZS5wcmV2ZW50RGVmYXVsdCgpOyB9KTtcbiAgICAkKCcuanMtYmFjay1saW5rJykuaHRtbChiYWNrTGluayk7XG4gIH0sXG59O1xuXG5cbmlmICgkKCdzZWxlY3Quc2VsZWN0MicpLmxlbmd0aCA+IDApIHtcbiAgJCgnc2VsZWN0LnNlbGVjdDInKS5zZWxlY3QyKHttYXRjaGVyOiBzZWxlY3QyTW9kZWxNYXRjaGVyfSk7XG59XG5cbmZ1bmN0aW9uIHNlbGVjdDJNb2RlbE1hdGNoZXIgKHBhcmFtcywgZGF0YSkge1xuICBkYXRhLnBhcmVudFRleHQgPSBkYXRhLnBhcmVudFRleHQgfHwgXCJcIjtcbiAgaWYgKHR5cGVvZihwYXJhbXMudGVybSkgPT09ICd1bmRlZmluZWQnIHx8ICFwYXJhbXMudGVybSB8fCBwYXJhbXMudGVybS50cmltKCkgPT09ICcnKSB7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cbiAgaWYgKGRhdGEuY2hpbGRyZW4gJiYgZGF0YS5jaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgdmFyIG1hdGNoID0gJC5leHRlbmQodHJ1ZSwge30sIGRhdGEpO1xuICAgIGZvciAodmFyIGMgPSBkYXRhLmNoaWxkcmVuLmxlbmd0aCAtIDE7IGMgPj0gMDsgYy0tKSB7XG4gICAgICB2YXIgY2hpbGQgPSBkYXRhLmNoaWxkcmVuW2NdO1xuICAgICAgY2hpbGQucGFyZW50VGV4dCArPSBkYXRhLnBhcmVudFRleHQgKyBcIiBcIiArIGRhdGEudGV4dDtcbiAgICAgIHZhciBtYXRjaGVzID0gc2VsZWN0Mk1vZGVsTWF0Y2hlcihwYXJhbXMsIGNoaWxkKTtcbiAgICAgIGlmIChtYXRjaGVzID09IG51bGwpIHtcbiAgICAgICAgbWF0Y2guY2hpbGRyZW4uc3BsaWNlKGMsIDEpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAobWF0Y2guY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIG1hdGNoO1xuICAgIH1cbiAgICByZXR1cm4gc2VsZWN0Mk1vZGVsTWF0Y2hlcihwYXJhbXMsIG1hdGNoKTtcbiAgfVxuICB2YXIgb3JpZ2luYWwgPSAoZGF0YS5wYXJlbnRUZXh0ICsgJyAnICsgZGF0YS50ZXh0KS50b1VwcGVyQ2FzZSgpO1xuICB2YXIgdGVybSA9IHBhcmFtcy50ZXJtLnRvVXBwZXJDYXNlKCk7XG4gIGlmIChvcmlnaW5hbC5pbmRleE9mKHRlcm0pID4gLTEpIHtcbiAgICByZXR1cm4gZGF0YTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuaWYgKCQoJy5wYXNzd29yZC1pbnB1dCcpLmxlbmd0aCA+IDApIHtcbiAgTlNBLmluaXRpYWxpc2VTaG93UGFzc3dvcmQoKTtcbn1cblxuaWYgKCQoJy5qcy1iYWNrLWxpbmsnKSkge1xuICBOU0EuYmFja0xpbmsoKTtcbn1cblxuJCgnLnVuZGVyLWNvbnN0cnVjdGlvbicpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gIGFsZXJ0KCdUaGlzIGZ1bmN0aW9uYWxpdHkgaXMgbm90IGF2YWlsYWJsZSB5ZXQnKTtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xufSk7XG5cbmlmICgkKCcubm90aWZpY2F0aW9uIHNwYW4uaWNvbicpLmxlbmd0aCA+IDApIHtcbiAgJCgnLm5vdGlmaWNhdGlvbiBzcGFuLmljb24nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgJCh0aGlzKS5wYXJlbnQoKS5oaWRlKCk7XG4gIH0pO1xufVxuXG5pZiAoJCgnYXJ0aWNsZS5vcmdhbmlzYXRpb24tc2VydmljZXMnKS5sZW5ndGggPiAwKSB7XG5cbiAgJCgnLmluZm9ybWF0aW9uJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgaW5mbyA9ICQodGhpcykucGFyZW50KCkucGFyZW50KCkuZmluZCgnLnNlcnZpY2UtZGVzY3JpcHRpb24nKTtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgaW5mby50b2dnbGUoKTtcbiAgfSk7XG5cbiAgJCgnLmluZm8tbGluaycpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIG1ldGEgPSAkKHRoaXMpLnBhcmVudCgpLm5leHQoKTtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgbWV0YS50b2dnbGUoKTtcbiAgfSk7XG59XG5cbnZhciBzZWFyY2hGaWVsZHMgPSAkKCdmb3JtIC5zZWFyY2gtZmllbGQnKTtcblxuaWYgKHNlYXJjaEZpZWxkcy5sZW5ndGggPiAwKSB7XG5cbiAgdmFyIGxvYWRlciA9ICQoJzxzcGFuIC8+JykuYWRkQ2xhc3MoJ2xvYWRlciBzcGlubmVyLWlubGluZScpO1xuICB2YXIgYjEgPSAkKCc8c3BhbiAvPicpLmFkZENsYXNzKCdiYWxsIGItMScpO1xuICB2YXIgYjIgPSAkKCc8c3BhbiAvPicpLmFkZENsYXNzKCdiYWxsIGItMicpO1xuICBsb2FkZXIuYXBwZW5kKGIxKS5hcHBlbmQoYjIpO1xuXG4gIHNlYXJjaEZpZWxkcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZm9ybSA9ICQodGhpcykucGFyZW50KCk7XG4gICAgdmFyIGJ1dHRvbiA9IGZvcm0uZmluZCgnYnV0dG9uJyk7XG4gICAgZm9ybS5vbignc3VibWl0JywgZnVuY3Rpb24gKCkge1xuICAgICAgYnV0dG9uLmFmdGVyKGxvYWRlcikuaGlkZSgpO1xuICAgIH0pO1xuICB9KTtcbn1cblxudmFyIHJlZGlyZWN0ID0gJCgnI3JlZGlyZWN0LXVybCcpO1xuXG4kKCcjYWRkLXJlZGlyZWN0Jykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICQoJzxwIGNsYXNzPVwiZ292dWstYm9keVwiPjxsYWJlbCBmb3I9XCJyZWRpcmVjdC11cmxcIj48aW5wdXQgY2xhc3M9XCJmb3JtLWNvbnRyb2wgaW5wdXRDb25maWcgZ292dWstaW5wdXRcIiBuYW1lPVwicmVkaXJlY3RfdXJpc1wiPjwvbGFiZWw+PC9wPicpLmFwcGVuZFRvKHJlZGlyZWN0KTtcbiAgcmV0dXJuIGZhbHNlO1xufSk7XG5cbnZhciBsb2dvdXQgPSAkKCcjbG9nb3V0LXVybCcpO1xuXG4kKCcjYWRkLWxvZ291dCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAkKCc8cCBjbGFzcz1cImdvdnVrLWJvZHlcIj48bGFiZWwgZm9yPVwibG9nb3V0LXVybFwiPjxpbnB1dCBjbGFzcz1cImZvcm0tY29udHJvbCBpbnB1dENvbmZpZyBnb3Z1ay1pbnB1dFwiIG5hbWU9XCJwb3N0X2xvZ291dF9yZWRpcmVjdF91cmlzXCI+PC9sYWJlbD48L3A+JykuYXBwZW5kVG8obG9nb3V0KTtcbiAgcmV0dXJuIGZhbHNlO1xufSk7XG5cblxuJCgnI2dlbmVyYXRlLWNsaWVudC1zZWNyZXQnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgdmFyIHNlY3JldEFycmF5ID0gd2luZG93Lm5pY2V3YXJlLmdlbmVyYXRlUGFzc3BocmFzZSg4KTtcbiAgdmFyIHNlY3JldCA9IHNlY3JldEFycmF5LmpvaW4oJy0nKTtcbiAgdmFyIGlzQ29uZmlybSA9IGNvbmZpcm0oJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byByZWdlbmVyYXRlIHRoZSBjbGllbnQgc2VjcmV0PycpO1xuICBpZiAoaXNDb25maXJtKSB7XG4gICAgJCgnaW5wdXQjY2xpZW50U2VjcmV0JykuYXR0cigndmFsdWUnLCBzZWNyZXQpO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn0pO1xuXG4kKCcjZ2VuZXJhdGUtYXBpLXNlY3JldCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICB2YXIgc2VjcmV0QXJyYXkgPSB3aW5kb3cubmljZXdhcmUuZ2VuZXJhdGVQYXNzcGhyYXNlKDgpO1xuICB2YXIgc2VjcmV0ID0gc2VjcmV0QXJyYXkuam9pbignLScpO1xuICB2YXIgaXNDb25maXJtID0gY29uZmlybSgnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIHJlZ2VuZXJhdGUgdGhlIGFwaSBzZWNyZXQ/Jyk7XG4gIGlmIChpc0NvbmZpcm0pIHtcbiAgICAkKCdpbnB1dCNhcGlTZWNyZXQnKS5hdHRyKCd2YWx1ZScsIHNlY3JldCk7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufSk7XG5cbnZhciBmb3JtUmVnaXN0ZXIgPSAkKCcucHJldmVudC1mb3JtLWRvdWJsZS1zdWJtaXNzaW9uJyk7XG5cbmlmIChmb3JtUmVnaXN0ZXIubGVuZ3RoID4gMCkge1xuICBmb3JtUmVnaXN0ZXIuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgdmFyICRzdWJtaXRCdXR0b25zID0gJChmb3JtUmVnaXN0ZXIpLmZpbmQoJ2J1dHRvbjpzdWJtaXQnKSwgJHN1Ym1pdEJ1dHRvbiA9ICRzdWJtaXRCdXR0b25zLmVxKDApO1xuICAgIGZvcm1SZWdpc3Rlci5vbignc3VibWl0JywgZnVuY3Rpb24gKCkge1xuICAgICAgJHN1Ym1pdEJ1dHRvbnMuYXR0cignZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcblxuICAgICAgJHN1Ym1pdEJ1dHRvbi5jc3MoJ21pbi13aWR0aCcsICRzdWJtaXRCdXR0b24ub3V0ZXJXaWR0aCgpICsgJ3B4Jyk7XG5cbiAgICAgICRzdWJtaXRCdXR0b24uYXBwZW5kKFwiPHNwYW4gY2xhc3M9J2xvYWRlciBzcGlubmVyLWlubGluZSc+IDxzcGFuIGNsYXNzPSdiYWxsIGItMSc+PC9zcGFuPiA8c3BhbiBjbGFzcz0nYmFsbCBiLTInPjwvc3Bhbj4gPHNwYW4gY2xhc3M9J2JhbGwgYi0zJz48L3NwYW4+IDwvc3Bhbj5cIik7XG5cbiAgICB9KTtcbiAgfSk7XG59XG5cbiQoJy5hdXRvLXNjcm9sbC1vbi1jaGFuZ2UnKS5vbignY2hhbmdlJywgZnVuY3Rpb24oZSkge1xuICAkKHdpbmRvdykuc2Nyb2xsVG9wKCQoJy5hdXRvLXNjcm9sbC1kZXN0JykucG9zaXRpb24oKS50b3ApO1xufSk7XG5cbiQoJy5jbG9zZS1idXR0b24nKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gIHZhciBub3RpZmljYXRpb24gPSBlLnRhcmdldC5jbG9zZXN0KFwiLmdvdnVrLW5vdGlmaWNhdGlvbi1iYW5uZXJcIik7XG4gIG5vdGlmaWNhdGlvbi5yZW1vdmUoKTtcbn0pO1xuXG4vLyBzZWxlY3QgbmV4dCBlbGVtZW50IGluIHRoZSB0ZW1wbGF0ZSwgc2hvdyBpdCBhbmQgaGlkZSB0aGUgdG9nZ2xlIGxpbmtcbiQoJy50b2dnbGUtb3BlbicpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gIHZhciBtZXRhID0gJCh0aGlzKS5uZXh0KCk7XG4gIGUucHJldmVudERlZmF1bHQoKTtcbiAgbWV0YS5yZW1vdmVDbGFzcygnZ292dWstdmlzdWFsbHktaGlkZGVuJyk7XG4gICQodGhpcykuYWRkQ2xhc3MoJ2dvdnVrLXZpc3VhbGx5LWhpZGRlbicpO1xufSk7XG5cbi8vICNyZWdpb24gU2Vzc2lvbiB0aW1lIG91dFxuZnVuY3Rpb24gc2Vzc2lvblRpbWVvdXQoKSB7XG4gIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd1cmknKTtcbiAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3RhYnMnLCAgJzEnKTtcbiAgJCgnLnNlc3Npb24tdGltZW91dC1vdmVybGF5Jykuc2hvdygpO1xuICAkKCcjbW9kYWwtc2lnbmluJykuZm9jdXMoKTtcbiAgc3RhcnRUaW1lcigpO1xuICB9LCAxNCAqIDYwICogMTAwMCk7IC8vIG1pbnV0ZSAqIHNlY29uZHMgKiBtaWxsaXNlY29uZHMgZS5nIDE0ICogNjAgKiAxMDAwXG59XG5cbiQoJyNtb2RhbC1zaWduaW4nKS5vbihcImNsaWNrXCIsICgpPT57XG4gIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0YWJzJywgJzAnKVxuICBsb2NhdGlvbi5yZWxvYWQoKTtcbn0pO1xuXG4kKCcjbW9kYWwtc2lnbm91dCcpLm9uKFwiY2xpY2tcIiwgKCk9PntcbiAgbG9jYXRpb24uaHJlZiA9ICcvc2lnbm91dCdcbn0pO1xuXG5mdW5jdGlvbiBzdGFydFRpbWVyKCkge1xuXG4gIHZhciB0aW1lUGxhY2VIb2xkZXIgPSBcIjQgbWludXRlcyBhbmQgNjAgc2Vjb25kc1wiO1xuICB2YXIgdGltZW91dFRpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG5cbiAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0YWJzJykgPT09ICcwJyl7XG4gICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpO1xuICB9XG5cbiAgdmFyIHRpbWVyID0gdGltZVBsYWNlSG9sZGVyLnNwbGl0KCdhbmQnKTtcbiAgdmFyIG1pbnV0ZXMgPSBwYXJzZUludCh0aW1lclswXSwgMTApO1xuICB2YXIgc2Vjb25kcyA9IHBhcnNlSW50KHRpbWVyWzFdLCAxMCk7XG4gIC0tc2Vjb25kcztcbiAgbWludXRlcyA9IChzZWNvbmRzIDwgMCkgPyAtLW1pbnV0ZXMgOiBtaW51dGVzO1xuICBzZWNvbmRzID0gKHNlY29uZHMgPCAwKSA/IDU5IDogc2Vjb25kcztcbiAgc2Vjb25kcyA9IChzZWNvbmRzIDwgMTApID8gJzAnICsgc2Vjb25kcyA6IHNlY29uZHM7XG5cbiAgJCgnI21pbnV0ZXMnKS5odG1sKG1pbnV0ZXMpO1xuICAkKCcjc2Vjb25kcycpLmh0bWwoc2Vjb25kcyk7XG5cbiAgaWYgKG1pbnV0ZXMgPCAwIHx8IChzZWNvbmRzIDw9IDApICYmIChtaW51dGVzIDw9IDApKSB7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VyaScsIGxvY2F0aW9uLnBhdGhuYW1lKTtcbiAgICBsb2NhdGlvbi5ocmVmID0gJy9zaWdub3V0J1xuICAgIGNsZWFySW50ZXJ2YWwodGltZW91dFRpbWVyKTtcbiAgfVxuXG4gIHRpbWVQbGFjZUhvbGRlciA9IG1pbnV0ZXMgKyAnIG1pbnV0ZXMgYW5kICcgKyBzZWNvbmRzICsgJyBzZWNvbmRzJztcbn0sIDEwMDApO1xufVxuXG4vLyAjZW5kcmVnaW9uXG5cbnZhciBzaG93SGlkZUNvbnRlbnQgPSBuZXcgR09WVUsuU2hvd0hpZGVDb250ZW50KClcbnNob3dIaWRlQ29udGVudC5pbml0KClcblxuR09WVUsuZGV0YWlscy5pbml0KClcblxuIl19
